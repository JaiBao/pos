<template>
  <div class="orderMenucontainer q-pa-lg-lg">
    <q-dialog v-model="showPersonDialog" maximized>
      <div class="q-pa-xs bg-white">
        <div class="text-h6 w-100 orderWho">訂購人資料</div>
        <div class="row w-100 items-center">
          <div class="col-12 row items-center">
            <q-input
              standout="bg-pink-2 text-black"
              class="q-ma-xs checkdate"
              label="訂購日期"
              :input-style="{ fontSize: '20px', color: 'black' }"
              v-model="personForm.checkDate"
            >
              <template v-slot:append>
                <q-icon name="event" class="cursor-pointer q-mr-xs">
                  <q-popup-proxy
                    cover
                    transition-show="scale"
                    transition-hide="scale"
                    v-model="showDatePicker2"
                  >
                    <q-date
                      v-model="personForm.checkDate"
                      @input="$emit('close')"
                      color="accent"
                      mask="YYYY-MM-DD"
                    >
                      <div class="row items-center justify-end">
                        <q-btn
                          v-close-popup
                          label="Close"
                          color="primary"
                          flat
                        />
                      </div>
                    </q-date>
                  </q-popup-proxy>
                </q-icon>
              </template>
            </q-input>
            <q-input
              standout="bg-pink-2 text-black"
              class="phoneInput"
              v-model="personForm.tel"
              label="訂購人手機"
              @focus="setActiveField(personForm, 'tel')"
              :input-style="{ fontSize: '20px', color: 'black' }"
              :loading="loading"
            />
            <q-input
              class="col q-ml-xs statusSelect"
              standout="bg-pink-2 text-black"
              v-model="personForm.name"
              :input-style="{ fontSize: '17px', color: 'black' }"
              :loading="loading"
              label="訂購人名字"
            />
            <q-option-group
              :options="optionsGender"
              type="radio"
              v-model="personForm.gender"
              dense
              class="optionGroup"
            />
            <q-btn color="accent" class="q-ml-md btndelivery"
              ><div v-show="!personForm.getDate">送達日</div>
              {{ personForm.getDate }}
              <q-popup-proxy
                cover
                v-model="showDatePicker"
                transition-show="scale"
                transition-hide="scale"
                style="width: 800px"
              >
                <q-date
                  v-model="personForm.getDate"
                  @input="$emit('close')"
                  color="accent"
                  mask="YYYY-MM-DD"
                >
                  <div class="row items-center justify-end q-gutter-sm">
                    <q-btn label="取消" color="dark" v-close-popup />
                    <q-btn
                      label="確認"
                      color="primary"
                      @click="save"
                      v-close-popup
                    />
                  </div>
                </q-date>
              </q-popup-proxy>
            </q-btn>
            <q-input
              class="col q-mr-xs weekday"
              v-model="personForm.week"
              standout="bg-pink-2 text-black"
              label="星期"
              :input-style="{ fontSize: '20px', color: 'black' }"
              readonly
            />
            <q-input
              standout="bg-pink-2 text-black"
              class="q-ma-xs col statusSelect"
              v-model="personForm.time"
              label="送達時間範圍"
              @focus="setActiveField(personForm, 'time')"
              mask="####-####"
              :input-style="{ fontSize: '20px', color: 'black' }"
            />

            <div class="text-h6 phoneH6">市話</div>
            <q-input
              class="col q-ml-xs w-150px"
              standout="bg-pink-2 text-black"
              v-model="personForm.prefix"
              type="text"
              label="區碼"
              @focus="setActiveField(personForm, 'prefix')"
              :input-style="{ fontSize: '20px', color: 'black' }"
            />
            <q-input
              class="col q-ml-xs statusSelect"
              standout="bg-pink-2 text-black"
              type="text"
              ref="hometelRef"
              v-model="personForm.hometel"
              label="市內電話"
              @focus="setActiveField(personForm, 'hometel')"
              :input-style="{ fontSize: '20px', color: 'black' }"
            />
            <q-input
              class="col q-ml-xs w-150px"
              standout="bg-pink-2 text-black"
              v-model="personForm.hometel2"
              type="text"
              label="分機"
              @focus="setActiveField(personForm, 'hometel2')"
              :input-style="{ fontSize: '20px', color: 'black' }"
            />
          </div>
        </div>
        <div class="text-h6 w-100 orderWho2 q-mt-md">收件人資料</div>
        <div class="row w-100 items-center q-mt-md">
          <q-select
            class="col q-ma-xs statusSelect"
            standout="bg-pink-2 text-black"
            v-model="personForm.pick"
            label="取貨方式"
            :options="picks"
            emit-value
            map-options
            :input-style="{ fontSize: '18px', color: 'black' }"
          />
          <q-checkbox
            label="同訂購人資料"
            v-model="personForm.sameOrderCustomer"
            class="q-mr-md"
          />
          <q-option-group
            :options="optionsTaxid"
            type="radio"
            dense
            class="q-mx-md"
            v-model="personForm.noCompilation"
          />
          <q-input
            class="col q-pa-xs statusSelect2"
            standout="bg-pink-2 text-black"
            v-model="personForm.compilation"
            label="統編"
            @focus="setActiveField(personForm, 'compilation')"
            :input-style="{ fontSize: '20px', color: 'black' }"
            :readonly="isCompilationReadonly"
            :loading="invoiceIDfinding"
          />
          <q-input
            class="col q-mx-xs w-100"
            standout="bg-pink-2 text-black "
            v-model="personForm.getCompany"
            label="送達公司"
            :input-style="{ fontSize: '20px', color: 'black' }"
          />
          <q-input
            class="col q-pa-xs"
            standout="bg-pink-2 text-black"
            v-model="personForm.department"
            type="text"
            label="部門"
            :input-style="{ fontSize: '20px', color: 'black' }"
          />
        </div>
        <div class="row w-100 items-center q-mt-md">
          <div class="col-6 q-pa-xs row">
            <q-input
              :input-style="{ fontSize: '20px', color: 'black' }"
              label="收件人"
              v-model="personForm.recipient"
              standout="bg-pink-2 text-black"
              class="col q-ma-xs statusSelect"
            />
            <q-option-group
              :options="optionsGender"
              type="radio"
              v-model="personForm.gender2"
              dense
              class="optionGroup"
            />
            <q-input
            class="col q-ma-xs statusSelect"
              standout="bg-pink-2 text-black"
              v-model="personForm.recipientTel"
              @focus="setActiveField(personForm, 'recipientTel')"
              label="收件人手機"
              :input-style="{ fontSize: '20px', color: 'black' }"
            />
            <q-input
              :input-style="{ fontSize: '20px', color: 'black' }"
              label="收件人二"
              v-model="personForm.recipient2"
              standout="bg-pink-2 text-black"
              class="col q-ma-xs statusSelect"
            />
            <q-input
            class="col q-ma-xs statusSelect"
              standout="bg-pink-2 text-black"
              v-model="personForm.recipientTel2"
              label="收件人二手機"
              :input-style="{ fontSize: '20px', color: 'black' }"
            />
          </div>
          <div class="col-6 row items-center">
            <div class="text-h6 q-px-md">送達地址</div>
            <q-select
              class="col q-ma-xs addressSelect"
              standout="bg-pink-2 text-black"
              v-model="personForm.address"
              label="縣市"
              emit-value
              map-options
              :options="address.state"
              :input-style="{ fontSize: '16px', color: 'black' }"
            >
              <template v-if="personForm.address" v-slot:prepend>
                <q-icon
                  name="cancel"
                  @click.stop.prevent="personForm.address = ''"
                  class="cursor-pointer"
                />
              </template>
            </q-select>
            <q-select
              class="col q-ma-xs addressSelect"
              standout="bg-pink-2 text-black"
              v-model="personForm.address2"
              label="區"
              emit-value
              map-options
              :options="address.city"
              :input-style="{ fontSize: '20px', color: 'black' }"
            >
              <template v-if="personForm.address2" v-slot:prepend>
                <q-icon
                  name="cancel"
                  @click.stop.prevent="personForm.address2 = ''"
                  class="cursor-pointer"
                />
              </template>
            </q-select>
            <q-input
              standout="bg-pink-2 text-black "
              class="col q-ma-xs  w-100"
              v-model="personForm.road"
              label="路名"
              ref="roadRef"
              nofocus
              @update:model-value="debouncedFetchRoadData()"
              :input-style="{ fontSize: '20px', color: 'black' }"
            >
              <template v-if="personForm.road" v-slot:prepend>
                <q-icon
                  name="cancel"
                  @click.stop.prevent="personForm.road = ''"
                  class="cursor-pointer"
                />
              </template>
              <template v-if="personForm.address" v-slot:append>
                <q-btn
                  v-if="personForm.address"
                  round
                  dense
                  flat
                  icon="arrow_drop_down"
                  @click="
                    opendialogRoad(
                      personForm.address,
                      personForm.address2,
                      personForm.road
                    )
                  "
                />
              </template>
              <q-menu no-focus no-parent-event v-model="menuState">
                <div
                  v-if="road.roadselect.length > 0"
                  class="row w-100 items-start"
                >
                  <q-item
                    v-for="road1 of road.roadselect"
                    :key="road1.id"
                    clickable
                    class="q-ma-xs col-1 roadBtn"
                    v-close-popup
                    @click="onItemClick(road1.value, road1.label)"
                  >
                    <q-item-section>
                      <span v-if="personForm.address2"> {{ road1.value }}</span>
                      <span v-else> {{ road1.label }} </span>
                    </q-item-section>
                  </q-item>
                </div>
                <q-spinner
                  v-else
                  color="primary"
                  size="3rem"
                  class="q-ma-xl"
                  :thickness="10"
                />
              </q-menu>
            </q-input>
          </div>
        </div>

        <div class="row w-100 items-center q-mt-md">
          <div class="col-4 row q-pa-md">
            <div v-show="personForm.memberId" class="arrow_box w-100 text-h6">
              會員備註 :
              <q-editor v-model="personForm.comment" min-height="5rem" />
            </div>
          </div>
          <div class="col-8 column">
            <!-- <q-input
              v-if="personForm.memberId!== '' "
              class="col q-ma-xs road2input"
              label="門牌號碼"
              standout="bg-pink-2 text-black"
              v-model="personForm.road2"
              type="text"
              ref="inputRef"
              @focus="setActiveField(personForm, 'road2')"
              :input-style="{ fontSize: '20px', color: 'black' }"
            /> -->
            <div class="col-12 row justify-end items-end text-center">
              <q-input
                class="col"
                standout="bg-pink-2"
                v-model="addressForm.lane"
                label=""
                ref="inputRef"
                :input-style="{ fontSize: '20px' }"
              />
              <div class="text-h6 col">巷</div>
              <q-input
                class="col"
                standout="bg-pink-2"
                v-model="addressForm.alley"
                label=""
                ref="inputRef"
                :input-style="{ fontSize: '20px' }"
              />
              <div class="text-h6 col">弄</div>

              <q-input
                class="col"
                standout="bg-pink-2"
                v-model="addressForm.no"
                label=""
                ref="inputRef"
                :input-style="{ fontSize: '20px' }"
              />
              <div class="text-h6 col">號</div>

              <q-input
                class="col"
                standout="bg-pink-2"
                v-model="addressForm.floor"
                label=""
                ref="inputRef"
                :input-style="{ fontSize: '20px' }"
              />
              <div class="text-h6 col">樓</div>
              <div class="text-h6 col">之</div>
              <q-input
                class="col"
                standout="bg-pink-2"
                v-model="addressForm.at"
                label=""
                ref="inputRef"
                :input-style="{ fontSize: '20px' }"
              />

              <q-input
                class="col"
                standout="bg-pink-2"
                v-model="addressForm.room"
                label=""
                ref="inputRef"
                :input-style="{ fontSize: '20px' }"
              />
              <div class="text-h6 col">室</div>
              <!-- shippingRemark -->
            </div>
            <div class="col-12 row items-center q-mt-md q-gutter-x-md">
              <q-input
                standout="bg-pink-2 text-black"
                class="col q-mx-xs"
                v-model="shippingRemark"
                label="送達公司"
              >
              </q-input>
              <q-select
                standout="bg-pink-2 text-black"
                v-model="personForm.find_us"
                label="哪裡得知"
                :options="findUsOptions"
                emit-value
                map-options
                option-value="code"
                option-label="name"
                class="col"
              />

              <q-select
                standout="bg-pink-2 text-black"
                class="col"
                v-model="personForm.event"
                multiple
                :options="eventOptions"
                use-chips
                stack-label
                label="訂單分類"
                emit-value
                map-options
                use-input
              />
              <q-input
                standout="bg-pink-2 text-black"
                v-model="personForm.fuck"
                label="控單表"
                lazy-rules
                class="col"
              />
              <!-- <q-select
                standout="bg-pink-2 text-black"
                v-model="personForm.locationId"
                label="店家選擇"
                :options="locationIds"
                lazy-rules
                class="selectLocation col w-130px"
              /> -->
              <q-input
                class="col"
                standout="bg-pink-2 text-black"
                v-model="personForm.delivery_date_hi"
                label="出餐時間"
                @focus="setActiveField(personForm, 'delivery_date_hi')"
                :input-style="{ fontSize: '20px', color: 'black' }"
              />
            </div>
          </div>
        </div>

        <div class="row w-100 q-mt-md">
          <div class="col-2"></div>
        </div>
        <div class="row w-100 items-center">
          <div class="row w-100 items-center">
            <div class="col-4 row items-center"></div>
            <div class="col-8 row items-center justify-end"></div>
          </div>
        </div>
        <div class="row w-100 items-center q-mt-md">
          <div class="col-12 row items-center">
            <!-- 兩個備註 -->
            <q-input
  standout="bg-pink-2 text-black"
  v-model="personForm.remark"
  label="訂單備註"
  :input-style="{ fontSize: '20px', color: 'black' }"
  class="col q-mx-xs"
  @focus="dropdownOpenRemark = true"
>
  <template v-slot:append>
    <q-icon name="arrow_drop_down" class="cursor-pointer" @click="dropdownOpenRemark = !dropdownOpenRemark" />
  </template>
  <q-menu   v-model="dropdownOpenRemark" fit no-focus>
    <q-list class="custom-menu-position">
      <q-item v-for="option in filteredRemarkOptions" :key="option" clickable @click="selectRemarkOption(option)">
        <q-item-section>{{ option }}</q-item-section>
      </q-item>
      <q-item v-if="filteredRemarkOptions.length === 0">
        <q-item-section class="text-h6 text-center">無此備註</q-item-section>
      </q-item>
    </q-list>
  </q-menu>
</q-input>
     <!-- 餐點備註輸入 -->
<q-input
  standout="bg-pink-2 text-black"
  class="col q-mx-xs"
  v-model="mealRemark"
  label="餐點備註"
  @focus="dropdownOpenMeal = true"
>
  <template v-slot:append>
    <q-icon name="arrow_drop_down" class="cursor-pointer" @click="dropdownOpenMeal = !dropdownOpenMeal" />
  </template>
  <q-menu v-model="dropdownOpenMeal" fit no-focus>
    <q-list class="custom-menu-position">
      <q-item v-for="option in filteredMealOptions" :key="option" clickable @click="selectMealOption(option)">
        <q-item-section>{{ option }}</q-item-section>
      </q-item>
      <q-item v-if="filteredMealOptions.length === 0">
        <q-item-section class="text-h6 text-center">無此備註</q-item-section>
      </q-item>
    </q-list>
  </q-menu>
</q-input>
<q-input
  standout="bg-pink-2 text-black"
  class="col q-mx-xs"
  v-model="internalRemark"
  label="內部備註"
>
</q-input>
          </div>
        </div>
        <div class="row w-100 justify-end btnSubmit">
          <SmallKeypad
            v-show="keypad"
            @keypadInput="handleKeypadInput"
            class="col-3"
          />
          <div class="col-1">
            <q-btn icon="keyboard" @click="keypad = !keypad" round size="md" />
          </div>

          <q-btn
            outline
            class="col-1 submitBtn q-mx-xs"
            label="退出表單"
            @click="showPersonDialog = false"
            to="/search"
          />
          <q-btn
            outline
            class="col-1 submitBtn q-mx-xs"
            @click="addOrderFirst()"
            label="保留單"
          />
          <q-btn
          v-if="personForm.memberId !== 8642"
            outline
            class="col-1 submitBtn q-mx-xs"
            @click="memerSave()"
            label="更新會員資料"
          />
          <q-btn
            outline
            class="col-1 submitBtn q-mx-xs"
            @click="onReset()"
            label="清除表格"
          />
          <q-btn
            outline
            class="col-1 submitBtn"
            color="accent"
            @click="unupdateSave()"
            label="下一步"
          />
        </div>
        <div class="row w-100 justify-end">
          <!--
                <SmallKeypad @keypadInput="handleKeypadInput" />
                <div class="genderRadio col-2">
                    <q-btn
                      label="送達開始"
                      color="primary"
                      style="width: 100px; height: 40px"
                    >
                      <q-popup-proxy
                        cover
                        transition-show="scale"
                        transition-hide="scale"
                      >
                        <q-time
                          format24h
                          v-model="personForm.time1"
                          @input="$emit('close')"
                          color="orange"
                        >
                        </q-time>
                      </q-popup-proxy>
                    </q-btn>
                    <q-btn
                      label="送達結束"
                      color="secondary"
                      style="width: 100px; height: 40px"
                    >
                      <q-popup-proxy
                        cover
                        transition-show="scale"
                        transition-hide="scale"
                      >
                        <q-time
                          format24h
                          v-model="personForm.time2"
                          @input="$emit('close')"
                          color="green"
                        >
                        </q-time>
                      </q-popup-proxy>
                    </q-btn>
                  </div> -->
        </div>
      </div>
    </q-dialog>
    <!-- 點單按鈕 -->
    <div class="row w-100 justify-start items-center q-pa-md bg-dark">
      <div v-show="!meal.id" class="q-ma-none text-h5 col-1 text-white">
        建立訂單
      </div>
      <div v-show="meal.id" class="q-ma-none text-h5 col-1 text-white">
        修改訂單
      </div>
      <p v-show="meal.id" class="q-ma-none col-2 text-white">
        訂單編號: {{ meal.id }}
      </p>
      <div class="col"></div>
      <div class="col-8 tableMember items-center justify-end row">
        <p v-show="personForm.memberId">會員編號: {{ personForm.memberId }}</p>
        <p v-show="personForm.name">訂購人: {{ personForm.name }}</p>
        <p v-show="personForm.tel">訂購人電話: {{ personForm.tel }}</p>
        <p v-show="personForm.hometel">
          訂購人室內電話: {{ personForm.prefix }} {{ personForm.hometel }} #{{
            personForm.hometel2
          }}
        </p>
      </div>
      <div class="col-1">
        <q-btn
          v-show="!meal.id"
          color="warning"
          round
          size="16px"
          @click="addPerson"
          icon="edit"
          class="q-mx-md"
          text-color="black"
        />
      </div>
    </div>
    <div

      class="row menu text-left w-100 items-center q-mb-md"
      data-order-panel
    >
      <q-select
        filled
        v-model="personForm.orderStatu"
        label="訂單狀態"
        :options="orderStatus"
        emit-value
        map-options
        color="accent"
        class="q-mx-lg w-300px col-1"
      />
      <div class="col-1"></div>
      <h5>開始點餐</h5>
      <q-btn
        @click="opengGuabao"
        text-color="black"
        color="warning"
        label="刈包"
        class="col"
      />

      <q-btn
        @click="openRiceBox"
        text-color="black"
        color="warning"
        label="油飯"
        class="col"
      />
      <q-btn
        @click="openbangdong"
        text-color="black"
        color="warning"
        label="便當"
        class="col"
      />
      <q-btn
        color="warning"
        label="盒餐"
        text-color="black"
        @click="openlunchBox"
        class="col"
      />
      <q-btn
        color="warning"
        label="單點"
        text-color="black"
        @click="opensolo"
        class="col"
      />
      <q-btn
        color="warning"
        label="客製"
        text-color="black"
        @click="openCustom"
        class="col"
      />
      <!-- <q-btn
        color="warning"
        label="客製便當"
        @click="openCustomBangdong"
        class="col-2"
        text-color="black"
      />
      <q-btn
        color="warning"
        label="客製盒餐"
        @click="openCustomLunchBox"
        class="col-2"
        text-color="black"
      /> -->

      <!-- 客製總dialog -->
      <q-dialog v-model="showCustom">
        <q-card class="column" id="dialogbtnBangdongCard">
          <div class="col-2 row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showCustom = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>

          <!-- 客製按鈕 -->
          <div class="items-center justify-center row w-100 q-ma-auto col-10">
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="客製便當"
        @click="openCustomBangdong"
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="客製盒餐"
        @click="openCustomLunchBox"
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="客製刈包便當"
        @click="openCustomGuabaoBangdong"
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="客製刈包盒餐"
        @click="openCustomGuabaoLunchbox"
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="客製油飯盒"
        @click="openCustomRiceBox"
            />

            <div class="btnBangdong col-5"></div>
            <!--    @click="showbangdong = false" -->
          </div>
        </q-card>
      </q-dialog>
    <!-- 刈包系列 -->
    <q-dialog v-model="showGuabao">
        <q-card class="column" id="dialogbtnBangdongCard">
          <div class="col-2 row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showGuabao = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>

          <!-- 便當按鈕 -->
          <div class="items-center justify-center row w-100 q-ma-auto col-10">
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="刈包便當"
              @click="
                showGuabaoBangdong = true;
                showGuabao = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              label="刈包盒餐"
              @click="
                showGuabaoLunchbox = true;
                showGuabao = false;
              "
            />

            <div class="btnBangdong col-5"></div>
            <!--    @click="showbangdong = false" -->
          </div>
        </q-card>
      </q-dialog>

       <!-- 刈包便當按紐 -->
 <q-dialog v-model="showGuabaoBangdong">
        <q-card class="column" id="dialogbtnBangdongCard">
          <div class="col-2 row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showGuabaoBangdong = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>

          <!-- 便當按鈕 -->
          <div class="items-center justify-center row w-100 q-ma-auto col-10">
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdong1Name"
              @click="
                showGuabaoBangdong1 = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdong6Name"
              @click="
                showGuabaoBangdong6 = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdong2Name"
              @click="
                showGuabaoBangdong2 = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdong3Name"
              @click="
                showGuabaoBangdong3 = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdong4Name"
              @click="
                showGuabaoBangdong4 = true;
                showGuabaoBangdong = false;
              "
            />

            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdongVegetarian1Name"
              @click="
                showGuabaoBangdongVegetarian1 = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdongVegetarian2Name"
              @click="
                showGuabaoBangdongVegetarian2 = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdongSalmonName"
              @click="
                showGuabaoBangdongSalmon = true;
                showGuabaoBangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoBangdong5Name"
              @click="
                showGuabaoBangdong5 = true;
                showGuabaoBangdong = false;
              "
            />

            <div class="btnBangdong col-5"></div>
            <!--    @click="showGuabaoBangdong = false" -->
          </div>
        </q-card>
      </q-dialog>
      <!-- 刈包盒餐按紐 -->
 <q-dialog v-model="showGuabaoLunchbox">
        <q-card class="column" id="dialogbtnBangdongCard">
          <div class="col-2 row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showGuabaoLunchbox = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>

          <!-- 盒餐按鈕 -->
          <div class="items-center justify-center row w-100 q-ma-auto col-10">
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoLunchbox2Name"
              @click="
                showGuabaoLunchbox2 = true;
                showGuabaoLunchbox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoLunchbox3Name"
              @click="
                showGuabaoLunchbox3 = true;
                showGuabaoLunchbox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="GuabaoLunchbox4Name"
              @click="
                showGuabaoLunchbox4 = true;
                showGuabaoLunchbox = false;
              "
            />

            <div class="btnBangdong col-5"></div>
            <!--    @click="showGuabaoLunchbox = false" -->
          </div>
        </q-card>
      </q-dialog>
      <!-- 便當 dailog -->
      <q-dialog v-model="showbangdong">
        <q-card class="column" id="dialogbtnBangdongCard">
          <div class="col-2 row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showbangdong = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>

          <!-- 便當按鈕 -->
          <div class="items-center justify-center row w-100 q-ma-auto col-10">
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdong1Name"
              @click="
                showbangdong1 = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdong6Name"
              @click="
                showbangdong6 = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdong2Name"
              @click="
                showbangdong2 = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdong3Name"
              @click="
                showbangdong3 = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdong4Name"
              @click="
                showbangdong4 = true;
                showbangdong = false;
              "
            />

            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdongVegetarian1Name"
              @click="
                showbangdongVegetarian1 = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdongVegetarian2Name"
              @click="
                showbangdongVegetarian2 = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdongSalmonName"
              @click="
                showbangdongSalmon = true;
                showbangdong = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="bangdong5Name"
              @click="
                showbangdong5 = true;
                showbangdong = false;
              "
            />

            <div class="btnBangdong col-5"></div>
            <!--    @click="showbangdong = false" -->
          </div>
        </q-card>
      </q-dialog>

            <!-- 油飯 dailog -->
            <q-dialog v-model="showRiceBox">
        <q-card class="column" id="dialogbtnBangdongCard">
          <div class="col-2 row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showRiceBox = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>
          <!-- 油飯按鈕 -->
          <div class="items-center justify-center row w-100 q-ma-auto col-10">

            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox8Name"
              @click="
                showRiceBox8 = true;
                showRiceBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox7Name"
              @click="
                showRiceBox7 = true;
                showRiceBox = false;
              "
            />

            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox3Name"
              @click="
                showRiceBox3 = true;
                showRiceBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox4Name"
              @click="
                showRiceBox4 = true;
                showRiceBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox5Name"
              @click="
                showRiceBox5 = true;
                showRiceBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox1Name"
              @click="
                showRiceBox1 = true;
                showRiceBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox2Name"
              @click="
                showRiceBox2 = true;
                showRiceBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnBangdong"
              :label="riceBox6Name"
              @click="
                showRiceBox6 = true;
                showRiceBox = false;
              "
            />

            <div class="btnBangdong col-5"></div>
            <!--    @click="showbangdong = false" -->
          </div>
        </q-card>
      </q-dialog>
            <!-- 招牌油飯 dialog -->
            <q-dialog v-model="showRiceBox1" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ riceBox1Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="riceBox1TotalQuantity"
                :bg-color="getInputColor(riceBox1TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="riceBox1Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="riceBox1Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="riceBox1TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="riceBox1optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="riceBox1finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ riceBox1MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(riceBox1Main, index) in riceBox1Mains"
                :key="index"
                class="flex-auto q-ma-none q-pa-none"
              >
                <q-input
                  v-model.number="riceBox1Main.quantity"
                  :label="riceBox1Main.shortname"
                  :bg-color="getInputColor(riceBox1Main.quantity)"
                  class="q-ma-xs w-110px"
                  filled
                  type="number"
                  :input-style="{
                    fontSize: '20px',
                    margin: '0',
                    color: 'black',
                  }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
                <!-- 配菜 -->
                <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ riceBox1SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(riceBox1SideDish, index) in riceBox1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="riceBox1SideDish.quantity"
                  :label="riceBox1SideDish.name"
                  :bg-color="getInputColor(riceBox1SideDish.quantity)"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ riceBox1DrinkName }}</h5>
            <div class="row items-center" style="height: 100%">
              <q-item
                v-for="(riceBox1Drink, index) in riceBox1Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="riceBox1Drink.quantity"
                  :label="riceBox1Drink.name"
                  :bg-color="getInputColor(riceBox1Drink.quantity)"
                  class="q-ma-xs w-110px"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>

          <!-- 總計 -->

          <!-- 備註 -->
          <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
            <div class="row w-100 justify-between">
              <q-input
                :bg-color="inputColor"
                outlined
                v-model="riceBox1Comment"
                label="商品備註"
                class="col-8"
              />

              <q-btn
                color="dark"
                label="取消"
                size="25px"
                @click="ResetRiceBox1"
                class="q-mx-xs btnSubmitCancel"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="submitRiceBox1"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>
       <!-- 控肉油飯 dialog -->
 <q-dialog v-model="showRiceBox8" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ riceBox8Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          class="w-110px q-ml-lg"
          :input-style="{ fontSize: '20px' }"
          v-model.number="riceBox8TotalQuantity"
          :bg-color="getInputColor(riceBox8TotalQuantity)"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox8Arbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        type="number"
        filled
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox8Price"
        label="商品單價"
        readonly
      />
      <q-input
        filled
        type="number"
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox8TotalQuantityPrice"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox8optionPrice"
        label="選項總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox8finalTotal"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox8MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox8Main, index) in riceBox8Mains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox8Main.quantity"
            :bg-color="getInputColor(riceBox8Main.quantity)"
            :label="riceBox8Main.shortname"
            filled
            class="q-ma-xs w-110px"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox8DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox8Drink, index) in riceBox8Drinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox8Drink.quantity"
            :bg-color="getInputColor(riceBox8Drink.quantity)"
            :label="riceBox8Drink.name"
            filled
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox8BentoMainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox8BentoMain, index) in riceBox8BentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox8BentoMain.quantity"
            :bg-color="getInputColor(riceBox8BentoMain.quantity)"
            :label="riceBox8BentoMain.name"
            filled
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox8SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox8SideDish, index) in riceBox8SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox8SideDish.quantity"
            :label="riceBox8SideDish.name"
            :bg-color="getInputColor(riceBox8SideDish.quantity)"
            filled
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row q-mt-xl w-100 items-center justify-between">
        <q-input
          outlined
          :bg-color="inputColor"
          v-model="riceBox8Comment"
          label="商品備註"
          class="col-8"
        />
        <q-btn
          color="dark"
          label="取消"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="ResetRiceBox8"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="submitRiceBox8"
        />
      </div>
    </div>
  </q-card>
</q-dialog>

                  <!-- 雞翅油飯 dialog -->
                  <q-dialog v-model="showRiceBox7" maximized>
              <q-card
                class="items-start word-break q-pa-none q-ma-none"
                id="bangdongcard"
              >
                <div class="color2 bangdongdialog row items-center text-white">
                  <div class="text-h5 col-1">{{ riceBox7Name }}</div>
                  <div class="text-h5 q-ml-md col-2 row items-center">
                    總計
                    <q-input
                      filled
                      type="number"
                      class="w-110px q-ml-lg"
                      :input-style="{ fontSize: '20px' }"
                      v-model.number="riceBox7TotalQuantity"
                      :bg-color="getInputColor(riceBox7TotalQuantity)"
                      label="數量總計"
                      min="0"
                    />
                  </div>
                  <div class="col"></div>
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    class="q-ma-xs w-110px text-white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    v-model.number="riceBox7Arbitrarily"
                    label="任意搭配"
                    min="0"
                  />
                  <q-input
                    min="0"
                    filled
                    label-color="white"
                    class="q-ma-xs w-110px text-white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    v-model.number="riceBox7Price"
                    label="商品單價"
                    readonly
                  />
                  <q-input
                    filled
                    label-color="white"
                    class="q-ma-xs w-150px text-white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    v-model.number="riceBox7TotalQuantityPrice"
                    label="餐點總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    label-color="white"
                    class="q-ma-xs w-150px text-white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    v-model.number="riceBox7optionPrice"
                    label="選項總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    label-color="white"
                    class="q-ma-xs w-150px text-white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    v-model.number="riceBox7finalTotal"
                    label="總計"
                    readonly
                    min="0"
                  />
                </div>
                <div class="color1 bangdongdialog">
                  <h5 style="margin: 0; padding: 0">{{ riceBox7MainName }}</h5>
                  <div class="row items-center">
                    <q-item
                      v-for="(riceBox7Main, index) in riceBox7Mains"
                      :key="index"
                      class="flex-auto q-ma-none q-pa-none"
                    >
                      <q-input
                        v-model.number="riceBox7Main.quantity"
                        :label="riceBox7Main.shortname"
                        :bg-color="getInputColor(riceBox7Main.quantity)"
                        class="q-ma-xs w-110px"
                        filled
                        type="number"
                        :input-style="{
                          fontSize: '20px',
                          margin: '0',
                          color: 'black',
                        }"
                        :label-style="{ fontSize: '20px' }"
                        min="0"
                      />
                    </q-item>
                  </div>
                </div>
                      <!-- 配菜 -->
                      <div class="color1 bangdongdialog">
                  <h5 style="margin: 0; padding: 0">{{ riceBox7SideDishName }}</h5>
                  <div class="row items-center">
                    <q-item
                      v-for="(riceBox7SideDish, index) in riceBox7SideDishes"
                      :key="index"
                      class="flex-auto"
                      style="margin: 0; padding: 0"
                    >
                      <q-input
                        v-model.number="riceBox7SideDish.quantity"
                        :label="riceBox7SideDish.name"
                        :bg-color="getInputColor(riceBox7SideDish.quantity)"
                        filled
                        type="number"
                        class="q-ma-xs w-110px"
                        :input-style="{ fontSize: '20px', margin: '0' }"
                        :label-style="{ fontSize: '20px' }"
                        min="0"
                      />
                    </q-item>
                  </div>
                </div>
                <!-- 飲料 -->
                <div class="color1 bangdongdialog">
                  <h5 style="margin: 0; padding: 0">{{ riceBox7DrinkName }}</h5>
                  <div class="row items-center" style="height: 100%">
                    <q-item
                      v-for="(riceBox7Drink, index) in riceBox7Drinks"
                      :key="index"
                      class="flex-auto"
                      style="margin: 0; padding: 0"
                    >
                      <q-input
                        v-model.number="riceBox7Drink.quantity"
                        :label="riceBox7Drink.name"
                        :bg-color="getInputColor(riceBox7Drink.quantity)"
                        class="q-ma-xs w-110px"
                        filled
                        type="number"
                        :input-style="{ fontSize: '20px', margin: '0' }"
                        :label-style="{ fontSize: '20px' }"
                        min="0"
                      />
                    </q-item>
                  </div>
                </div>

                <!-- 總計 -->

                <!-- 備註 -->
                <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
                  <div class="row w-100 justify-between">
                    <q-input
                      :bg-color="inputColor"
                      outlined
                      v-model="riceBox7Comment"
                      label="商品備註"
                      class="col-8"
                    />

                    <q-btn
                      color="dark"
                      label="取消"
                      size="25px"
                      @click="ResetRiceBox7"
                      class="q-mx-xs btnSubmitCancel"
                    />
                    <q-btn
                      color="primary"
                      label="送出"
                      type="submit"
                      size="25px"
                      class="q-mx-xs btnSubmitCancel"
                      @click="submitRiceBox7"
                    />
                  </div>
                </div>
              </q-card>
            </q-dialog>
         <!-- 雞胸油飯 dailog -->
   <q-dialog v-model="showRiceBox2" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox2Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            class="w-110px q-ml-lg"
            :input-style="{ fontSize: '20px' }"
            v-model.number="riceBox2TotalQuantity"
            :bg-color="getInputColor(riceBox2TotalQuantity)"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox2Arbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          type="number"
          filled
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox2Price"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox2TotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox2optionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox2finalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox2Main, index) in riceBox2Mains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2Main.quantity"
              :bg-color="getInputColor(riceBox2Main.quantity)"
              :label="riceBox2Main.shortname"
              filled
              class="q-ma-xs w-110px"
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox2Drink, index) in riceBox2Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2Drink.quantity"
              :bg-color="getInputColor(riceBox2Drink.quantity)"
              :label="riceBox2Drink.name"
              filled
              type="number"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2BentoMainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox2BentoMain, index) in riceBox2BentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2BentoMain.quantity"
              :bg-color="getInputColor(riceBox2BentoMain.quantity)"
              :label="riceBox2BentoMain.name"
              filled
              type="number"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox2SideDish, index) in riceBox2SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2SideDish.quantity"
              :label="riceBox2SideDish.name"
              :bg-color="getInputColor(riceBox2SideDish.quantity)"
              filled
              type="number"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <!-- 按鈕 -->
        <div class="row q-mt-xl w-100 items-center justify-between">
          <q-input
            outlined
            :bg-color="inputColor"
            v-model="riceBox2Comment"
            label="商品備註"
            class="col-8"
          />
          <q-btn
            color="dark"
            label="取消"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
            @click="ResetRiceBox2"
          />
          <q-btn
            color="primary"
            label="送出"
            type="submit"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
            @click="submitRiceBox2"
          />
        </div>
      </div>
    </q-card>
  </q-dialog>

  <!-- 雞腿油飯 dailog -->
<q-dialog v-model="showRiceBox3" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ riceBox3Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          class="w-110px q-ml-lg"
          :input-style="{ fontSize: '20px' }"
          v-model.number="riceBox3TotalQuantity"
          :bg-color="getInputColor(riceBox3TotalQuantity)"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox3Arbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox3Price"
        label="商品單價"
        readonly
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox3TotalQuantityPrice"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox3optionPrice"
        label="選項總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="riceBox3finalTotal"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox3MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox3Main, index) in riceBox3Mains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox3Main.quantity"
            :label="riceBox3Main.shortname"
            filled
            type="number"
            :bg-color="getInputColor(riceBox3Main.quantity)"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox3DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox3Drink, index) in riceBox3Drinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox3Drink.quantity"
            :label="riceBox3Drink.name"
            filled
            :bg-color="getInputColor(riceBox3Drink.quantity)"
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox3BentoMainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox3BentoMain, index) in riceBox3BentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox3BentoMain.quantity"
            :label="riceBox3BentoMain.name"
            filled
            :bg-color="getInputColor(riceBox3BentoMain.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '40px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ riceBox3SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(riceBox3SideDish, index) in riceBox3SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBox3SideDish.quantity"
            :label="riceBox3SideDish.name"
            :bg-color="getInputColor(riceBox3SideDish.quantity)"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
      <div class="row w-100 justify-between">
        <q-input
          :bg-color="inputColor"
          v-model="riceBox3Comment"
          label="商品備註"
          outlined
          class="col-8"
        />
        <q-btn
          color="dark"
          label="取消"
          @click="ResetRiceBox3"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
          @click="submitRiceBox3"
        />
      </div>
    </div>
  </q-card>
</q-dialog>
  <!-- 滷牛油飯 dailog -->
  <q-dialog v-model="showRiceBox4" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox4Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            class="w-110px q-ml-lg"
            :input-style="{ fontSize: '20px' }"
            v-model.number="riceBox4TotalQuantity"
            :bg-color="getInputColor(riceBox4TotalQuantity)"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox4Arbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox4Price"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox4TotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox4optionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox4finalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>

      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox4Main, index) in riceBox4Mains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4Main.quantity"
              :label="riceBox4Main.shortname"
              filled
              :bg-color="getInputColor(riceBox4Main.quantity)"
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox4Drink, index) in riceBox4Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4Drink.quantity"
              :label="riceBox4Drink.name"
              :bg-color="getInputColor(riceBox4Drink.quantity)"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4BentoMainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox4BentoMain, index) in riceBox4BentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4BentoMain.quantity"
              :label="riceBox4BentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox4BentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox4SideDish, index) in riceBox4SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4SideDish.quantity"
              :label="riceBox4SideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox4SideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <!-- 按鈕 -->
      <div class="row items-center q-ml-md w-100 q-mt-xl">
        <q-input
          v-model="riceBox4Comment"
          label="商品備註"
          outlined
          :bg-color="inputColor"
          class="col-9"
        />
        <q-btn
          color="dark"
          label="取消"
          @click="ResetRiceBox4"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          color="primary"
          label="送出"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="submitRiceBox4"
        />
      </div>
    </q-card>
  </q-dialog>
      <!-- 鮭魚油飯 dialog -->
      <q-dialog v-model="showRiceBox5" maximized>
      <q-card
        class="items-start word-break q-pa-none q-ma-none"
        id="bangdongcard"
      >
        <div class="color2 bangdongdialog row items-center text-white">
          <div class="text-h5 col-1">{{ riceBox5Name }}</div>
          <div class="text-h5 q-ml-md col-2 row items-center">
            總計
            <q-input
              filled
              type="number"
              class="w-110px q-ml-lg"
              :input-style="{ fontSize: '20px' }"
              v-model.number="riceBox5TotalQuantity"
              :bg-color="getInputColor(riceBox5TotalQuantity)"
              label="數量總計"
              min="0"
            />
          </div>
          <div class="col"></div>
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="riceBox5Arbitrarily"
            label="任意搭配"
            class="q-ma-xs w-110px text-white"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            label-color="white"
            :input-style="{ fontSize: '20px', color: 'white' }"
            v-model.number="riceBox5Price"
            label="商品單價"
            class="q-ma-xs w-110px"
            readonly
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="riceBox5TotalQuantityPrice"
            label="餐點總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="riceBox5optionPrice"
            label="選項總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="riceBox5finalTotal"
            label="總計"
            label-color="white"
            readonly
            min="0"
          />
        </div>
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ riceBox5MainName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(riceBox5Main, index) in riceBox5Mains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox5Main.quantity"
                :label="riceBox5Main.shortname"
                filled
                :bg-color="getInputColor(riceBox5Main.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 飲料 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ riceBox5DrinkName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(riceBox5Drink, index) in riceBox5Drinks"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox5Drink.quantity"
                :label="riceBox5Drink.name"
                filled
                type="number"
                :bg-color="getInputColor(riceBox5Drink.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 副主餐 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ riceBox5BentoMainName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                riceBox5BentoMain, index
              ) in riceBox5BentoMains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox5BentoMain.quantity"
                :label="riceBox5BentoMain.name"
                filled
                type="number"
                :bg-color="getInputColor(riceBox5BentoMain.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ riceBox5SideDishName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                riceBox5SideDish, index
              ) in riceBox5SideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox5SideDish.quantity"
                :label="riceBox5SideDish.name"
                filled
                type="number"
                :bg-color="getInputColor(riceBox5SideDish.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <div class="row"></div>
        </div>
        <!-- 按鈕 -->
        <div class="row items-center q-ml-md" style="width: 100%">
          <q-input
            v-model="riceBox5Comment"
            label="商品備註"
            :bg-color="inputColor"
            outlined
            class="col-9"
          />
          <q-btn
            color="dark"
            label="取消"
            size="25px"
            @click="ResetRiceBox5"
            class="q-mx-xs btnSubmitCancel"
          />
          <q-btn
            color="primary"
            label="送出"
            type="submit"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
            @click="submitRiceBox5"
          />
        </div>
      </q-card>
    </q-dialog>
        <!-- 牛肉丸油飯 dialog -->
        <q-dialog v-model="showRiceBox6" maximized>
      <q-card
        class="items-start word-break q-pa-none q-ma-none"
        id="bangdongcard"
      >
        <div class="color2 bangdongdialog row items-center text-white">
          <div class="text-h5 col-1">{{ riceBox6Name }}</div>
          <div class="text-h5 q-ml-md col-2 row items-center">
            總計
            <q-input
              filled
              type="number"
              class="w-110px q-ml-lg"
              :input-style="{ fontSize: '20px' }"
              v-model.number="riceBox6TotalQuantity"
              :bg-color="getInputColor(riceBox6TotalQuantity)"
              label="數量總計"
              min="0"
            />
          </div>
          <div class="col"></div>
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="riceBox6Arbitrarily"
            label="任意搭配"
            class="q-ma-xs w-110px text-white"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            label-color="white"
            :input-style="{ fontSize: '20px', color: 'white' }"
            v-model.number="riceBox6Price"
            label="商品單價"
            class="q-ma-xs w-110px"
            readonly
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="riceBox6TotalQuantityPrice"
            label="餐點總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="riceBox6optionPrice"
            label="選項總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="riceBox6finalTotal"
            label="總計"
            label-color="white"
            readonly
            min="0"
          />
        </div>
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ riceBox6MainName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(riceBox6Main, index) in riceBox6Mains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox6Main.quantity"
                :label="riceBox6Main.shortname"
                filled
                :bg-color="getInputColor(riceBox6Main.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 飲料 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ riceBox6DrinkName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(riceBox6Drink, index) in riceBox6Drinks"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox6Drink.quantity"
                :label="riceBox6Drink.name"
                filled
                type="number"
                :bg-color="getInputColor(riceBox6Drink.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 副主餐 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ riceBox6BentoMainName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                riceBox6BentoMain, index
              ) in riceBox6BentoMains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox6BentoMain.quantity"
                :label="riceBox6BentoMain.name"
                filled
                type="number"
                :bg-color="getInputColor(riceBox6BentoMain.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ riceBox6SideDishName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                riceBox6SideDish, index
              ) in riceBox6SideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="riceBox6SideDish.quantity"
                :label="riceBox6SideDish.name"
                filled
                type="number"
                :bg-color="getInputColor(riceBox6SideDish.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <div class="row"></div>
        </div>
        <!-- 按鈕 -->
        <div class="row items-center q-ml-md" style="width: 100%">
          <q-input
            v-model="riceBox6Comment"
            label="商品備註"
            :bg-color="inputColor"
            outlined
            class="col-9"
          />
          <q-btn
            color="dark"
            label="取消"
            size="25px"
            @click="ResetRiceBox6"
            class="q-mx-xs btnSubmitCancel"
          />
          <q-btn
            color="primary"
            label="送出"
            type="submit"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
            @click="submitRiceBox6"
          />
        </div>
      </q-card>
    </q-dialog>

      <!-- ----------------------------------------------------------- -->
<!-- 刈包便當 dialog -->
<q-dialog v-model="showGuabaoBangdong1" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ GuabaoBangdong1Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="GuabaoBangdong1TotalQuantity"
                :bg-color="getInputColor(GuabaoBangdong1TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong1Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong1Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong1TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong1optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong1finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong1MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong1Main, index) in GuabaoBangdong1Mains"
                :key="index"
                class="flex-auto q-ma-none q-pa-none"
              >
                <q-input
                  v-model.number="GuabaoBangdong1Main.quantity"
                  :label="GuabaoBangdong1Main.shortname"
                  :bg-color="getInputColor(GuabaoBangdong1Main.quantity)"
                  class="q-ma-xs w-110px"
                  filled
                  type="number"
                  :input-style="{
                    fontSize: '20px',
                    margin: '0',
                    color: 'black',
                  }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong1DrinkName }}</h5>
            <div class="row items-center" style="height: 100%">
              <q-item
                v-for="(GuabaoBangdong1Drink, index) in GuabaoBangdong1Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong1Drink.quantity"
                  :label="GuabaoBangdong1Drink.name"
                  :bg-color="getInputColor(GuabaoBangdong1Drink.quantity)"
                  class="q-ma-xs w-110px"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong1SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong1SideDish, index) in GuabaoBangdong1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong1SideDish.quantity"
                  :label="GuabaoBangdong1SideDish.name"
                  :bg-color="getInputColor(GuabaoBangdong1SideDish.quantity)"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->

          <!-- 備註 -->
          <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
            <div class="row w-100 justify-between">
              <q-input
                :bg-color="inputColor"
                outlined
                v-model="GuabaoBangdong1Comment"
                label="商品備註"
                class="col-8"
              />

              <q-btn
                color="dark"
                label="取消"
                size="25px"
                @click="ResetGuabaoBangdong1"
                class="q-mx-xs btnSubmitCancel"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="submitGuabaoBangdong1"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>

       <!-- 素刈包便當 dialog -->
 <q-dialog v-model="showGuabaoBangdong6" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ GuabaoBangdong6Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            class="w-110px q-ml-lg"
            :input-style="{ fontSize: '20px' }"
            v-model.number="GuabaoBangdong6TotalQuantity"
            :bg-color="getInputColor(GuabaoBangdong6TotalQuantity)"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong6Arbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong6Price"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong6TotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong6optionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong6finalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong6MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(GuabaoBangdong6Main, index) in GuabaoBangdong6Mains"
            :key="index"
            class="flex-auto q-ma-none q-pa-none"
          >
            <q-input
              v-model.number="GuabaoBangdong6Main.quantity"
              :label="GuabaoBangdong6Main.shortname"
              :bg-color="getInputColor(GuabaoBangdong6Main.quantity)"
              class="q-ma-xs w-110px"
              filled
              type="number"
              :input-style="{
                fontSize: '20px',
                margin: '0',
                color: 'black',
              }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong6DrinkName }}</h5>
        <div class="row items-center" style="height: 100%">
          <q-item
            v-for="(GuabaoBangdong6Drink, index) in GuabaoBangdong6Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdong6Drink.quantity"
              :label="GuabaoBangdong6Drink.name"
              :bg-color="getInputColor(GuabaoBangdong6Drink.quantity)"
              class="q-ma-xs w-110px"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong6SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(GuabaoBangdong6SideDish, index) in GuabaoBangdong6SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdong6SideDish.quantity"
              :label="GuabaoBangdong6SideDish.name"
              :bg-color="getInputColor(GuabaoBangdong6SideDish.quantity)"
              filled
              type="number"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->

      <!-- 備註 -->
      <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
        <div class="row w-100 justify-between">
          <q-input
            :bg-color="inputColor"
            outlined
            v-model="GuabaoBangdong6Comment"
            label="商品備註"
            class="col-8"
          />

          <q-btn
            color="dark"
            label="取消"
            size="25px"
            @click="ResetGuabaoBangdong6"
            class="q-mx-xs btnSubmitCancel"
          />
          <q-btn
            color="primary"
            label="送出"
            type="submit"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
            @click="submitGuabaoBangdong6"
          />
        </div>
      </div>
    </q-card>
  </q-dialog>

 <!-- 雞胸刈包便當 dailog -->
 <q-dialog v-model="showGuabaoBangdong2" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ GuabaoBangdong2Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="GuabaoBangdong2TotalQuantity"
                :bg-color="getInputColor(GuabaoBangdong2TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong2Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              type="number"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong2Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong2TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong2optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong2finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong2Main, index) in GuabaoBangdong2Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong2Main.quantity"
                  :bg-color="getInputColor(GuabaoBangdong2Main.quantity)"
                  :label="GuabaoBangdong2Main.shortname"
                  filled
                  class="q-ma-xs w-110px"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2DrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong2Drink, index) in GuabaoBangdong2Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong2Drink.quantity"
                  :bg-color="getInputColor(GuabaoBangdong2Drink.quantity)"
                  :label="GuabaoBangdong2Drink.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2BentoMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong2BentoMain, index) in GuabaoBangdong2BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong2BentoMain.quantity"
                  :bg-color="getInputColor(GuabaoBangdong2BentoMain.quantity)"
                  :label="GuabaoBangdong2BentoMain.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong2SideDish, index) in GuabaoBangdong2SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong2SideDish.quantity"
                  :label="GuabaoBangdong2SideDish.name"
                  :bg-color="getInputColor(GuabaoBangdong2SideDish.quantity)"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 bangdongdialog">
            <!-- 按鈕 -->
            <div class="row q-mt-xl w-100 items-center justify-between">
              <q-input
                outlined
                :bg-color="inputColor"
                v-model="GuabaoBangdong2Comment"
                label="商品備註"
                class="col-8"
              />
              <q-btn
                color="dark"
                label="取消"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="ResetGuabaoBangdong2"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="submitGuabaoBangdong2"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>
<!-- 雞腿刈包便當 dailog -->
<q-dialog v-model="showGuabaoBangdong3" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ GuabaoBangdong3Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="GuabaoBangdong3TotalQuantity"
                :bg-color="getInputColor(GuabaoBangdong3TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong3Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong3Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong3TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong3optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong3finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong3MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong3Main, index) in GuabaoBangdong3Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong3Main.quantity"
                  :label="GuabaoBangdong3Main.shortname"
                  filled
                  type="number"
                  :bg-color="getInputColor(GuabaoBangdong3Main.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong3DrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong3Drink, index) in GuabaoBangdong3Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong3Drink.quantity"
                  :label="GuabaoBangdong3Drink.name"
                  filled
                  :bg-color="getInputColor(GuabaoBangdong3Drink.quantity)"
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong3BentoMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong3BentoMain, index) in GuabaoBangdong3BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong3BentoMain.quantity"
                  :label="GuabaoBangdong3BentoMain.name"
                  filled
                  :bg-color="getInputColor(GuabaoBangdong3BentoMain.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '40px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong3SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong3SideDish, index) in GuabaoBangdong3SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong3SideDish.quantity"
                  :label="GuabaoBangdong3SideDish.name"
                  :bg-color="getInputColor(GuabaoBangdong3SideDish.quantity)"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
            <div class="row w-100 justify-between">
              <q-input
                :bg-color="inputColor"
                v-model="GuabaoBangdong3Comment"
                label="商品備註"
                outlined
                class="col-8"
              />
              <q-btn
                color="dark"
                label="取消"
                @click="ResetGuabaoBangdong3"
                class="q-mx-xs btnSubmitCancel"
                size="25px"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                class="q-mx-xs btnSubmitCancel"
                size="25px"
                @click="submitGuabaoBangdong3"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>
<!-- 滷牛刈包便當 dailog -->
<q-dialog v-model="showGuabaoBangdong4" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ GuabaoBangdong4Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="GuabaoBangdong4TotalQuantity"
                :bg-color="getInputColor(GuabaoBangdong4TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong4Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong4Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong4TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong4optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="GuabaoBangdong4finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>

          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong4Main, index) in GuabaoBangdong4Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong4Main.quantity"
                  :label="GuabaoBangdong4Main.shortname"
                  filled
                  :bg-color="getInputColor(GuabaoBangdong4Main.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4DrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong4Drink, index) in GuabaoBangdong4Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong4Drink.quantity"
                  :label="GuabaoBangdong4Drink.name"
                  :bg-color="getInputColor(GuabaoBangdong4Drink.quantity)"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4BentoMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong4BentoMain, index) in GuabaoBangdong4BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong4BentoMain.quantity"
                  :label="GuabaoBangdong4BentoMain.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(GuabaoBangdong4BentoMain.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(GuabaoBangdong4SideDish, index) in GuabaoBangdong4SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="GuabaoBangdong4SideDish.quantity"
                  :label="GuabaoBangdong4SideDish.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(GuabaoBangdong4SideDish.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <!-- 按鈕 -->
          <div class="row items-center q-ml-md w-100 q-mt-xl">
            <q-input
              v-model="GuabaoBangdong4Comment"
              label="商品備註"
              outlined
              :bg-color="inputColor"
              class="col-9"
            />
            <q-btn
              color="dark"
              label="取消"
              @click="ResetGuabaoBangdong4"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
            />
            <q-btn
              color="primary"
              label="送出"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
              @click="submitGuabaoBangdong4"
            />
          </div>
        </q-card>
      </q-dialog>

        <!-- 鮭魚刈包便當 dialog -->
  <q-dialog v-model="showGuabaoBangdongSalmon" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ GuabaoBangdongSalmonName }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            class="w-110px q-ml-lg"
            :input-style="{ fontSize: '20px' }"
            v-model.number="GuabaoBangdongSalmonTotalQuantity"
            :bg-color="getInputColor(GuabaoBangdongSalmonTotalQuantity)"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          label-color="white"
          v-model.number="GuabaoBangdongSalmonArbitrarily"
          label="任意搭配"
          class="q-ma-xs w-110px text-white"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdongSalmonPrice"
          label="商品單價"
          class="q-ma-xs w-110px"
          readonly
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="GuabaoBangdongSalmonTotalQuantityPrice"
          label="餐點總計"
          label-color="white"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="GuabaoBangdongSalmonoptionPrice"
          label="選項總計"
          label-color="white"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="GuabaoBangdongSalmonfinalTotal"
          label="總計"
          label-color="white"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdongSalmonMainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(GuabaoBangdongSalmonMain, index) in GuabaoBangdongSalmonMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongSalmonMain.quantity"
              :label="GuabaoBangdongSalmonMain.shortname"
              filled
              :bg-color="getInputColor(GuabaoBangdongSalmonMain.quantity)"
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdongSalmonDrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(GuabaoBangdongSalmonDrink, index) in GuabaoBangdongSalmonDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongSalmonDrink.quantity"
              :label="GuabaoBangdongSalmonDrink.name"
              filled
              type="number"
              :bg-color="getInputColor(GuabaoBangdongSalmonDrink.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdongSalmonBentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdongSalmonBentoMain, index
            ) in GuabaoBangdongSalmonBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongSalmonBentoMain.quantity"
              :label="GuabaoBangdongSalmonBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(GuabaoBangdongSalmonBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdongSalmonSideDishName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdongSalmonSideDish, index
            ) in GuabaoBangdongSalmonSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongSalmonSideDish.quantity"
              :label="GuabaoBangdongSalmonSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(GuabaoBangdongSalmonSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center q-ml-md" style="width: 100%">
        <q-input
          v-model="GuabaoBangdongSalmonComment"
          label="商品備註"
          :bg-color="inputColor"
          outlined
          class="col-9"
        />
        <q-btn
          color="dark"
          label="取消"
          size="25px"
          @click="ResetGuabaoBangdongSalmon"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="submitGuabaoBangdongSalmon"
        />
      </div>
    </q-card>
  </q-dialog>

   <!-- 牛肉丸l刈包便當 dailog -->
 <q-dialog v-model="showGuabaoBangdong5" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdong5Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          class="w-110px q-ml-lg"
          :input-style="{ fontSize: '20px' }"
          v-model.number="GuabaoBangdong5TotalQuantity"
          :bg-color="getInputColor(GuabaoBangdong5TotalQuantity)"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdong5Arbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdong5Price"
        label="商品單價"
        readonly
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdong5TotalQuantityPrice"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdong5optionPrice"
        label="選項總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdong5finalTotal"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong5MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong5Main, index) in GuabaoBangdong5Mains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong5Main.quantity"
            :label="GuabaoBangdong5Main.shortname"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong5Main.quantity)"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong5DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong5Drink, index) in GuabaoBangdong5Drinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong5Drink.quantity"
            :label="GuabaoBangdong5Drink.name"
            filled
            :bg-color="getInputColor(GuabaoBangdong5Drink.quantity)"
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong5BentoMainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong5BentoMain, index) in GuabaoBangdong5BentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong5BentoMain.quantity"
            :label="GuabaoBangdong5BentoMain.name"
            filled
            :bg-color="getInputColor(GuabaoBangdong5BentoMain.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '40px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong5SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong5SideDish, index) in GuabaoBangdong5SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong5SideDish.quantity"
            :label="GuabaoBangdong5SideDish.name"
            :bg-color="getInputColor(GuabaoBangdong5SideDish.quantity)"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
      <div class="row w-100 justify-between">
        <q-input
          :bg-color="inputColor"
          v-model="GuabaoBangdong5Comment"
          label="商品備註"
          outlined
          class="col-8"
        />
        <q-btn
          color="dark"
          label="取消"
          @click="ResetGuabaoBangdong5"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
          @click="submitGuabaoBangdong5"
        />
      </div>
    </div>
  </q-card>
</q-dialog>
  <!-- 素食刈包便當 125dialog -->
  <q-dialog v-model="showGuabaoBangdongVegetarian1" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ GuabaoBangdongVegetarian1Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model="GuabaoBangdongVegetarian1TotalQuantity"
            :bg-color="getInputColor(GuabaoBangdongVegetarian1TotalQuantity)"
            label="數量總計"
            class="q-ma-xs w-110px"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdongVegetarian1Arbitrarily"
          label="任意搭配"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdongVegetarian1Price"
          label="商品單價"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          readonly
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdongVegetarian1TotalQuantityPrice"
          label="餐點總計"
          readonly
          label-color="white"
          class="q-ma-xs w-150px text-white"
          min="0"
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdongVegetarian1optionPrice"
          label="選項總計"
          readonly
          label-color="white"
          class="q-ma-xs w-150px text-white"
          min="0"
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdongVegetarian1finalTotal"
          label="總計"
          readonly
          label-color="white"
          class="q-ma-xs w-150px text-white"
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdongVegetarian1MainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdongVegetarian1Main, index
            ) in GuabaoBangdongVegetarian1Mains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongVegetarian1Main.quantity"
              :bg-color="getInputColor(GuabaoBangdongVegetarian1Main.quantity)"
              :label="GuabaoBangdongVegetarian1Main.shortname"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdongVegetarian1DrinkName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdongVegetarian1Drink, index
            ) in GuabaoBangdongVegetarian1Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongVegetarian1Drink.quantity"
              :bg-color="getInputColor(GuabaoBangdongVegetarian1Drink.quantity)"
              :label="GuabaoBangdongVegetarian1Drink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdongVegetarian1BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdongVegetarian1BentoMain, index
            ) in GuabaoBangdongVegetarian1BentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongVegetarian1BentoMain.quantity"
              :bg-color="
                getInputColor(GuabaoBangdongVegetarian1BentoMain.quantity)
              "
              :label="GuabaoBangdongVegetarian1BentoMain.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdongVegetarian1SideDishName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdongVegetarian1SideDish, index
            ) in GuabaoBangdongVegetarian1SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdongVegetarian1SideDish.quantity"
              :label="GuabaoBangdongVegetarian1SideDish.name"
              :bg-color="
                getInputColor(GuabaoBangdongVegetarian1SideDish.quantity)
              "
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-ma-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <div class="row items-center q-ml-md" style="width: 100%">
        <q-input
          v-model="GuabaoBangdongVegetarian1Comment"
          label="商品備註"
          :bg-color="inputColor"
          class="col-9"
          outlined
        />
        <q-btn
          color="dark"
          label="取消"
          size="25px"
          @click="ResetGuabaoBangdongVegetarian1"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
          @click="submitGuabaoBangdongVegetarian1"
        />
      </div>
    </q-card>
  </q-dialog>
 <!-- 素食刈包便當 150dialog -->
 <q-dialog v-model="showGuabaoBangdongVegetarian2" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdongVegetarian2Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          v-model.number="GuabaoBangdongVegetarian2TotalQuantity"
          :bg-color="getInputColor(GuabaoBangdongVegetarian2TotalQuantity)"
          label="數量總計"
          class="w-110px q-ml-lg"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongVegetarian2Arbitrarily"
        label="任意搭配"
        class="q-ma-xs w-110px text-white"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongVegetarian2Price"
        label="商品單價"
        class="q-ma-xs w-110px text-white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongVegetarian2TotalQuantityPrice"
        label="餐點總計"
        class="q-ma-xs w-150px text-white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongVegetarian2optionPrice"
        label="選項總計"
        class="q-ma-xs w-150px text-white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongVegetarian2finalTotal"
        label="總計"
        class="q-ma-xs w-150px text-white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2MainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2Main, index
          ) in GuabaoBangdongVegetarian2Mains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2Main.quantity"
            :label="GuabaoBangdongVegetarian2Main.shortname"
            :bg-color="getInputColor(GuabaoBangdongVegetarian2Main.quantity)"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2DrinkName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2Drink, index
          ) in GuabaoBangdongVegetarian2Drinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2Drink.quantity"
            :label="GuabaoBangdongVegetarian2Drink.name"
            filled
            :bg-color="getInputColor(GuabaoBangdongVegetarian2Drink.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2BentoMain, index
          ) in GuabaoBangdongVegetarian2BentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2BentoMain.quantity"
            :label="GuabaoBangdongVegetarian2BentoMain.name"
            filled
            :bg-color="
              getInputColor(GuabaoBangdongVegetarian2BentoMain.quantity)
            "
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2SideDish, index
          ) in GuabaoBangdongVegetarian2SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2SideDish.quantity"
            :bg-color="
              getInputColor(GuabaoBangdongVegetarian2SideDish.quantity)
            "
            :label="GuabaoBangdongVegetarian2SideDish.name"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="row items-center q-ml-md" style="width: 100%">
      <q-input
        v-model="GuabaoBangdongVegetarian2Comment"
        label="商品備註"
        :bg-color="inputColor"
        class="col-9"
        outlined
      />
      <q-btn
        color="dark"
        label="取消"
        size="25px"
        @click="ResetGuabaoBangdongVegetarian2"
        class="q-mx-xs btnSubmitCancel"
      />
      <q-btn
        color="primary"
        label="送出"
        type="submit"
        class="q-mx-xs btnSubmitCancel"
        size="25px"
        @click="submitGuabaoBangdongVegetarian2"
      />
    </div>
  </q-card>
</q-dialog>
      <!-- ----------------------------------------------------------- -->
      <!-- 刈包會議盒餐 dailog -->
<q-dialog v-model="showGuabaoLunchbox2" maximized>
  <!-- 主餐 -->
  <q-card style="overflow-x: hidden">
    <div class="row items-start justify-center" id="GuabaoLunchbox2">
      <div class="color2 bangdongdialog row items-center text-white">
        <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox2Name }}</h5>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          :bg-color="getInputColor(GuabaoLunchbox2TotalQuantity)"
          v-model.number="GuabaoLunchbox2TotalQuantity"
          label="數量總計"
          class="q-ma-xs w-110px"
          min="0"
        />
        <div class="col"></div>
        <div class="row">
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox2Arbitrarily"
            label="任意搭配"
            class="w-110px q-ma-xs"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox2Price"
            label="商品單價"
            class="q-ma-xs w-110px"
            readonly
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox2TotalQuantityPrice"
            label="餐點總計"
            class="q-ma-xs w-150px"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox2optionPrice"
            label="選項總計"
            class="q-ma-xs w-150px"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox2finalTotal"
            label="總計"
            class="q-ma-xs w-150px"
            readonly
            min="0"
          />
        </div>
      </div>
      <div v-for="(GuabaoLunchbox2Main, index) in GuabaoLunchbox2Mains" :key="index">
        <h6 style="margin: 0; padding: 0">
          {{ GuabaoLunchbox2Main.shortname }}
        </h6>
        <q-input
          v-model.number="GuabaoLunchbox2Main.quantity"
          :label="GuabaoLunchbox2Main.shortname"
          filled
          type="number"
          :input-style="{ fontSize: '20px', margin: '0' }"
          :label-style="{ fontSize: '20px' }"
          :bg-color="getInputColor(GuabaoLunchbox2Main.quantity)"
          class="w-110px q-ma-xs"
          min="0"
        />
        <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox2DrinkName }}</h5>
        <div
          v-for="(GuabaoLunchbox2Drink, drinkIndex) in GuabaoLunchbox2Main.drinks"
          :key="drinkIndex"
        >
          <q-input
            v-model.number="GuabaoLunchbox2Drink.quantity"
            :label="GuabaoLunchbox2Drink.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoLunchbox2Drink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px"
          />
        </div>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 lunchbox11">
      <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox2SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoLunchbox2SideDish, index) in GuabaoLunchbox2SideDishes"
          :key="index"
          class="flex-auto"
          :bg-color="inputColor"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoLunchbox2SideDish.quantity"
            :label="GuabaoLunchbox2SideDish.name"
            filled
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            :bg-color="getInputColor(GuabaoLunchbox2SideDish.quantity)"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 lunchbox11">
      <!-- 按鈕 -->
    </div>
    <div class="row items-center w-100 q-ml-md">
      <q-input
        v-model="GuabaoLunchbox2Comment"
        label="商品備註"
        :bg-color="inputColor"
        class="col-9"
      />
      <q-btn
        color="dark"
        label="取消"
        size="30px"
        @click="ResetGuabaoLunchbox2"
        class="q-ma-lg"
      />
      <q-btn
        color="primary"
        label="送出"
        type="submit"
        class="q-ma-lg"
        size="30px"
        @click="submitGuabaoLunchbox2"
      />
    </div>
  </q-card>
</q-dialog>
 <!-- 刈包貴賓盒餐 dailog -->
 <q-dialog v-model="showGuabaoLunchbox3" maximized>
  <!-- 主餐 -->
  <q-card style="overflow-x: hidden">
    <div class="row items-start justify-center" id="GuabaoLunchbox3">
      <div class="color2 bangdongdialog row items-center text-white">
        <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox3Name }}</h5>
        <q-input
          filled
          type="number"
          :bg-color="getInputColor(GuabaoLunchbox3TotalQuantity)"
          :input-style="{ fontSize: '20px' }"
          class="q-ma-xs w-110px"
          v-model.number="GuabaoLunchbox3TotalQuantity"
          label="數量總計"
          min="0"
        />
        <div class="col"></div>
        <div class="row">
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox3Arbitrarily"
            label="任意搭配"
            class="q-ma-xs w-110px"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox3Price"
            label="商品單價"
            class="q-ma-xs w-110px"
            readonly
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox3TotalQuantityPrice"
            label="餐點總計"
            class="q-ma-xs w-150px"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox3optionPrice"
            label="選項總計"
            class="q-ma-xs w-150px"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox3finalTotal"
            label="總計"
            class="q-ma-xs w-150px"
            readonly
            min="0"
          />
        </div>
      </div>
      <div v-for="(GuabaoLunchbox3Main, index) in GuabaoLunchbox3Mains" :key="index">
        <h6 style="margin: 0; padding: 0">
          {{ GuabaoLunchbox3Main.shortname }}
        </h6>
        <q-input
          v-model.number="GuabaoLunchbox3Main.quantity"
          :label="GuabaoLunchbox3Main.shortname"
          filled
          :bg-color="getInputColor(GuabaoLunchbox3Main.quantity)"
          type="number"
          :input-style="{ fontSize: '20px', margin: '0' }"
          :label-style="{ fontSize: '20px' }"
          class="w-110px q-ma-xs"
          min="0"
        />
        <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox3DrinkName }}</h5>
        <div
          v-for="(GuabaoLunchbox3Drink, drinkIndex) in GuabaoLunchbox3Main.drinks"
          :key="drinkIndex"
        >
          <q-input
            v-model.number="GuabaoLunchbox3Drink.quantity"
            :label="GuabaoLunchbox3Drink.name"
            filled
            :bg-color="getInputColor(GuabaoLunchbox3Drink.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
            class="w-110px"
          />
        </div>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 lunchbox11">
      <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox3SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoLunchbox3SideDish, index) in GuabaoLunchbox3SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoLunchbox3SideDish.quantity"
            :label="GuabaoLunchbox3SideDish.name"
            filled
            :bg-color="getInputColor(GuabaoLunchbox3SideDish.quantity)"
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 lunchbox11"></div>
    <!-- 按鈕 -->
    <div class="row items-center q-ml-md">
      <q-input
        v-model="GuabaoLunchbox3Comment"
        label="商品備註"
        :bg-color="inputColor"
        class="col-9"
      />
      <q-btn
        color="dark"
        label="取消"
        @click="ResetGuabaoLunchbox3"
        class="q-ma-lg"
        size="30px"
      />
      <q-btn
        color="primary"
        label="送出"
        type="submit"
        class="q-ma-lg"
        @click="submitGuabaoLunchbox3"
        size="30px"
      />
    </div>
  </q-card>
</q-dialog>
<!-- 刈包首席盒餐 dailog -->
<q-dialog v-model="showGuabaoLunchbox4" maximized>
  <!-- 主餐 -->
  <q-card style="overflow-x: hidden">
    <div class="row items-start justify-center" id="GuabaoLunchbox4">
      <div class="color2 bangdongdialog row items-center text-white">
        <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox4Name }}</h5>
        <q-input
          filled
          type="number"
          class="q-ma-xs w-110px"
          :input-style="{ fontSize: '20px' }"
          :bg-color="getInputColor(GuabaoLunchbox4TotalQuantity)"
          v-model.number="GuabaoLunchbox4TotalQuantity"
          label="數量總計"
          min="0"
        />
        <div class="col"></div>
        <div class="row">
          <q-input
            filled
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox4Arbitrarily"
            label="任意搭配"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox4Price"
            label="商品單價"
            readonly
          />
          <q-input
            filled
            type="number"
            class="q-ma-xs w-150px"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox4TotalQuantityPrice"
            label="餐點總計"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            class="q-ma-xs w-150px"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox4optionPrice"
            label="選項總計"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            class="q-ma-xs w-150px"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            v-model.number="GuabaoLunchbox4finalTotal"
            label="金額總計"
            readonly
            min="0"
          />
        </div>
      </div>
      <div v-for="(GuabaoLunchbox4Main, index) in GuabaoLunchbox4Mains" :key="index">
        <h6 style="margin: 0; padding: 0">
          {{ GuabaoLunchbox4Main.shortname }}
        </h6>
        <q-input
          v-model.number="GuabaoLunchbox4Main.quantity"
          :label="GuabaoLunchbox4Main.shortname"
          filled
          class="q-ma-xs w-110px"
          :bg-color="getInputColor(GuabaoLunchbox4Main.quantity)"
          type="number"
          :input-style="{ fontSize: '20px', margin: '0' }"
          :label-style="{ fontSize: '20px' }"
          min="0"
        />
        <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox4DrinkName }}</h5>
        <div
          v-for="(GuabaoLunchbox4Drink, drinkIndex) in GuabaoLunchbox4Main.drinks"
          :key="drinkIndex"
        >
          <q-input
            v-model.number="GuabaoLunchbox4Drink.quantity"
            :label="GuabaoLunchbox4Drink.name"
            filled
            :bg-color="getInputColor(GuabaoLunchbox4Drink.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
            class="w-110px"
          />
        </div>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 lunchbox11">
      <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox4SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoLunchbox4SideDish, index) in GuabaoLunchbox4SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoLunchbox4SideDish.quantity"
            :label="GuabaoLunchbox4SideDish.name"
            filled
            class="q-ma-xs w-110px"
            type="number"
            :bg-color="getInputColor(GuabaoLunchbox4SideDish.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 lunchbox11"></div>
    <!-- 按鈕 -->
    <div class="row items-center w-100 q-ml-md">
      <q-input
        v-model="GuabaoLunchbox4Comment"
        label="商品備註"
        :bg-color="inputColor"
        class="col-9"
      />

      <q-btn
        color="dark"
        label="取消"
        size="30px"
        @click="ResetGuabaoLunchbox4"
        class="q-ma-lg"
      />
      <q-btn
        color="primary"
        label="送出"
        type="submit"
        class="q-ma-lg"
        size="30px"
        @click="submitGuabaoLunchbox4"
      />
    </div>
  </q-card>
</q-dialog>

      <!-- ----------------------------------------------------------- -->

      <!-- 招牌便當 dialog -->
      <q-dialog v-model="showbangdong1" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdong1Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdong1TotalQuantity"
                :bg-color="getInputColor(bangdong1TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong1Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong1Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong1TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong1optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong1finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong1MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong1Main, index) in bangdong1Mains"
                :key="index"
                class="flex-auto q-ma-none q-pa-none"
              >
                <q-input
                  v-model.number="bangdong1Main.quantity"
                  :label="bangdong1Main.shortname"
                  :bg-color="getInputColor(bangdong1Main.quantity)"
                  class="q-ma-xs w-110px"
                  filled
                  type="number"
                  :input-style="{
                    fontSize: '20px',
                    margin: '0',
                    color: 'black',
                  }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong1DrinkName }}</h5>
            <div class="row items-center" style="height: 100%">
              <q-item
                v-for="(bangdong1Drink, index) in bangdong1Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong1Drink.quantity"
                  :label="bangdong1Drink.name"
                  :bg-color="getInputColor(bangdong1Drink.quantity)"
                  class="q-ma-xs w-110px"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong1SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong1SideDish, index) in bangdong1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong1SideDish.quantity"
                  :label="bangdong1SideDish.name"
                  :bg-color="getInputColor(bangdong1SideDish.quantity)"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->

          <!-- 備註 -->
          <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
            <div class="row w-100 justify-between">
              <q-input
                :bg-color="inputColor"
                outlined
                v-model="bangdong1Comment"
                label="商品備註"
                class="col-8"
              />

              <q-btn
                color="dark"
                label="取消"
                size="25px"
                @click="Resetbangdong1"
                class="q-mx-xs btnSubmitCancel"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="submitBangdong1"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>
         <!-- 招牌素便當 dialog -->
   <q-dialog v-model="showbangdong6" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ bangdong6Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            class="w-110px q-ml-lg"
            :input-style="{ fontSize: '20px' }"
            v-model.number="bangdong6TotalQuantity"
            :bg-color="getInputColor(bangdong6TotalQuantity)"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="bangdong6Arbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="bangdong6Price"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="bangdong6TotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="bangdong6optionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="bangdong6finalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ bangdong6MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(bangdong6Main, index) in bangdong6Mains"
            :key="index"
            class="flex-auto q-ma-none q-pa-none"
          >
            <q-input
              v-model.number="bangdong6Main.quantity"
              :label="bangdong6Main.shortname"
              :bg-color="getInputColor(bangdong6Main.quantity)"
              class="q-ma-xs w-110px"
              filled
              type="number"
              :input-style="{
                fontSize: '20px',
                margin: '0',
                color: 'black',
              }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ bangdong6DrinkName }}</h5>
        <div class="row items-center" style="height: 100%">
          <q-item
            v-for="(bangdong6Drink, index) in bangdong6Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="bangdong6Drink.quantity"
              :label="bangdong6Drink.name"
              :bg-color="getInputColor(bangdong6Drink.quantity)"
              class="q-ma-xs w-110px"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ bangdong6SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(bangdong6SideDish, index) in bangdong6SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="bangdong6SideDish.quantity"
              :label="bangdong6SideDish.name"
              :bg-color="getInputColor(bangdong6SideDish.quantity)"
              filled
              type="number"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->

      <!-- 備註 -->
      <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
        <div class="row w-100 justify-between">
          <q-input
            :bg-color="inputColor"
            outlined
            v-model="bangdong6Comment"
            label="商品備註"
            class="col-8"
          />

          <q-btn
            color="dark"
            label="取消"
            size="25px"
            @click="Resetbangdong6"
            class="q-mx-xs btnSubmitCancel"
          />
          <q-btn
            color="primary"
            label="送出"
            type="submit"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
            @click="submitBangdong6"
          />
        </div>
      </div>
    </q-card>
  </q-dialog>
      <!-- 雞胸便當 dailog -->
      <q-dialog v-model="showbangdong2" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdong2Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdong2TotalQuantity"
                :bg-color="getInputColor(bangdong2TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong2Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              type="number"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong2Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong2TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong2optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong2finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong2MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong2Main, index) in bangdong2Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong2Main.quantity"
                  :bg-color="getInputColor(bangdong2Main.quantity)"
                  :label="bangdong2Main.shortname"
                  filled
                  class="q-ma-xs w-110px"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong2DrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong2Drink, index) in bangdong2Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong2Drink.quantity"
                  :bg-color="getInputColor(bangdong2Drink.quantity)"
                  :label="bangdong2Drink.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong2BentoMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong2BentoMain, index) in bangdong2BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong2BentoMain.quantity"
                  :bg-color="getInputColor(bangdong2BentoMain.quantity)"
                  :label="bangdong2BentoMain.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong2SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong2SideDish, index) in bangdong2SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong2SideDish.quantity"
                  :label="bangdong2SideDish.name"
                  :bg-color="getInputColor(bangdong2SideDish.quantity)"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 bangdongdialog">
            <!-- 按鈕 -->
            <div class="row q-mt-xl w-100 items-center justify-between">
              <q-input
                outlined
                :bg-color="inputColor"
                v-model="bangdong2Comment"
                label="商品備註"
                class="col-8"
              />
              <q-btn
                color="dark"
                label="取消"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="Resetbangdong2"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="submitBangdong2"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>
      <!-- 雞腿便當 dailog -->
      <q-dialog v-model="showbangdong3" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdong3Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdong3TotalQuantity"
                :bg-color="getInputColor(bangdong3TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong3Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong3Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong3TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong3optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong3finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong3MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong3Main, index) in bangdong3Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong3Main.quantity"
                  :label="bangdong3Main.shortname"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdong3Main.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong3DrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong3Drink, index) in bangdong3Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong3Drink.quantity"
                  :label="bangdong3Drink.name"
                  filled
                  :bg-color="getInputColor(bangdong3Drink.quantity)"
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong3BentoMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong3BentoMain, index) in bangdong3BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong3BentoMain.quantity"
                  :label="bangdong3BentoMain.name"
                  filled
                  :bg-color="getInputColor(bangdong3BentoMain.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '40px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong3SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong3SideDish, index) in bangdong3SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong3SideDish.quantity"
                  :label="bangdong3SideDish.name"
                  :bg-color="getInputColor(bangdong3SideDish.quantity)"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
            <div class="row w-100 justify-between">
              <q-input
                :bg-color="inputColor"
                v-model="bangdong3Comment"
                label="商品備註"
                outlined
                class="col-8"
              />
              <q-btn
                color="dark"
                label="取消"
                @click="Resetbangdong3"
                class="q-mx-xs btnSubmitCancel"
                size="25px"
              />
              <q-btn
                color="primary"
                label="送出"
                type="submit"
                class="q-mx-xs btnSubmitCancel"
                size="25px"
                @click="submitBangdong3"
              />
            </div>
          </div>
        </q-card>
      </q-dialog>
      <!-- 滷牛便當 dailog -->
      <q-dialog v-model="showbangdong4" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdong4Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdong4TotalQuantity"
                :bg-color="getInputColor(bangdong4TotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong4Arbitrarily"
              label="任意搭配"
              min="0"
            />
            <q-input
              min="0"
              filled
              label-color="white"
              class="q-ma-xs w-110px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong4Price"
              label="商品單價"
              readonly
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong4TotalQuantityPrice"
              label="餐點總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong4optionPrice"
              label="選項總計"
              readonly
              min="0"
            />
            <q-input
              filled
              label-color="white"
              class="q-ma-xs w-150px text-white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdong4finalTotal"
              label="總計"
              readonly
              min="0"
            />
          </div>

          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong4MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong4Main, index) in bangdong4Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong4Main.quantity"
                  :label="bangdong4Main.shortname"
                  filled
                  :bg-color="getInputColor(bangdong4Main.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong4DrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong4Drink, index) in bangdong4Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong4Drink.quantity"
                  :label="bangdong4Drink.name"
                  :bg-color="getInputColor(bangdong4Drink.quantity)"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong4BentoMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong4BentoMain, index) in bangdong4BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong4BentoMain.quantity"
                  :label="bangdong4BentoMain.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdong4BentoMain.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdong4SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdong4SideDish, index) in bangdong4SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdong4SideDish.quantity"
                  :label="bangdong4SideDish.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdong4SideDish.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <!-- 按鈕 -->
          <div class="row items-center q-ml-md w-100 q-mt-xl">
            <q-input
              v-model="bangdong4Comment"
              label="商品備註"
              outlined
              :bg-color="inputColor"
              class="col-9"
            />
            <q-btn
              color="dark"
              label="取消"
              @click="Resetbangdong4"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
            />
            <q-btn
              color="primary"
              label="送出"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
              @click="submitBangdong4"
            />
          </div>
        </q-card>
      </q-dialog>
      <!-- 鮭魚 dialog -->
      <q-dialog v-model="showbangdongSalmon" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdongSalmonName }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                class="w-110px q-ml-lg"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdongSalmonTotalQuantity"
                :bg-color="getInputColor(bangdongSalmonTotalQuantity)"
                label="數量總計"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              label-color="white"
              v-model.number="bangdongSalmonArbitrarily"
              label="任意搭配"
              class="q-ma-xs w-110px text-white"
              min="0"
            />
            <q-input
              min="0"
              filled
              type="number"
              label-color="white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongSalmonPrice"
              label="商品單價"
              class="q-ma-xs w-110px"
              readonly
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              class="q-ma-xs w-150px text-white"
              v-model.number="bangdongSalmonTotalQuantityPrice"
              label="餐點總計"
              label-color="white"
              readonly
              min="0"
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              class="q-ma-xs w-150px text-white"
              v-model.number="bangdongSalmonoptionPrice"
              label="選項總計"
              label-color="white"
              readonly
              min="0"
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              class="q-ma-xs w-150px text-white"
              v-model.number="bangdongSalmonfinalTotal"
              label="總計"
              label-color="white"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdongSalmonMainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSalmonMain, index) in bangdongSalmonMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongSalmonMain.quantity"
                  :label="bangdongSalmonMain.shortname"
                  filled
                  :bg-color="getInputColor(bangdongSalmonMain.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">{{ bangdongSalmonDrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSalmonDrink, index) in bangdongSalmonDrinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongSalmonDrink.quantity"
                  :label="bangdongSalmonDrink.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongSalmonDrink.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongSalmonBentoMainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongSalmonBentoMain, index
                ) in bangdongSalmonBentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongSalmonBentoMain.quantity"
                  :label="bangdongSalmonBentoMain.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongSalmonBentoMain.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongSalmonSideDishName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongSalmonSideDish, index
                ) in bangdongSalmonSideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongSalmonSideDish.quantity"
                  :label="bangdongSalmonSideDish.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongSalmonSideDish.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 bangdongdialog">
            <div class="row"></div>
          </div>
          <!-- 按鈕 -->
          <div class="row items-center q-ml-md" style="width: 100%">
            <q-input
              v-model="bangdongSalmonComment"
              label="商品備註"
              :bg-color="inputColor"
              outlined
              class="col-9"
            />
            <q-btn
              color="dark"
              label="取消"
              size="25px"
              @click="ResetbangdongSalmon"
              class="q-mx-xs btnSubmitCancel"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
              @click="submitBangdongSalmon"
            />
          </div>
        </q-card>
      </q-dialog>

       <!-- 牛肉丸便當 dailog -->
 <q-dialog v-model="showbangdong5" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ bangdong5Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          class="w-110px q-ml-lg"
          :input-style="{ fontSize: '20px' }"
          v-model.number="bangdong5TotalQuantity"
          :bg-color="getInputColor(bangdong5TotalQuantity)"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="bangdong5Arbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        label-color="white"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="bangdong5Price"
        label="商品單價"
        readonly
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="bangdong5TotalQuantityPrice"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="bangdong5optionPrice"
        label="選項總計"
        readonly
        min="0"
      />
      <q-input
        filled
        label-color="white"
        class="q-ma-xs w-150px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="bangdong5finalTotal"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong5MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong5Main, index) in bangdong5Mains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5Main.quantity"
            :label="bangdong5Main.shortname"
            filled
            type="number"
            :bg-color="getInputColor(bangdong5Main.quantity)"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong5DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong5Drink, index) in bangdong5Drinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5Drink.quantity"
            :label="bangdong5Drink.name"
            filled
            :bg-color="getInputColor(bangdong5Drink.quantity)"
            type="number"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong5BentoMainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong5BentoMain, index) in bangdong5BentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5BentoMain.quantity"
            :label="bangdong5BentoMain.name"
            filled
            :bg-color="getInputColor(bangdong5BentoMain.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '40px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong5SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong5SideDish, index) in bangdong5SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5SideDish.quantity"
            :label="bangdong5SideDish.name"
            :bg-color="getInputColor(bangdong5SideDish.quantity)"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 w-100 q-pa-xs q-mx-lg q-mt-xl">
      <div class="row w-100 justify-between">
        <q-input
          :bg-color="inputColor"
          v-model="bangdong5Comment"
          label="商品備註"
          outlined
          class="col-8"
        />
        <q-btn
          color="dark"
          label="取消"
          @click="Resetbangdong5"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          class="q-mx-xs btnSubmitCancel"
          size="25px"
          @click="submitBangdong5"
        />
      </div>
    </div>
  </q-card>
</q-dialog>
      <!-- 素食便當 125dialog -->
      <q-dialog v-model="showbangdongVegetarian1" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdongVegetarian1Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model="bangdongVegetarian1TotalQuantity"
                :bg-color="getInputColor(bangdongVegetarian1TotalQuantity)"
                label="數量總計"
                class="q-ma-xs w-110px"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian1Arbitrarily"
              label="任意搭配"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              min="0"
            />
            <q-input
              min="0"
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian1Price"
              label="商品單價"
              label-color="white"
              class="q-ma-xs w-110px text-white"
              readonly
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian1TotalQuantityPrice"
              label="餐點總計"
              readonly
              label-color="white"
              class="q-ma-xs w-150px text-white"
              min="0"
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian1optionPrice"
              label="選項總計"
              readonly
              label-color="white"
              class="q-ma-xs w-150px text-white"
              min="0"
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian1finalTotal"
              label="總計"
              readonly
              label-color="white"
              class="q-ma-xs w-150px text-white"
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian1MainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian1Main, index
                ) in bangdongVegetarian1Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian1Main.quantity"
                  :bg-color="getInputColor(bangdongVegetarian1Main.quantity)"
                  :label="bangdongVegetarian1Main.shortname"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian1DrinkName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian1Drink, index
                ) in bangdongVegetarian1Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian1Drink.quantity"
                  :bg-color="getInputColor(bangdongVegetarian1Drink.quantity)"
                  :label="bangdongVegetarian1Drink.name"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian1BentoMainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian1BentoMain, index
                ) in bangdongVegetarian1BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian1BentoMain.quantity"
                  :bg-color="
                    getInputColor(bangdongVegetarian1BentoMain.quantity)
                  "
                  :label="bangdongVegetarian1BentoMain.name"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian1SideDishName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian1SideDish, index
                ) in bangdongVegetarian1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian1SideDish.quantity"
                  :label="bangdongVegetarian1SideDish.name"
                  :bg-color="
                    getInputColor(bangdongVegetarian1SideDish.quantity)
                  "
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 bangdongdialog">
            <div class="row"></div>
          </div>
          <div class="row items-center q-ml-md" style="width: 100%">
            <q-input
              v-model="bangdongVegetarian1Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
              outlined
            />
            <q-btn
              color="dark"
              label="取消"
              size="25px"
              @click="ResetbangdongVegetarian1"
              class="q-mx-xs btnSubmitCancel"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-mx-xs btnSubmitCancel"
              size="25px"
              @click="submitBangdongVegetarian1"
            />
          </div>
        </q-card>
      </q-dialog>
      <!-- 素食便當 150dialog -->
      <q-dialog v-model="showbangdongVegetarian2" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <div class="text-h5 col-1">{{ bangdongVegetarian2Name }}</div>
            <div class="text-h5 q-ml-md col-2 row items-center">
              總計
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdongVegetarian2TotalQuantity"
                :bg-color="getInputColor(bangdongVegetarian2TotalQuantity)"
                label="數量總計"
                class="w-110px q-ml-lg"
                min="0"
              />
            </div>
            <div class="col"></div>
            <q-input
              filled
              type="number"
              label-color="white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian2Arbitrarily"
              label="任意搭配"
              class="q-ma-xs w-110px text-white"
              min="0"
            />
            <q-input
              min="0"
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian2Price"
              label="商品單價"
              class="q-ma-xs w-110px text-white"
              readonly
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian2TotalQuantityPrice"
              label="餐點總計"
              class="q-ma-xs w-150px text-white"
              readonly
              min="0"
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian2optionPrice"
              label="選項總計"
              class="q-ma-xs w-150px text-white"
              readonly
              min="0"
            />
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px', color: 'white' }"
              v-model.number="bangdongVegetarian2finalTotal"
              label="總計"
              class="q-ma-xs w-150px text-white"
              readonly
              min="0"
            />
          </div>
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian2MainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian2Main, index
                ) in bangdongVegetarian2Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian2Main.quantity"
                  :label="bangdongVegetarian2Main.shortname"
                  :bg-color="getInputColor(bangdongVegetarian2Main.quantity)"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian2DrinkName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian2Drink, index
                ) in bangdongVegetarian2Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian2Drink.quantity"
                  :label="bangdongVegetarian2Drink.name"
                  filled
                  :bg-color="getInputColor(bangdongVegetarian2Drink.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian2BentoMainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian2BentoMain, index
                ) in bangdongVegetarian2BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian2BentoMain.quantity"
                  :label="bangdongVegetarian2BentoMain.name"
                  filled
                  :bg-color="
                    getInputColor(bangdongVegetarian2BentoMain.quantity)
                  "
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 bangdongdialog">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongVegetarian2SideDishName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongVegetarian2SideDish, index
                ) in bangdongVegetarian2SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="bangdongVegetarian2SideDish.quantity"
                  :bg-color="
                    getInputColor(bangdongVegetarian2SideDish.quantity)
                  "
                  :label="bangdongVegetarian2SideDish.name"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-ma-xs w-110px"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="row items-center q-ml-md" style="width: 100%">
            <q-input
              v-model="bangdongVegetarian2Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
              outlined
            />
            <q-btn
              color="dark"
              label="取消"
              size="25px"
              @click="ResetbangdongVegetarian2"
              class="q-mx-xs btnSubmitCancel"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-mx-xs btnSubmitCancel"
              size="25px"
              @click="submitBangdongVegetarian2"
            />
          </div>
        </q-card>
      </q-dialog>
      <!-- 盒餐 dailog -->
      <q-dialog v-model="showlunchBox" class="lunchBoxdailog">
        <q-card class="column" id="dialogbtnLunchBoxCard">
          <div class="w-100 col row justify-end h-40px q-my-md">
            <div class="col-1">
              <q-btn
                @click="showlunchBox = false"
                round
                icon="close"
                color="dark"
              />
            </div>
          </div>
          <!-- 盒餐按鈕 -->
          <div class="items-center justify-center row w-100 col">
            <q-btn
              color="dark"
              class="col-5 btnLunchbox"
              :label="lunchBox2Name"
              @click="
                showlunchBox2 = true;
                showlunchBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnLunchbox"
              :label="lunchBox3Name"
              @click="
                showlunchBox3 = true;
                showlunchBox = false;
              "
            />

            <q-btn
              color="dark"
              class="col-5 btnLunchbox"
              :label="lunchBox4Name"
              @click="
                showlunchBox4 = true;
                showlunchBox = false;
              "
            />
            <q-btn
              color="dark"
              class="col-5 btnLunchbox"
              :label="lunchBox1Name"
              @click="
                showlunchBox1 = true;
                showlunchBox = false;
              "
            />
            <!-- <q-btn
              color="dark"
              class="col-5 btnLunchbox"
              :label="lunchBox214Name"
              @click="
                showlunchBox214 = true;
                showlunchBox = false;
              "
            /> -->
            <div
              class="col-5 btnLunchbox bg-white"
            ></div>
          </div>
        </q-card>
      </q-dialog>

      <!-- 經濟盒餐 dailog -->
      <q-dialog v-model="showlunchBox1" maximized>
        <!-- 主餐 -->
        <q-card style="overflow-x: hidden">
          <div class="row items-start justify-center" id="lunchbox1">
            <div class="color2 bangdongdialog row items-center text-white">
              <h5 style="margin: 0; padding: 0">{{ lunchBox1Name }} 總計</h5>
              <q-input
                filled
                type="number"
                :bg-color="getInputColor(lunchBox1TotalQuantity)"
                class="q-mx-md w-110px"
                :input-style="{ fontSize: '20px' }"
                v-model.number="lunchBox1TotalQuantity"
                label="數量總計"
                min="0"
              />
              <div class="col"></div>
              <div class="row">
                <q-input
                  filled
                  type="number"
                  label-color="white"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  v-model.number="lunchBox1Arbitrarily"
                  label="任意搭配"
                  min="0"
                />
                <q-input
                  min="0"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  label-color="white"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  v-model.number="lunchBox1Price"
                  label="商品單價"
                  readonly
                />
                <q-input
                  filled
                  type="number"
                  label-color="white"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  v-model.number="lunchBox1TotalQuantityPrice"
                  label="餐點總計"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  label-color="white"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  v-model.number="lunchBox1optionPrice"
                  label="選項總計"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  label-color="white"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  v-model.number="lunchbox1finalTotal"
                  label="總計"
                  readonly
                  min="0"
                />
              </div>
            </div>
            <div v-for="(lunchBox1Main, index) in lunchBox1Mains" :key="index">
              <h6 style="margin: 0; padding: 0">
                {{ lunchBox1Main.shortname }}
              </h6>
              <q-input
                v-model.number="lunchBox1Main.quantity"
                :label="lunchBox1Main.shortname"
                filled
                type="number"
                :bg-color="getInputColor(lunchBox1Main.quantity)"
                class="q-ma-xs w-110px"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                min="0"
              />
            </div>
            <!-- <h5 style="margin: 0; padding: 0">{{ lunchBox1DrinkName }}</h5>
              <div
                v-for="(lunchBox1Drink, drinkIndex) in lunchBox1Main.drinks"
                :key="drinkIndex"
              >
                <q-input
                  v-model.number="lunchBox1Drink.quantity"
                  :label="lunchBox1Drink.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBox1Drink.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </div>
            </div>
          </div>

          <div class="color1 lunchbox11">
            <h5 style="margin: 0; padding: 0">{{ lunchBox1SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(lunchBox1SideDish, index) in lunchBox1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="lunchBox1SideDish.quantity"
                  :label="lunchBox1SideDish.name"
                  filled
                  :bg-color="getInputColor(lunchBox1SideDish.quantity)"
                  class="q-ma-xs w-110px"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>-->
          </div>
          <!-- 總計 -->
          <div class="color1 lunchbox11 justify-center q-mt-xl"></div>
          <div class="row items-center" style="width: 100%">
            <q-input
              v-model="lunchbox1Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="q-ml-lg col-8"
            />

            <q-btn
              color="dark"
              label="取消"
              size="30px"
              @click="Resetlunchbox1"
              class="q-ma-lg col-1"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-ma-lg col-1"
              size="30px"
              @click="submitLunchbox1"
            />
          </div>
        </q-card>
      </q-dialog>

      <!-- 會議盒餐 dailog -->
      <q-dialog v-model="showlunchBox2" maximized>
        <!-- 主餐 -->
        <q-card style="overflow-x: hidden">
          <div class="row items-start justify-center" id="lunchbox2">
            <div class="color2 bangdongdialog row items-center text-white">
              <h5 style="margin: 0; padding: 0">{{ lunchBox2Name }}</h5>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                :bg-color="getInputColor(lunchBox2TotalQuantity)"
                v-model.number="lunchBox2TotalQuantity"
                label="數量總計"
                class="q-ma-xs w-110px"
                min="0"
              />
              <div class="col"></div>
              <div class="row">
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox2Arbitrarily"
                  label="任意搭配"
                  class="w-110px q-ma-xs"
                  min="0"
                />
                <q-input
                  min="0"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox2Price"
                  label="商品單價"
                  class="q-ma-xs w-110px"
                  readonly
                />
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox2TotalQuantityPrice"
                  label="餐點總計"
                  class="q-ma-xs w-150px"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox2optionPrice"
                  label="選項總計"
                  class="q-ma-xs w-150px"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchbox2finalTotal"
                  label="總計"
                  class="q-ma-xs w-150px"
                  readonly
                  min="0"
                />
              </div>
            </div>
            <div v-for="(lunchBox2Main, index) in lunchBox2Mains" :key="index">
              <h6 style="margin: 0; padding: 0">
                {{ lunchBox2Main.shortname }}
              </h6>
              <q-input
                v-model.number="lunchBox2Main.quantity"
                :label="lunchBox2Main.shortname"
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                :bg-color="getInputColor(lunchBox2Main.quantity)"
                class="w-110px q-ma-xs"
                min="0"
              />
              <h5 style="margin: 0; padding: 0">{{ lunchBox2DrinkName }}</h5>
              <div
                v-for="(lunchBox2Drink, drinkIndex) in lunchBox2Main.drinks"
                :key="drinkIndex"
              >
                <q-input
                  v-model.number="lunchBox2Drink.quantity"
                  :label="lunchBox2Drink.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBox2Drink.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="w-110px"
                />
              </div>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 lunchbox11">
            <h5 style="margin: 0; padding: 0">{{ lunchBox2SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(lunchBox2SideDish, index) in lunchBox2SideDishes"
                :key="index"
                class="flex-auto"
                :bg-color="inputColor"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="lunchBox2SideDish.quantity"
                  :label="lunchBox2SideDish.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  :bg-color="getInputColor(lunchBox2SideDish.quantity)"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 lunchbox11">
            <!-- 按鈕 -->
          </div>
          <div class="row items-center w-100 q-ml-md">
            <q-input
              v-model="lunchbox2Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />
            <q-btn
              color="dark"
              label="取消"
              size="30px"
              @click="Resetlunchbox2"
              class="q-ma-lg"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-ma-lg"
              size="30px"
              @click="submitLunchbox2"
            />
          </div>
        </q-card>
      </q-dialog>
      <!-- 貴賓盒餐 dailog -->
      <q-dialog v-model="showlunchBox3" maximized>
        <!-- 主餐 -->
        <q-card style="overflow-x: hidden">
          <div class="row items-start justify-center" id="lunchbox3">
            <div class="color2 bangdongdialog row items-center text-white">
              <h5 style="margin: 0; padding: 0">{{ lunchBox3Name }}</h5>
              <q-input
                filled
                type="number"
                :bg-color="getInputColor(lunchBox3TotalQuantity)"
                :input-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                v-model.number="lunchBox3TotalQuantity"
                label="數量總計"
                min="0"
              />
              <div class="col"></div>
              <div class="row">
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox3Arbitrarily"
                  label="任意搭配"
                  class="q-ma-xs w-110px"
                  min="0"
                />
                <q-input
                  min="0"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox3Price"
                  label="商品單價"
                  class="q-ma-xs w-110px"
                  readonly
                />
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox3TotalQuantityPrice"
                  label="餐點總計"
                  class="q-ma-xs w-150px"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox3optionPrice"
                  label="選項總計"
                  class="q-ma-xs w-150px"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchbox3finalTotal"
                  label="總計"
                  class="q-ma-xs w-150px"
                  readonly
                  min="0"
                />
              </div>
            </div>
            <div v-for="(lunchBox3Main, index) in lunchBox3Mains" :key="index">
              <h6 style="margin: 0; padding: 0">
                {{ lunchBox3Main.shortname }}
              </h6>
              <q-input
                v-model.number="lunchBox3Main.quantity"
                :label="lunchBox3Main.shortname"
                filled
                :bg-color="getInputColor(lunchBox3Main.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="w-110px q-ma-xs"
                min="0"
              />
              <h5 style="margin: 0; padding: 0">{{ lunchBox3DrinkName }}</h5>
              <div
                v-for="(lunchBox3Drink, drinkIndex) in lunchBox3Main.drinks"
                :key="drinkIndex"
              >
                <q-input
                  v-model.number="lunchBox3Drink.quantity"
                  :label="lunchBox3Drink.name"
                  filled
                  :bg-color="getInputColor(lunchBox3Drink.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                  class="w-110px"
                />
              </div>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 lunchbox11">
            <h5 style="margin: 0; padding: 0">{{ lunchBox3SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(lunchBox3SideDish, index) in lunchBox3SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="lunchBox3SideDish.quantity"
                  :label="lunchBox3SideDish.name"
                  filled
                  :bg-color="getInputColor(lunchBox3SideDish.quantity)"
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 lunchbox11"></div>
          <!-- 按鈕 -->
          <div class="row items-center q-ml-md">
            <q-input
              v-model="lunchbox3Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />
            <q-btn
              color="dark"
              label="取消"
              @click="Resetlunchbox3"
              class="q-ma-lg"
              size="30px"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-ma-lg"
              @click="submitLunchbox3"
              size="30px"
            />
          </div>
        </q-card>
      </q-dialog>
      <!-- 首席盒餐 dailog -->
      <q-dialog v-model="showlunchBox4" maximized>
        <!-- 主餐 -->
        <q-card style="overflow-x: hidden">
          <div class="row items-start justify-center" id="lunchbox4">
            <div class="color2 bangdongdialog row items-center text-white">
              <h5 style="margin: 0; padding: 0">{{ lunchBox4Name }}</h5>
              <q-input
                filled
                type="number"
                class="q-ma-xs w-110px"
                :input-style="{ fontSize: '20px' }"
                :bg-color="getInputColor(lunchBox4TotalQuantity)"
                v-model.number="lunchBox4TotalQuantity"
                label="數量總計"
                min="0"
              />
              <div class="col"></div>
              <div class="row">
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox4Arbitrarily"
                  label="任意搭配"
                  min="0"
                />
                <q-input
                  min="0"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox4Price"
                  label="商品單價"
                  readonly
                />
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox4TotalQuantityPrice"
                  label="餐點總計"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox4optionPrice"
                  label="選項總計"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchbox4finalTotal"
                  label="金額總計"
                  readonly
                  min="0"
                />
              </div>
            </div>
            <div v-for="(lunchBox4Main, index) in lunchBox4Mains" :key="index">
              <h6 style="margin: 0; padding: 0">
                {{ lunchBox4Main.shortname }}
              </h6>
              <q-input
                v-model.number="lunchBox4Main.quantity"
                :label="lunchBox4Main.shortname"
                filled
                class="q-ma-xs w-110px"
                :bg-color="getInputColor(lunchBox4Main.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                min="0"
              />
              <h5 style="margin: 0; padding: 0">{{ lunchBox4DrinkName }}</h5>
              <div
                v-for="(lunchBox4Drink, drinkIndex) in lunchBox4Main.drinks"
                :key="drinkIndex"
              >
                <q-input
                  v-model.number="lunchBox4Drink.quantity"
                  :label="lunchBox4Drink.name"
                  filled
                  :bg-color="getInputColor(lunchBox4Drink.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                  class="w-110px"
                />
              </div>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 lunchbox11">
            <h5 style="margin: 0; padding: 0">{{ lunchBox4SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(lunchBox4SideDish, index) in lunchBox4SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="lunchBox4SideDish.quantity"
                  :label="lunchBox4SideDish.name"
                  filled
                  class="q-ma-xs w-110px"
                  type="number"
                  :bg-color="getInputColor(lunchBox4SideDish.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 lunchbox11"></div>
          <!-- 按鈕 -->
          <div class="row items-center w-100 q-ml-md">
            <q-input
              v-model="lunchbox4Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />

            <q-btn
              color="dark"
              label="取消"
              size="30px"
              @click="Resetlunchbox4"
              class="q-ma-lg"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-ma-lg"
              size="30px"
              @click="submitLunchbox4"
            />
          </div>
        </q-card>
      </q-dialog>
      <!--214盒餐 dailog -->
      <q-dialog v-model="showlunchBox214" maximized>
        <!-- 主餐 -->
        <q-card style="overflow-x: hidden">
          <div class="row items-start justify-center" id="lunchbox4">
            <div class="color2 bangdongdialog row items-center text-white">
              <h5 style="margin: 0; padding: 0">{{ lunchBox214Name }}</h5>
              <q-input
                filled
                type="number"
                class="q-ma-xs w-110px"
                :input-style="{ fontSize: '20px' }"
                :bg-color="getInputColor(lunchBox214TotalQuantity)"
                v-model.number="lunchBox214TotalQuantity"
                label="數量總計"
                min="0"
              />
              <div class="col"></div>
              <div class="row">
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox214Arbitrarily"
                  label="任意搭配"
                  min="0"
                />
                <q-input
                  min="0"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox214Price"
                  label="商品單價"
                  readonly
                />
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox214TotalQuantityPrice"
                  label="餐點總計"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchBox214optionPrice"
                  label="選項總計"
                  readonly
                  min="0"
                />
                <q-input
                  filled
                  type="number"
                  class="q-ma-xs w-150px"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  label-color="white"
                  v-model.number="lunchbox214finalTotal"
                  label="金額總計"
                  readonly
                  min="0"
                />
              </div>
            </div>
            <div
              v-for="(lunchBox214Main, index) in lunchBox214Mains"
              :key="index"
            >
              <h6 style="margin: 0; padding: 0">
                {{ lunchBox214Main.shortname }}
              </h6>
              <q-input
                v-model.number="lunchBox214Main.quantity"
                :label="lunchBox214Main.shortname"
                filled
                class="q-ma-xs w-110px"
                :bg-color="getInputColor(lunchBox214Main.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                min="0"
              />
              <h5 style="margin: 0; padding: 0">{{ lunchBox214DrinkName }}</h5>
              <div
                v-for="(lunchBox214Drink, drinkIndex) in lunchBox214Main.drinks"
                :key="drinkIndex"
              >
                <q-input
                  v-model.number="lunchBox214Drink.quantity"
                  :label="lunchBox214Drink.name"
                  filled
                  :bg-color="getInputColor(lunchBox214Drink.quantity)"
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                  class="w-110px"
                />
              </div>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 lunchbox11">
            <h5 style="margin: 0; padding: 0">{{ lunchBox214SideDishName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(lunchBox214SideDish, index) in lunchBox214SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  v-model.number="lunchBox214SideDish.quantity"
                  :label="lunchBox214SideDish.name"
                  filled
                  class="q-ma-xs w-110px"
                  type="number"
                  :bg-color="getInputColor(lunchBox214SideDish.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  min="0"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 lunchbox11"></div>
          <!-- 按鈕 -->
          <div class="row items-center w-100 q-ml-md">
            <q-input
              v-model="lunchbox214Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />

            <q-btn
              color="dark"
              label="取消"
              size="30px"
              @click="Resetlunchbox214"
              class="q-ma-lg"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-ma-lg"
              size="30px"
              @click="submitLunchbox214"
            />
          </div>
        </q-card>
      </q-dialog>
      <!-- 單點 dailog -->
      <q-dialog v-model="showbangdongSolo" maximized>
        <q-card class="q-pa-md row items-start word-break">
          <!-- 6 吋潤餅 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">{{ bangdongSolo6inchName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSolo6inch, index) in bangdongSolo6inchs"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongSolo6inch.quantity"
                  :label="bangdongSolo6inch.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongSolo6inch.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 刈包 -->
 <div class="color1 w-100 q-pa-none q-ma-none">
  <h5 style="margin: 0; padding: 0">{{ GuabaoSoloName }}</h5>
  <div class="row items-center">
    <q-item
      v-for="(GuabaoSolo, index) in GuabaoSolos"
      :key="index"
      class="flex-auto"
      style="margin: 0; padding: 0"
    >
      <q-input
        min="0"
        v-model.number="GuabaoSolo.quantity"
        :label="GuabaoSolo.name"
        filled
        type="number"
        :bg-color="getInputColor(GuabaoSolo.quantity)"
        class="q-ma-xs w-110px"
        :input-style="{ fontSize: '20px', margin: '0' }"
        :label-style="{ fontSize: '20px' }"
      />
    </q-item>
  </div>
</div>
          <!-- 3 吋潤餅 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">{{ bangdongSolo3inchName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSolo3inch, index) in bangdongSolo3inchs"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongSolo3inch.quantity"
                  :label="bangdongSolo3inch.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :bg-color="getInputColor(bangdongSolo3inch.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">{{ bangdongSoloDrinkName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSoloDrink, index) in bangdongSoloDrinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongSoloDrink.quantity"
                  :label="bangdongSoloDrink.name"
                  filled
                  type="number"
                  class="q-ma-xs w-110px"
                  :bg-color="getInputColor(bangdongSoloDrink.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongSoloBentoMainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSoloBentoMain, index) in bangdongSoloBentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongSoloBentoMain.quantity"
                  :label="bangdongSoloBentoMain.name"
                  filled
                  :bg-color="getInputColor(bangdongSoloBentoMain.quantity)"
                  type="number"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongSoloSideDishName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSoloSideDish, index) in bangdongSoloSideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongSoloSideDish.quantity"
                  :label="bangdongSoloSideDish.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongSoloSideDish.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 環保袋 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">{{ bangdongSoloEcoBagName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongSoloEcoBag, index) in bangdongSoloEcoBags"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongSoloEcoBag.quantity"
                  :label="bangdongSoloEcoBag.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongSoloEcoBag.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">{{ bangdongSoloName }}</h5>

            <div class="row">
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                :bg-color="inputColor"
                class="q-ma-xs w-110px"
                v-model.number="bangdongSoloTotalQuantity"
                label="數量總計"
              />

              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                :bg-color="inputColor"
                class="q-ma-xs w-150px"
                v-model.number="bangdongSoloTotalQuantityPrice"
                label="金額總計"
                readonly
              />
            </div>
          </div>
          <!-- 按鈕 -->
          <div class="row w-100 items-center q-ml-md">
            <q-input
              v-model="bangdongSoloComment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />

            <q-btn
              color="dark"
              label="取消"
              @click="ResetbangdongSolo"
              class="q-ma-lg"
              size="30px"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-ma-lg"
              size="30px"
              @click="submitBangdongSolo"
            />
          </div>
        </q-card>
      </q-dialog>

      <!-- 客製便當 dailog -->
      <q-dialog v-model="showbangdongCustom1" class="lunchBoxdailog" maximized>
        <q-card
          class="items-start word-break q-pa-none q-ma-none"
          id="bangdongcard"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <h5 style="margin: 0; padding: 0">{{ bangdongCustom1Name }}</h5>
            <q-input
              min="0"
              filled
              type="number"
              :input-style="{ fontSize: '20px' }"
              class="w-110px q-ml-lg"
              :bg-color="getInputColor(bangdongCustom1TotalQuantity)"
              v-model.number="bangdongCustom1TotalQuantity"
              label="數量總計"
            />
            <div class="col"></div>
            <div class="row">
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdongCustom1Arbitrarily"
                label="任意搭配"
                label-color="white"
                class="q-ma-xs w-110px"
                min="0"
              />

              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-ma-xs w-110px"
                label-color="white"
                v-model.number="bangdongCustom1Price"
                label="商品單價"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdongCustom1TotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                class="q-ma-xs w-150px"
                readonly
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdongCustom1optionPrice"
                label="選項總計"
                label-color="white"
                class="q-ma-xs w-150px"
                readonly
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="bangdongCustom1finaltotal"
                label="總計"
                label-color="white"
                class="q-ma-xs w-150px"
                readonly
              />
            </div>
          </div>
          <!-- 主餐 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">{{ bangdongCustom1MainName }}</h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongCustom1Main, index) in bangdongCustom1Mains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongCustom1Main.quantity"
                  :label="bangdongCustom1Main.shortname"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongCustom1Main.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 飲料 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongCustom1DrinkName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(bangdongCustom1Drink, index) in bangdongCustom1Drinks"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongCustom1Drink.quantity"
                  :label="bangdongCustom1Drink.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongCustom1Drink.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongCustom1BentoMainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongCustom1BentoMain, index
                ) in bangdongCustom1BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongCustom1BentoMain.quantity"
                  :label="bangdongCustom1BentoMain.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongCustom1BentoMain.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ bangdongCustom1SideDishName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  bangdongCustom1SideDish, index
                ) in bangdongCustom1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="bangdongCustom1SideDish.quantity"
                  :label="bangdongCustom1SideDish.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(bangdongCustom1SideDish.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 總計 -->
          <div class="color1 w-100 q-pa-none q-ma-none"></div>
          <!-- 按鈕 -->
          <div class="row w-100 items-center">
            <q-input
              v-model="bangdongCustom1Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />

            <q-btn
              color="dark"
              label="取消"
              @click="ResetbangdongCustom1"
              class="q-mx-lg"
              size="30px"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-mx-lg"
              size="30px"
              @click="submitBangdongCustom1"
            />
          </div>
        </q-card>
      </q-dialog>

      <!-- 客製盒餐 dailog -->
      <q-dialog v-model="showLunchBoxCustom1" class="lunchBoxdailog" maximized>
        <!-- 主餐 -->
        <q-card class="q-pa-xs" style="overflow-x: hidden">
          <div class="color2 bangdongdialog row items-center text-white">
            <h5 style="margin: 0; padding: 0">{{ lunchBoxCustom1Name }}</h5>
            <q-input
              min="0"
              filled
              type="number"
              :input-style="{ fontSize: '20px' }"
              :bg-color="getInputColor(lunchBoxCustom1TotalQuantity)"
              class="q-ma-xs w-110px"
              v-model.number="lunchBoxCustom1TotalQuantity"
              label="數量總計"
            />
            <div class="col"></div>
            <div class="row">
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="lunchBoxCustom1Arbitrarily"
                label="任意搭配"
                label-color="white"
                class="q-ma-xs w-110px"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="lunchBoxCustom1Price"
                label="商品單價"
                label-color="white"
                class="q-ma-xs w-110px"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="lunchBoxCustom1TotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                class="q-ma-xs w-150px"
                readonly
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="lunchBoxCustom1optionPrice"
                label="選項總計"
                label-color="white"
                class="q-ma-xs w-150px"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                v-model.number="lunchBoxCustom1finaltotal"
                label="總計"
                label-color="white"
                class="q-ma-xs w-150px"
                readonly
              />
            </div>
          </div>
          <div class="row items-start justify-center" id="lunchboxCustom1">
            <div
              v-for="(lunchBoxCustom1Main, index) in lunchBoxCustom1Mains"
              :key="index"
            >
              <h6 style="margin: 0; padding: 0">
                {{ lunchBoxCustom1Main.shortname }}
              </h6>
              <q-input
                min="0"
                v-model.number="lunchBoxCustom1Main.quantity"
                :label="lunchBoxCustom1Main.shortname"
                filled
                type="number"
                :bg-color="getInputColor(lunchBoxCustom1Main.quantity)"
                class="q-mx-xs w-110px"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
              />
              <h5 style="margin: 0; padding: 0">
                {{ lunchBoxCustom1DrinkName }}
              </h5>
              <div
                v-for="(
                  lunchBoxCustom1Drink, drinkIndex
                ) in lunchBoxCustom1Main.drinks"
                :key="drinkIndex"
              >
                <q-input
                  min="0"
                  v-model.number="lunchBoxCustom1Drink.quantity"
                  :label="lunchBoxCustom1Drink.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBoxCustom1Drink.quantity)"
                  class="q-mx-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </div>
            </div>
          </div>
          <!-- 6inch -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ lunchBoxCustom1Burrito6inchName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  lunchBoxCustom1Burrito6inch, index
                ) in lunchBoxCustom1Burrito6inchs"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="lunchBoxCustom1Burrito6inch.quantity"
                  :label="lunchBoxCustom1Burrito6inch.name"
                  filled
                  type="number"
                  :bg-color="
                    getInputColor(lunchBoxCustom1Burrito6inch.quantity)
                  "
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 配菜 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ lunchBoxCustom1SideDishName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  lunchBoxCustom1SideDish, index
                ) in lunchBoxCustom1SideDishes"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="lunchBoxCustom1SideDish.quantity"
                  :label="lunchBoxCustom1SideDish.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBoxCustom1SideDish.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>
          <!-- 副主餐 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <h5 style="margin: 0; padding: 0">
              {{ lunchBoxCustom1BentoMainName }}
            </h5>
            <div class="row items-center">
              <q-item
                v-for="(
                  lunchBoxCustom1BentoMain, index
                ) in lunchBoxCustom1BentoMains"
                :key="index"
                class="flex-auto"
                style="margin: 0; padding: 0"
              >
                <q-input
                  min="0"
                  v-model.number="lunchBoxCustom1BentoMain.quantity"
                  :label="lunchBoxCustom1BentoMain.name"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBoxCustom1BentoMain.quantity)"
                  class="q-ma-xs w-110px"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                />
              </q-item>
            </div>
          </div>

          <!-- 總計 -->
          <div class="color1 w-100 q-pa-none q-ma-none">
            <div class="row"></div>
          </div>
          <!-- 按鈕 -->
          <div class="row items-center w-100 q-mt-md">
            <q-input
              v-model="lunchboxCustom1Comment"
              label="商品備註"
              :bg-color="inputColor"
              class="col-9"
            />

            <q-btn
              color="dark"
              label="取消"
              @click="ResetLunchBoxCustom1"
              class="q-mx-lg"
              size="30px"
            />
            <q-btn
              color="primary"
              label="送出"
              type="submit"
              class="q-mx-lg"
              size="30px"
              @click="submitLunchboxCustom1"
            />
          </div>
        </q-card>
      </q-dialog>

      <!-- 客製刈包盒餐 dailog -->
<q-dialog v-model="showGuabaoCustom2" class="lunchBoxdailog" maximized>
  <!-- 主餐 -->
  <q-card class="q-pa-xs" style="overflow-x: hidden">
    <div class="color2 bangdongdialog row items-center text-white">
      <h5 style="margin: 0; padding: 0">{{ guabaoCustom2Name }}</h5>
      <q-input
        min="0"
        filled
        type="number"
        :input-style="{ fontSize: '20px' }"
        :bg-color="getInputColor(guabaoCustom2TotalQuantity)"
        class="q-ma-xs w-110px"
        v-model.number="guabaoCustom2TotalQuantity"
        label="數量總計"
      />
      <div class="col"></div>
      <div class="row">
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          v-model.number="guabaoCustom2Arbitrarily"
          label="任意搭配"
          label-color="white"
          class="q-ma-xs w-110px"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          v-model.number="guabaoCustom2Price"
          label="商品單價"
          label-color="white"
          class="q-ma-xs w-110px"
        />
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          v-model.number="guabaoCustom2TotalQuantityPrice"
          label="餐點總計"
          label-color="white"
          class="q-ma-xs w-150px"
          readonly
        />
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          v-model.number="guabaoCustom2optionPrice"
          label="選項總計"
          label-color="white"
          class="q-ma-xs w-150px"
        />
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          v-model.number="guabaoCustom2finaltotal"
          label="總計"
          label-color="white"
          class="q-ma-xs w-150px"
          readonly
        />
      </div>
    </div>
    <div class="row items-start justify-center" id="guabaoCustom2">
      <div
        v-for="(guabaoCustom2Main, index) in guabaoCustom2Mains"
        :key="index"
      >
        <h6 style="margin: 0; padding: 0">
          {{ guabaoCustom2Main.shortname }}
        </h6>
        <q-input
          min="0"
          v-model.number="guabaoCustom2Main.quantity"
          :label="guabaoCustom2Main.shortname"
          filled
          type="number"
          :bg-color="getInputColor(guabaoCustom2Main.quantity)"
          class="q-mx-xs w-110px"
          :input-style="{ fontSize: '20px', margin: '0' }"
          :label-style="{ fontSize: '20px' }"
        />
        <h5 style="margin: 0; padding: 0">
          {{ guabaoCustom2DrinkName }}
        </h5>
        <div
          v-for="(
            guabaoCustom2Drink, drinkIndex
          ) in guabaoCustom2Main.drinks"
          :key="drinkIndex"
        >
          <q-input
            min="0"
            v-model.number="guabaoCustom2Drink.quantity"
            :label="guabaoCustom2Drink.name"
            filled
            type="number"
            :bg-color="getInputColor(guabaoCustom2Drink.quantity)"
            class="q-mx-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
          />
        </div>
      </div>
    </div>
    <!-- 6inch -->
    <div class="color1 w-100 q-pa-none q-ma-none">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom2Burrito6inchName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom2Burrito6inch, index
          ) in guabaoCustom2Burrito6inchs"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            min="0"
            v-model.number="guabaoCustom2Burrito6inch.quantity"
            :label="guabaoCustom2Burrito6inch.name"
            filled
            type="number"
            :bg-color="
              getInputColor(guabaoCustom2Burrito6inch.quantity)
            "
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 w-100 q-pa-none q-ma-none">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom2SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom2SideDish, index
          ) in guabaoCustom2SideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            min="0"
            v-model.number="guabaoCustom2SideDish.quantity"
            :label="guabaoCustom2SideDish.name"
            filled
            type="number"
            :bg-color="getInputColor(guabaoCustom2SideDish.quantity)"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 w-100 q-pa-none q-ma-none">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom2BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom2BentoMain, index
          ) in guabaoCustom2BentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            min="0"
            v-model.number="guabaoCustom2BentoMain.quantity"
            :label="guabaoCustom2BentoMain.name"
            filled
            type="number"
            :bg-color="getInputColor(guabaoCustom2BentoMain.quantity)"
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
          />
        </q-item>
      </div>
    </div>

    <!-- 總計 -->
    <div class="color1 w-100 q-pa-none q-ma-none">
      <div class="row"></div>
    </div>
    <!-- 按鈕 -->
    <div class="row items-center w-100 q-mt-md">
      <q-input
        v-model="guabaoCustom2Comment"
        label="商品備註"
        :bg-color="inputColor"
        class="col-9"
      />

      <q-btn
        color="dark"
        label="取消"
        @click="ResetGuabaoCustom2"
        class="q-mx-lg"
        size="30px"
      />
      <q-btn
        color="primary"
        label="送出"
        type="submit"
        class="q-mx-lg"
        size="30px"
        @click="submitGuabaoCustom2"
      />
    </div>
  </q-card>
</q-dialog>

         <!-- 客製油飯盒 dailog -->
   <q-dialog v-model="showriceBoxCustom1" class="lunchBoxdailog" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <h5 style="margin: 0; padding: 0">{{ riceBoxCustom1Name }}</h5>
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          :bg-color="getInputColor(riceBoxCustom1TotalQuantity)"
          v-model.number="riceBoxCustom1TotalQuantity"
          label="數量總計"
        />
        <div class="col"></div>
        <div class="row">
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="riceBoxCustom1Arbitrarily"
            label="任意搭配"
            label-color="white"
            class="q-ma-xs w-110px"
            min="0"
          />

          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            label-color="white"
            v-model.number="riceBoxCustom1Price"
            label="商品單價"
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="riceBoxCustom1TotalQuantityPrice"
            label="餐點總計"
            label-color="white"
            class="q-ma-xs w-150px"
            readonly
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="riceBoxCustom1optionPrice"
            label="選項總計"
            label-color="white"
            class="q-ma-xs w-150px"
            readonly
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="riceBoxCustom1finaltotal"
            label="總計"
            label-color="white"
            class="q-ma-xs w-150px"
            readonly
          />
        </div>
      </div>
      <!-- 主餐 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">{{ riceBoxCustom1MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBoxCustom1Main, index) in riceBoxCustom1Mains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="riceBoxCustom1Main.quantity"
              :label="riceBoxCustom1Main.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBoxCustom1Main.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">
          {{ riceBoxCustom1DrinkName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBoxCustom1Drink, index) in riceBoxCustom1Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="riceBoxCustom1Drink.quantity"
              :label="riceBoxCustom1Drink.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBoxCustom1Drink.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">
          {{ riceBoxCustom1BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBoxCustom1BentoMain, index
            ) in riceBoxCustom1BentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="riceBoxCustom1BentoMain.quantity"
              :label="riceBoxCustom1BentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBoxCustom1BentoMain.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">
          {{ riceBoxCustom1SideDishName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBoxCustom1SideDish, index
            ) in riceBoxCustom1SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="riceBoxCustom1SideDish.quantity"
              :label="riceBoxCustom1SideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBoxCustom1SideDish.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 w-100 q-pa-none q-ma-none"></div>
      <!-- 按鈕 -->
      <div class="row w-100 items-center">
        <q-input
          v-model="riceBoxCustom1Comment"
          label="商品備註"
          :bg-color="inputColor"
          class="col-9"
        />

        <q-btn
          color="dark"
          label="取消"
          @click="ResetriceBoxCustom1"
          class="q-mx-lg"
          size="30px"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          class="q-mx-lg"
          size="30px"
          @click="submitRiceBoxCustom1"
        />
      </div>
    </q-card>
  </q-dialog>

        <!-- 客製刈包便當 dailog -->
  <q-dialog v-model="showGuabaoCustom1" class="lunchBoxdailog" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <h5 style="margin: 0; padding: 0">{{ guabaoCustom1Name }}</h5>
        <q-input
          min="0"
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          :bg-color="getInputColor(guabaoCustom1TotalQuantity)"
          v-model.number="guabaoCustom1TotalQuantity"
          label="數量總計"
        />
        <div class="col"></div>
        <div class="row">
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="guabaoCustom1Arbitrarily"
            label="任意搭配"
            label-color="white"
            class="q-ma-xs w-110px"
            min="0"
          />

          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-ma-xs w-110px"
            label-color="white"
            v-model.number="guabaoCustom1Price"
            label="商品單價"
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="guabaoCustom1TotalQuantityPrice"
            label="餐點總計"
            label-color="white"
            class="q-ma-xs w-150px"
            readonly
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="guabaoCustom1optionPrice"
            label="選項總計"
            label-color="white"
            class="q-ma-xs w-150px"
            readonly
          />
          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            v-model.number="guabaoCustom1finaltotal"
            label="總計"
            label-color="white"
            class="q-ma-xs w-150px"
            readonly
          />
        </div>
      </div>
      <!-- 主餐 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">{{ guabaoCustom1MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(guabaoCustom1Main, index) in guabaoCustom1Mains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="guabaoCustom1Main.quantity"
              :label="guabaoCustom1Main.shortname"
              filled
              type="number"
              :bg-color="getInputColor(guabaoCustom1Main.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">
          {{ guabaoCustom1DrinkName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(guabaoCustom1Drink, index) in guabaoCustom1Drinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="guabaoCustom1Drink.quantity"
              :label="guabaoCustom1Drink.name"
              filled
              type="number"
              :bg-color="getInputColor(guabaoCustom1Drink.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">
          {{ guabaoCustom1BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              guabaoCustom1BentoMain, index
            ) in guabaoCustom1BentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="guabaoCustom1BentoMain.quantity"
              :label="guabaoCustom1BentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(guabaoCustom1BentoMain.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 w-100 q-pa-none q-ma-none">
        <h5 style="margin: 0; padding: 0">
          {{ guabaoCustom1SideDishName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              guabaoCustom1SideDish, index
            ) in guabaoCustom1SideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              min="0"
              v-model.number="guabaoCustom1SideDish.quantity"
              :label="guabaoCustom1SideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(guabaoCustom1SideDish.quantity)"
              class="q-ma-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 w-100 q-pa-none q-ma-none"></div>
      <!-- 按鈕 -->
      <div class="row w-100 items-center">
        <q-input
          v-model="guabaoCustom1Comment"
          label="商品備註"
          :bg-color="inputColor"
          class="col-9"
        />

        <q-btn
          color="dark"
          label="取消"
          @click="ResetguabaoCustom1"
          class="q-mx-lg"
          size="30px"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          class="q-mx-lg"
          size="30px"
          @click="submitGuabaoCustom1"
        />
      </div>
    </q-card>
  </q-dialog>

    </div>
    <!-- 訂單區 -->
    <div class="row">
      <!-- 訂單顯示 -->
      <div class="col p-4 slider" data-order-lists>
        <!-- table 訂單區域 -->
        <div class="row justify-center">
          <div class="col-12">
            <div class="q-pa-xs">
              <q-table
                :rows="tableRows"
                :style="{ maxHeight: show ? 'calc(30vh)' : 'calc(70vh)' }"
                row-key="id"
                virtual-scroll
                v-model:pagination="pagination"
                :rows-per-page-options="[0]"
                id="sliderTable"
                no-data-label="目前沒有餐點"
                v-model:expanded="expanded"
              >
                <template #header>
                  <q-tr>
                    <q-th class="w-100px"> 順序 </q-th>
                    <q-th class="w-300px"> 商品 </q-th>
                    <q-th class="w-300px"> 主餐 </q-th>
                    <q-th class="w-300px"> 飲料 </q-th>
                    <q-th class="w-300px"> 副主餐 </q-th>
                    <q-th class="w-100px"> 金額 </q-th>
                    <q-th class="w-130px"> 操作 </q-th>
                    <q-th class=""> 備註 </q-th>
                  </q-tr>
                </template>
                <template #body="props">
                  <q-tr :props="props">
                    <q-td class="tdId">{{ props.row.id }}</q-td>
                    <q-td class="tdname">
                      <div v-html="props.row.name"></div>
                      <div
                        v-for="(input, index) in props.row.inputs"
                        :key="index"
                        class="tdname"
                      >
                        <input
                          type="hidden"
                          :name="input.name"
                          v-model="input.value"
                        />
                      </div>
                    </q-td>
                    <!-- 如果 drinks 存在，顯示 Main 的欄位 -->
                    <q-td v-if="props.row.drinks" class="tdmain">
                      <div v-html="props.row.Main"></div>
                    </q-td>
                    <!-- 如果 drinks 存在，顯示 drinks 的欄位 -->
                    <q-td v-if="props.row.drinks" class="tdmain">
                      <div v-html="props.row.drinks"></div>
                    </q-td>
                    <!-- 如果 drinks 不存在，那麼 Main 的欄位擴展為 2 列 -->
                    <q-td v-else colspan="2" class="tdmain2x">
                      <div v-html="props.row.Main"></div>
                    </q-td>
                    <q-td class="tdmain"
                      ><div v-html="props.row.bentoMains"></div
                    ></q-td>
                    <q-td class="tdmain"
                      >{{ props.row.price }}
                      <div
                        v-for="(productInput, index) in props.row.productInputs"
                        :key="index"
                        class="tdname"
                      >
                        <input
                          type="hidden"
                          :name="productInput.name"
                          v-model="productInput.value"
                        />
                      </div>
                    </q-td>
                    <q-td class="tdedit">
                      <div class="row w-100">
                        <div class="col">
                          <q-btn
                            icon="delete"
                            color="warning"
                            text-color="black"
                            size="lg"
                            round
                            @click="deleteRow(props.row.id)"
                          />
                          <q-btn
                            icon="edit"
                            round
                            size="lg"
                            color="warning"
                            text-color="black"
                            class="q-ml-xs"
                            @click="editRowDialog(props.row)"
                          />
                        </div>
                      </div>
                    </q-td>
                    <q-td auto-width>
                      <q-toggle
                        color="accent"
                        v-model="props.expand"
                        checked-icon="add"
                        unchecked-icon="remove"
                      />
                    </q-td>
                  </q-tr>
                  <q-tr v-show="props.expand" :props="props">
                    <q-td colspan="100%">
                      <div class="text-left">
                        <q-input readonly v-model="props.row.comment"></q-input>
                      </div>
                    </q-td>
                  </q-tr>
                </template>
                <template v-slot:no-data="{ message }">
                  <div
                    class="full-width row flex-center text-blue-grey-7 q-gutter-sm"
                  >
                    <q-icon size="2em" name="restaurant"></q-icon>
                    <span style="font-size: 22px">
                      {{ message }}
                    </span>
                  </div>
                </template>
              </q-table>
            </div>
          </div>
        </div>
        <!-- 招牌油飯修改Dialog -->

                <q-dialog v-model="editDialog15" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ riceBox1Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="riceBox1EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(riceBox1EditTotalQuantity)"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-ma-xs w-110px text-white"
                v-model.number="riceBox1EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="riceBox1EditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="riceBox1EditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="riceBox1EditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="riceBox1EditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ riceBox1MainName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(riceBox1EditMain, index) in riceBox1EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="riceBox1EditMain.quantity"
                    :bg-color="getInputColor(riceBox1EditMain.quantity)"
                    :label="riceBox1EditMain.shortname"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    min="0"
                    class="w-110px q-ma-xs"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ riceBox1DrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(riceBox1EditDrink, index) in riceBox1EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="riceBox1EditDrink.quantity"
                    :label="riceBox1EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(riceBox1EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ riceBox1SideDishName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    riceBox1EditSideDish, index
                  ) in riceBox1EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="riceBox1EditSideDish.quantity"
                    :label="riceBox1EditSideDish.name"
                    filled
                    :bg-color="getInputColor(riceBox1EditSideDish.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <div class="row"></div>
              <!-- 按鈕 -->
            </div>
            <div class="row items-center" style="width: 100%">
              <q-input
                v-model="riceBox1Comment"
                outlined
                label="商品備註"
                class="color1 col-9"
                :bg-color="inputColor"
              />
              <q-btn
                label="取消"
                color="dark"
                size="25px"
                @click="closeEditDialog15"
                class="q-mx-xs btnSubmitCancel"
              />
              <q-btn
                label="儲存"
                color="primary"
                size="25px"
                @click="saveEditDialog15"
                class="q-mx-xs btnSubmitCancel"
              />
            </div>
          </q-card>
        </q-dialog>
          <!-- 雞翅油飯修改Dialog -->
  <q-dialog v-model="editDialog33" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox8Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            :bg-color="getInputColor(riceBox8EditTotalQuantity)"
            v-model.number="riceBox8EditTotalQuantity"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          label-color="white"
          v-model.number="riceBox8EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox8EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox8EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox8EditoptionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox8EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox8MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox8EditMain, index) in riceBox8EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox8EditMain.quantity"
              :label="riceBox8EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBox8EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox8DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox8EditDrink, index) in riceBox8EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox8EditDrink.quantity"
              :bg-color="getInputColor(riceBox8EditDrink.quantity)"
              :label="riceBox8EditDrink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ riceBox8BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox8EditBentoMain, index
            ) in riceBox8EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox8EditBentoMain.quantity"
              :label="riceBox8EditBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox8EditBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox8SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox8EditSideDish, index
            ) in riceBox8EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox8EditSideDish.quantity"
              :label="riceBox8EditSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox8EditSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox8Comment"
          outlined
          label="商品備註"
          class="col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="closeEditDialog33"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog33"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>

       <!-- 雞翅油飯修改Dialog -->

   <q-dialog v-model="editDialog22" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox7Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            v-model.number="riceBox7EditTotalQuantity"
            label="數量總計"
            :bg-color="getInputColor(riceBox7EditTotalQuantity)"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox7EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="riceBox7EditPrice"
          label="商品單價"
          label-color="white"
          readonly
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox7EditTotalQuantityPrice"
          label="餐點總計"
          label-color="white"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox7EditoptionPrice"
          label="選項總計"
          label-color="white"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox7EditfinalTotal"
          label="總計"
          label-color="white"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox7MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox7EditMain, index) in riceBox7EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox7EditMain.quantity"
              :bg-color="getInputColor(riceBox7EditMain.quantity)"
              :label="riceBox7EditMain.shortname"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
              class="w-110px q-ma-xs"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox7DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox7EditDrink, index) in riceBox7EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox7EditDrink.quantity"
              :label="riceBox7EditDrink.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox7EditDrink.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox7SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox7EditSideDish, index
            ) in riceBox7EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox7EditSideDish.quantity"
              :label="riceBox7EditSideDish.name"
              filled
              :bg-color="getInputColor(riceBox7EditSideDish.quantity)"
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
        <!-- 按鈕 -->
      </div>
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox7Comment"
          outlined
          label="商品備註"
          class="color1 col-9"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          @click="closeEditDialog22"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog22"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>

   <!-- 雞胸油飯修改 dialog -->
   <q-dialog v-model="editDialog16" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox2Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            :bg-color="getInputColor(riceBox2EditTotalQuantity)"
            v-model.number="riceBox2EditTotalQuantity"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          label-color="white"
          v-model.number="riceBox2EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox2EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox2EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox2EditoptionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox2EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox2EditMain, index) in riceBox2EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2EditMain.quantity"
              :label="riceBox2EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBox2EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox2EditDrink, index) in riceBox2EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2EditDrink.quantity"
              :bg-color="getInputColor(riceBox2EditDrink.quantity)"
              :label="riceBox2EditDrink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ riceBox2BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox2EditBentoMain, index
            ) in riceBox2EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2EditBentoMain.quantity"
              :label="riceBox2EditBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox2EditBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox2SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox2EditSideDish, index
            ) in riceBox2EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox2EditSideDish.quantity"
              :label="riceBox2EditSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox2EditSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox2Comment"
          outlined
          label="商品備註"
          class="col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="closeEditDialog16"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog16"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>
             <!-- 雞腿油飯修改 dialog -->
             <q-dialog v-model="editDialog17" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox3Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            :bg-color="getInputColor(riceBox3EditTotalQuantity)"
            v-model.number="riceBox3EditTotalQuantity"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          label-color="white"
          v-model.number="riceBox3EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox3EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox3EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox3EditoptionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox3EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox3MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox3EditMain, index) in riceBox3EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox3EditMain.quantity"
              :label="riceBox3EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBox3EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox3DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox3EditDrink, index) in riceBox3EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox3EditDrink.quantity"
              :bg-color="getInputColor(riceBox3EditDrink.quantity)"
              :label="riceBox3EditDrink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ riceBox3BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox3EditBentoMain, index
            ) in riceBox3EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox3EditBentoMain.quantity"
              :label="riceBox3EditBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox3EditBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox3SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox3EditSideDish, index
            ) in riceBox3EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox3EditSideDish.quantity"
              :label="riceBox3EditSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox3EditSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox3Comment"
          outlined
          label="商品備註"
          class="col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="closeEditDialog17"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog17"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>
     <!-- 滷牛油飯修改 dialog -->
     <q-dialog v-model="editDialog18" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox4Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            :bg-color="getInputColor(riceBox4EditTotalQuantity)"
            v-model.number="riceBox4EditTotalQuantity"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          label-color="white"
          v-model.number="riceBox4EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox4EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox4EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox4EditoptionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox4EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox4EditMain, index) in riceBox4EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4EditMain.quantity"
              :label="riceBox4EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBox4EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox4EditDrink, index) in riceBox4EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4EditDrink.quantity"
              :bg-color="getInputColor(riceBox4EditDrink.quantity)"
              :label="riceBox4EditDrink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ riceBox4BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox4EditBentoMain, index
            ) in riceBox4EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4EditBentoMain.quantity"
              :label="riceBox4EditBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox4EditBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox4SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox4EditSideDish, index
            ) in riceBox4EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox4EditSideDish.quantity"
              :label="riceBox4EditSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox4EditSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox4Comment"
          outlined
          label="商品備註"
          class="col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="closeEditDialog18"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog18"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>
     <!-- 鮭魚油飯修改 dialog -->
     <q-dialog v-model="editDialog19" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox5Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            :bg-color="getInputColor(riceBox5EditTotalQuantity)"
            v-model.number="riceBox5EditTotalQuantity"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          label-color="white"
          v-model.number="riceBox5EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox5EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox5EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox5EditoptionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox5EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox5MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox5EditMain, index) in riceBox5EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox5EditMain.quantity"
              :label="riceBox5EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBox5EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox5DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox5EditDrink, index) in riceBox5EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox5EditDrink.quantity"
              :bg-color="getInputColor(riceBox5EditDrink.quantity)"
              :label="riceBox5EditDrink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ riceBox5BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox5EditBentoMain, index
            ) in riceBox5EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox5EditBentoMain.quantity"
              :label="riceBox5EditBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox5EditBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox5SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox5EditSideDish, index
            ) in riceBox5EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox5EditSideDish.quantity"
              :label="riceBox5EditSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox5EditSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox5Comment"
          outlined
          label="商品備註"
          class="col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="closeEditDialog19"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog19"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>
     <!-- 牛肉丸油飯修改 dialog -->
     <q-dialog v-model="editDialog20" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ riceBox6Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="w-110px q-ml-lg"
            :bg-color="getInputColor(riceBox6EditTotalQuantity)"
            v-model.number="riceBox6EditTotalQuantity"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          label-color="white"
          v-model.number="riceBox6EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-110px text-white"
          v-model.number="riceBox6EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox6EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox6EditoptionPrice"
          label="選項總計"
          readonly
          min="0"
        />
        <q-input
          filled
          type="number"
          label-color="white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          class="q-ma-xs w-150px text-white"
          v-model.number="riceBox6EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox6MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox6EditMain, index) in riceBox6EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox6EditMain.quantity"
              :label="riceBox6EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(riceBox6EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox6DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(riceBox6EditDrink, index) in riceBox6EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox6EditDrink.quantity"
              :bg-color="getInputColor(riceBox6EditDrink.quantity)"
              :label="riceBox6EditDrink.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ riceBox6BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox6EditBentoMain, index
            ) in riceBox6EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox6EditBentoMain.quantity"
              :label="riceBox6EditBentoMain.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox6EditBentoMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ riceBox6SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              riceBox6EditSideDish, index
            ) in riceBox6EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="riceBox6EditSideDish.quantity"
              :label="riceBox6EditSideDish.name"
              filled
              type="number"
              :bg-color="getInputColor(riceBox6EditSideDish.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="w-110px q-ma-xs"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <div class="row"></div>
      </div>
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBox6Comment"
          outlined
          label="商品備註"
          class="col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="closeEditDialog20"
        />
        <q-btn
          label="儲存"
          color="primary"
          size="25px"
          @click="saveEditDialog20"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </q-card>
  </q-dialog>
<!-- 刈包修改 -->
<!-- 刈包便當修改 dialog -->
<q-dialog v-model="editDialog24" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdong1Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="GuabaoBangdong1EditTotalQuantity"
          label="數量總計"
          :bg-color="getInputColor(GuabaoBangdong1EditTotalQuantity)"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        v-model.number="GuabaoBangdong1EditArbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdong1EditPrice"
        label="商品單價"
        label-color="white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong1EditTotalQuantityPrice"
        label="餐點總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong1EditoptionPrice"
        label="選項總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong1EditfinalTotal"
        label="總計"
        label-color="white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong1MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong1EditMain, index) in GuabaoBangdong1EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong1EditMain.quantity"
            :bg-color="getInputColor(GuabaoBangdong1EditMain.quantity)"
            :label="GuabaoBangdong1EditMain.shortname"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
            class="w-110px q-ma-xs"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong1DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong1EditDrink, index) in GuabaoBangdong1EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong1EditDrink.quantity"
            :label="GuabaoBangdong1EditDrink.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong1EditDrink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong1SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdong1EditSideDish, index
          ) in GuabaoBangdong1EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong1EditSideDish.quantity"
            :label="GuabaoBangdong1EditSideDish.name"
            filled
            :bg-color="getInputColor(GuabaoBangdong1EditSideDish.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <div class="row"></div>
      <!-- 按鈕 -->
    </div>
    <div class="row items-center" style="width: 100%">
      <q-input
        v-model="GuabaoBangdong1Comment"
        outlined
        label="商品備註"
        class="color1 col-9"
        :bg-color="inputColor"
      />
      <q-btn
        label="取消"
        color="dark"
        size="25px"
        @click="closeEditDialog24"
        class="q-mx-xs btnSubmitCancel"
      />
      <q-btn
        label="儲存"
        color="primary"
        size="25px"
        @click="saveEditDialog24"
        class="q-mx-xs btnSubmitCancel"
      />
    </div>
  </q-card>
</q-dialog>

     <!-- 素刈包便當修改 dialog -->
     <q-dialog v-model="editDialog25" maximized>
      <q-card
        class="items-start word-break q-pa-none q-ma-none"
        id="bangdongcard"
      >
        <div class="color2 bangdongdialog row items-center text-white">
          <div class="text-h5 col-1">{{ GuabaoBangdong6Name }}</div>
          <div class="text-h5 q-ml-md col-2 row items-center">
            總計
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px' }"
              class="w-110px q-ml-lg"
              v-model.number="GuabaoBangdong6EditTotalQuantity"
              label="數量總計"
              :bg-color="getInputColor(GuabaoBangdong6EditTotalQuantity)"
              min="0"
            />
          </div>
          <div class="col"></div>
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            class="q-ma-xs w-110px text-white"
            v-model.number="GuabaoBangdong6EditArbitrarily"
            label="任意搭配"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            class="q-ma-xs w-110px text-white"
            :input-style="{ fontSize: '20px', color: 'white' }"
            v-model.number="GuabaoBangdong6EditPrice"
            label="商品單價"
            label-color="white"
            readonly
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="GuabaoBangdong6EditTotalQuantityPrice"
            label="餐點總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="GuabaoBangdong6EditoptionPrice"
            label="選項總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="GuabaoBangdong6EditfinalTotal"
            label="總計"
            label-color="white"
            readonly
            min="0"
          />
        </div>
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong6MainName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(GuabaoBangdong6EditMain, index) in GuabaoBangdong6EditMains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdong6EditMain.quantity"
                :bg-color="getInputColor(GuabaoBangdong6EditMain.quantity)"
                :label="GuabaoBangdong6EditMain.shortname"
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                min="0"
                class="w-110px q-ma-xs"
              />
            </q-item>
          </div>
        </div>
        <!-- 飲料 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong6DrinkName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(GuabaoBangdong6EditDrink, index) in GuabaoBangdong6EditDrinks"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdong6EditDrink.quantity"
                :label="GuabaoBangdong6EditDrink.name"
                filled
                type="number"
                :bg-color="getInputColor(GuabaoBangdong6EditDrink.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="w-110px q-ma-xs"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong6SideDishName }}</h5>
          <div class="row items-center">
            <q-item
              v-for="(
                GuabaoBangdong6EditSideDish, index
              ) in GuabaoBangdong6EditSideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdong6EditSideDish.quantity"
                :label="GuabaoBangdong6EditSideDish.name"
                filled
                :bg-color="getInputColor(GuabaoBangdong6EditSideDish.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="w-110px q-ma-xs"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <div class="row"></div>
          <!-- 按鈕 -->
        </div>
        <div class="row items-center" style="width: 100%">
          <q-input
            v-model="GuabaoBangdong6Comment"
            outlined
            label="商品備註"
            class="color1 col-9"
            :bg-color="inputColor"
          />
          <q-btn
            label="取消"
            color="dark"
            size="25px"
            @click="closeEditDialog25"
            class="q-mx-xs btnSubmitCancel"
          />
          <q-btn
            label="儲存"
            color="primary"
            size="25px"
            @click="saveEditDialog25"
            class="q-mx-xs btnSubmitCancel"
          />
        </div>
      </q-card>
    </q-dialog>

    <!-- 雞胸刈包便當修改 dialog -->
<q-dialog v-model="editDialog26" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdong2Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          :bg-color="getInputColor(GuabaoBangdong2EditTotalQuantity)"
          v-model.number="GuabaoBangdong2EditTotalQuantity"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        label-color="white"
        v-model.number="GuabaoBangdong2EditArbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="GuabaoBangdong2EditPrice"
        label="商品單價"
        readonly
      />
      <q-input
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong2EditTotalQuantityPrice"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong2EditoptionPrice"
        label="選項總計"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong2EditfinalTotal"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong2EditMain, index) in GuabaoBangdong2EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong2EditMain.quantity"
            :label="GuabaoBangdong2EditMain.shortname"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong2EditMain.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong2EditDrink, index) in GuabaoBangdong2EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong2EditDrink.quantity"
            :bg-color="getInputColor(GuabaoBangdong2EditDrink.quantity)"
            :label="GuabaoBangdong2EditDrink.name"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdong2BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdong2EditBentoMain, index
          ) in GuabaoBangdong2EditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong2EditBentoMain.quantity"
            :label="GuabaoBangdong2EditBentoMain.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong2EditBentoMain.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong2SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdong2EditSideDish, index
          ) in GuabaoBangdong2EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong2EditSideDish.quantity"
            :label="GuabaoBangdong2EditSideDish.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong2EditSideDish.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <div class="row"></div>
    </div>
    <!-- 按鈕 -->
    <div class="row items-center" style="width: 100%">
      <q-input
        v-model="GuabaoBangdong2Comment"
        outlined
        label="商品備註"
        class="col-8"
        :bg-color="inputColor"
      />
      <q-btn
        label="取消"
        color="dark"
        size="25px"
        class="q-mx-xs btnSubmitCancel"
        @click="closeEditDialog26"
      />
      <q-btn
        label="儲存"
        color="primary"
        size="25px"
        @click="saveEditDialog26"
        class="q-mx-xs btnSubmitCancel"
      />
    </div>
  </q-card>
</q-dialog>
 <!-- 雞腿刈包便當修改 dialog -->
 <q-dialog v-model="editDialog27" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdong3Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="GuabaoBangdong3EditTotalQuantity"
          label="數量總計"
          :bg-color="getInputColor(GuabaoBangdong3EditTotalQuantity)"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="GuabaoBangdong3EditArbitrarily"
        label="任意搭配"
        label-color="white"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="GuabaoBangdong3EditPrice"
        label="商品單價"
        label-color="white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong3EditTotalQuantityPrice"
        label="餐點總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong3EditoptionPrice"
        label="選項總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdong3EditfinalTotal"
        label="總計"
        label-color="white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong3MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong3EditMain, index) in GuabaoBangdong3EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong3EditMain.quantity"
            :label="GuabaoBangdong3EditMain.shortname"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong3EditMain.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong3DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(GuabaoBangdong3EditDrink, index) in GuabaoBangdong3EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong3EditDrink.quantity"
            :label="GuabaoBangdong3EditDrink.name"
            filled
            :bg-color="getInputColor(GuabaoBangdong3EditDrink.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdong3BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdong3EditBentoMain, index
          ) in GuabaoBangdong3EditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong3EditBentoMain.quantity"
            :bg-color="getInputColor(GuabaoBangdong3EditBentoMain.quantity)"
            :label="GuabaoBangdong3EditBentoMain.name"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0; margin: 0">
        {{ GuabaoBangdong3SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdong3EditSideDish, index
          ) in GuabaoBangdong3EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdong3EditSideDish.quantity"
            :label="GuabaoBangdong3EditSideDish.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdong3EditSideDish.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          :bg-color="inputColor"
          v-model="GuabaoBangdong3Comment"
          outlined
          label="商品備註"
          class="col-8"
        />
        <q-btn
          color="dark"
          label="取消"
          @click="closeEditDialog27"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="saveEditDialog27"
        />
      </div>
    </div>
  </q-card>
</q-dialog>
  <!-- 滷牛刈包修改 dialog -->
  <q-dialog v-model="editDialog28" maximized>
    <q-card
      class="items-start word-break q-pa-none q-ma-none"
      id="bangdongcard"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <div class="text-h5 col-1">{{ GuabaoBangdong4Name }}</div>
        <div class="text-h5 q-ml-md col-2 row items-center">
          總計
          <q-input
            filled
            type="number"
            class="w-110px q-ml-lg"
            :input-style="{ fontSize: '20px' }"
            v-model.number="GuabaoBangdong4EditTotalQuantity"
            :bg-color="getInputColor(GuabaoBangdong4EditTotalQuantity)"
            label="數量總計"
            min="0"
          />
        </div>
        <div class="col"></div>
        <q-input
          filled
          type="number"
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong4EditArbitrarily"
          label="任意搭配"
          min="0"
        />
        <q-input
          min="0"
          filled
          label-color="white"
          class="q-ma-xs w-110px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong4EditPrice"
          label="商品單價"
          readonly
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong4EditTotalQuantityPrice"
          label="餐點總計"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong4EditoptionPrice"
          label="選項金額"
          readonly
          min="0"
        />
        <q-input
          filled
          label-color="white"
          class="q-ma-xs w-150px text-white"
          :input-style="{ fontSize: '20px', color: 'white' }"
          v-model.number="GuabaoBangdong4EditfinalTotal"
          label="總計"
          readonly
          min="0"
        />
      </div>
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4MainName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(GuabaoBangdong4EditMain, index) in GuabaoBangdong4EditMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdong4EditMain.quantity"
              :label="GuabaoBangdong4EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(GuabaoBangdong4EditMain.quantity)"
              class="q-pa-xs w-110px"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 飲料 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4DrinkName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(GuabaoBangdong4EditDrink, index) in GuabaoBangdong4EditDrinks"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdong4EditDrink.quantity"
              :label="GuabaoBangdong4EditDrink.name"
              filled
              type="number"
              :bg-color="getInputColor(GuabaoBangdong4EditDrink.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 副主餐 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">
          {{ GuabaoBangdong4BentoMainName }}
        </h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdong4EditBentoMain, index
            ) in GuabaoBangdong4EditBentoMains"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdong4EditBentoMain.quantity"
              :bg-color="getInputColor(GuabaoBangdong4EditBentoMain.quantity)"
              :label="GuabaoBangdong4EditBentoMain.name"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 配菜 -->
      <div class="color1 bangdongdialog">
        <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong4SideDishName }}</h5>
        <div class="row items-center">
          <q-item
            v-for="(
              GuabaoBangdong4EditSideDish, index
            ) in GuabaoBangdong4EditSideDishes"
            :key="index"
            class="flex-auto"
            style="margin: 0; padding: 0"
          >
            <q-input
              v-model.number="GuabaoBangdong4EditSideDish.quantity"
              :label="GuabaoBangdong4EditSideDish.name"
              filled
              :bg-color="getInputColor(GuabaoBangdong4EditSideDish.quantity)"
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              min="0"
            />
          </q-item>
        </div>
      </div>
      <!-- 總計 -->
      <div class="color1 bangdongdialog">
        <!-- 按鈕 -->
        <div class="row items-center q-ml-md" style="width: 100%">
          <q-input
            v-model="GuabaoBangdong4Comment"
            outlined
            label="商品備註"
            class="color1 col-8"
            :bg-color="inputColor"
          />
          <q-btn
            label="取消"
            color="dark"
            @click="closeEditDialog28"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
          />
          <q-btn
            label="儲存"
            color="primary"
            @click="saveEditDialog28"
            size="25px"
            class="q-mx-xs btnSubmitCancel"
          />
        </div>
      </div>
    </q-card>
  </q-dialog>
<!-- 刈包salmon -->
<q-dialog v-model="editDialogGuabaoSalmon" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdongSalmonName }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="GuabaoBangdongSalmonEditTotalQuantity"
          label="數量總計"
          :bg-color="getInputColor(GuabaoBangdongSalmonEditTotalQuantity)"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        v-model.number="GuabaoBangdongSalmonEditArbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongSalmonEditPrice"
        label="商品單價"
        label-color="white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdongSalmonEditTotalQuantityPrice"
        label="餐點總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdongSalmonEditoptionPrice"
        label="選項總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdongSalmonEditfinalTotal"
        label="總計"
        label-color="white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongSalmonMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongSalmonEditMain, index
          ) in GuabaoBangdongSalmonEditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongSalmonEditMain.quantity"
            :label="GuabaoBangdongSalmonEditMain.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdongSalmonEditMain.quantity)"
            class="q-pa-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongSalmonDrinkName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongSalmonEditDrink, index
          ) in GuabaoBangdongSalmonEditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongSalmonEditDrink.quantity"
            :label="GuabaoBangdongSalmonEditDrink.name"
            filled
            type="number"
            :bg-color="getInputColor(GuabaoBangdongSalmonEditDrink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongSalmonBentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongSalmonEditBentoMain, index
          ) in GuabaoBangdongSalmonEditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongSalmonEditBentoMain.quantity"
            :bg-color="
              getInputColor(GuabaoBangdongSalmonEditBentoMain.quantity)
            "
            :label="GuabaoBangdongSalmonEditBentoMain.name"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongSalmonSideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongSalmonEditSideDish, index
          ) in GuabaoBangdongSalmonEditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongSalmonEditSideDish.quantity"
            :label="GuabaoBangdongSalmonEditSideDish.name"
            filled
            :bg-color="
              getInputColor(GuabaoBangdongSalmonEditSideDish.quantity)
            "
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center q-ml-md" style="width: 100%">
        <q-input
          v-model="GuabaoBangdongSalmonComment"
          outlined
          label="商品備註"
          class="color1 col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          @click="closeEditDialogGuabaoSalmon"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          label="儲存"
          color="primary"
          @click="saveEditDialogGuabaoSalmon"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </div>
  </q-card>
</q-dialog>

        <!-- 牛肉丸刈包便當修改 dialog -->
        <q-dialog v-model="editDialog29" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ GuabaoBangdong5Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="GuabaoBangdong5EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(GuabaoBangdong5EditTotalQuantity)"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="GuabaoBangdong5EditArbitrarily"
                label="任意搭配"
                label-color="white"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="GuabaoBangdong5EditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="GuabaoBangdong5EditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="GuabaoBangdong5EditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="GuabaoBangdong5EditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong5MainName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(GuabaoBangdong5EditMain, index) in GuabaoBangdong5EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="GuabaoBangdong5EditMain.quantity"
                    :label="GuabaoBangdong5EditMain.shortname"
                    filled
                    type="number"
                    :bg-color="getInputColor(GuabaoBangdong5EditMain.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ GuabaoBangdong5DrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(GuabaoBangdong5EditDrink, index) in GuabaoBangdong5EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="GuabaoBangdong5EditDrink.quantity"
                    :label="GuabaoBangdong5EditDrink.name"
                    filled
                    :bg-color="getInputColor(GuabaoBangdong5EditDrink.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ GuabaoBangdong5BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    GuabaoBangdong5EditBentoMain, index
                  ) in GuabaoBangdong5EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="GuabaoBangdong5EditBentoMain.quantity"
                    :bg-color="getInputColor(GuabaoBangdong5EditBentoMain.quantity)"
                    :label="GuabaoBangdong5EditBentoMain.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0; margin: 0">
                {{ GuabaoBangdong5SideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    GuabaoBangdong5EditSideDish, index
                  ) in GuabaoBangdong5EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="GuabaoBangdong5EditSideDish.quantity"
                    :label="GuabaoBangdong5EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(GuabaoBangdong5EditSideDish.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  :bg-color="inputColor"
                  v-model="GuabaoBangdong5Comment"
                  outlined
                  label="商品備註"
                  class="col-8"
                />
                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog29"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  color="primary"
                  label="送出"
                  type="submit"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                  @click="saveEditDialog29"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>

             <!-- 素食便當 125 修改 dialog -->
     <q-dialog v-model="editDialogGuabaoV1" maximized>
      <q-card
        class="items-start word-break q-pa-none q-ma-none"
        id="bangdongcard"
      >
        <div class="color2 bangdongdialog row items-center text-white">
          <div class="text-h5 col-1">{{ GuabaoBangdongVegetarian1Name }}</div>
          <div class="text-h5 q-ml-md col-2 row items-center">
            總計
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px' }"
              class="w-110px q-ml-lg"
              v-model.number="GuabaoBangdongVegetarian1EditTotalQuantity"
              label="數量總計"
              :bg-color="
                getInputColor(GuabaoBangdongVegetarian1EditTotalQuantity)
              "
              min="0"
            />
          </div>
          <div class="col"></div>
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            label-color="white"
            class="q-ma-xs w-110px text-white"
            v-model.number="GuabaoBangdongVegetarian1EditArbitrarily"
            label="任意搭配"
            min="0"
          />
          <q-input
            min="0"
            filled
            type="number"
            class="q-ma-xs w-110px text-white"
            :input-style="{ fontSize: '20px', color: 'white' }"
            v-model.number="GuabaoBangdongVegetarian1EditPrice"
            label="商品單價"
            label-color="white"
            readonly
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="GuabaoBangdongVegetarian1EditTotalQuantityPrice"
            label="餐點總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="GuabaoBangdongVegetarian1EditoptionPrice"
            label="選項總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px', color: 'white' }"
            class="q-ma-xs w-150px text-white"
            v-model.number="GuabaoBangdongVegetarian1EditfinalTotal"
            label="總計"
            label-color="white"
            readonly
            min="0"
          />
        </div>
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ GuabaoBangdongVegetarian1MainName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                GuabaoBangdongVegetarian1EditMain, index
              ) in GuabaoBangdongVegetarian1EditMains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdongVegetarian1EditMain.quantity"
                :label="GuabaoBangdongVegetarian1EditMain.shortname"
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
                :bg-color="
                  getInputColor(GuabaoBangdongVegetarian1EditMain.quantity)
                "
              />
            </q-item>
          </div>
        </div>
        <!-- 飲料 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ GuabaoBangdongVegetarian1DrinkName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                GuabaoBangdongVegetarian1EditDrink, index
              ) in GuabaoBangdongVegetarian1EditDrinks"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdongVegetarian1EditDrink.quantity"
                :bg-color="
                  getInputColor(GuabaoBangdongVegetarian1EditDrink.quantity)
                "
                :label="GuabaoBangdongVegetarian1EditDrink.name"
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 副主餐 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ GuabaoBangdongVegetarian1BentoMainName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                GuabaoBangdongVegetarian1EditBentoMain, index
              ) in GuabaoBangdongVegetarian1EditBentoMains"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdongVegetarian1EditBentoMain.quantity"
                :label="GuabaoBangdongVegetarian1EditBentoMain.name"
                :bg-color="
                  getInputColor(GuabaoBangdongVegetarian1EditBentoMain.quantity)
                "
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ GuabaoBangdongVegetarian1SideDishName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                GuabaoBangdongVegetarian1EditSideDish, index
              ) in GuabaoBangdongVegetarian1EditSideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoBangdongVegetarian1EditSideDish.quantity"
                :label="GuabaoBangdongVegetarian1EditSideDish.name"
                :bg-color="
                  getInputColor(GuabaoBangdongVegetarian1EditSideDish.quantity)
                "
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <!-- 按鈕 -->
          <div class="row items-center" style="width: 100%">
            <q-input
              v-model="GuabaoBangdongVegetarian1Comment"
              outlined
              label="商品備註"
              class="color1 col-8"
              :bg-color="inputColor"
            />
            <q-btn
              label="取消"
              color="dark"
              @click="closeEditDialogGuabaoV1"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
            />
            <q-btn
              label="儲存"
              color="primary"
              @click="saveEditDialogGuabaoV1"
              size="25px"
              class="q-mx-xs btnSubmitCancel"
            />
          </div>
        </div>
      </q-card>
    </q-dialog>
     <!-- 素食便當 150 修改 dialog -->
 <q-dialog v-model="editDialogGuabaoV2" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ GuabaoBangdongVegetarian2Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="GuabaoBangdongVegetarian2EditTotalQuantity"
          label="數量總計"
          :bg-color="
            getInputColor(GuabaoBangdongVegetarian2EditTotalQuantity)
          "
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        v-model.number="GuabaoBangdongVegetarian2EditArbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="GuabaoBangdongVegetarian2EditPrice"
        label="商品單價"
        label-color="white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdongVegetarian2EditTotalQuantityPrice"
        label="餐點總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdongVegetarian2EditoptionPrice"
        label="選項總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="GuabaoBangdongVegetarian2EditfinalTotal"
        label="總計"
        label-color="white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2MainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2EditMain, index
          ) in GuabaoBangdongVegetarian2EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2EditMain.quantity"
            :label="GuabaoBangdongVegetarian2EditMain.shortname"
            filled
            type="number"
            :bg-color="
              getInputColor(GuabaoBangdongVegetarian2EditMain.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2DrinkName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2EditDrink, index
          ) in GuabaoBangdongVegetarian2EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2EditDrink.quantity"
            :label="GuabaoBangdongVegetarian2EditDrink.name"
            filled
            type="number"
            :bg-color="
              getInputColor(GuabaoBangdongVegetarian2EditDrink.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2EditBentoMain, index
          ) in GuabaoBangdongVegetarian2EditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2EditBentoMain.quantity"
            :label="GuabaoBangdongVegetarian2EditBentoMain.name"
            filled
            type="number"
            :bg-color="
              getInputColor(GuabaoBangdongVegetarian2EditBentoMain.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ GuabaoBangdongVegetarian2SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoBangdongVegetarian2EditSideDish, index
          ) in GuabaoBangdongVegetarian2EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="GuabaoBangdongVegetarian2EditSideDish.quantity"
            :label="GuabaoBangdongVegetarian2EditSideDish.name"
            filled
            type="number"
            :bg-color="
              getInputColor(GuabaoBangdongVegetarian2EditSideDish.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="GuabaoBangdongVegetarian2Comment"
          outlined
          label="商品備註"
          class="color1 col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          @click="closeEditDialogGuabaoV2"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          label="儲存"
          color="primary"
          @click="saveEditDialogGuabaoV2"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </div>
  </q-card>
</q-dialog>

<!-- ------------------------------------- -->
        <!-- 招牌便當修改 dialog -->
        <q-dialog v-model="editDialog1" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdong1Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="bangdong1EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(bangdong1EditTotalQuantity)"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdong1EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdong1EditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong1EditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong1EditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong1EditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong1MainName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong1EditMain, index) in bangdong1EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong1EditMain.quantity"
                    :bg-color="getInputColor(bangdong1EditMain.quantity)"
                    :label="bangdong1EditMain.shortname"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    min="0"
                    class="w-110px q-ma-xs"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong1DrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong1EditDrink, index) in bangdong1EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong1EditDrink.quantity"
                    :label="bangdong1EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong1EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong1SideDishName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong1EditSideDish, index
                  ) in bangdong1EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong1EditSideDish.quantity"
                    :label="bangdong1EditSideDish.name"
                    filled
                    :bg-color="getInputColor(bangdong1EditSideDish.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <div class="row"></div>
              <!-- 按鈕 -->
            </div>
            <div class="row items-center" style="width: 100%">
              <q-input
                v-model="bangdong1Comment"
                outlined
                label="商品備註"
                class="color1 col-9"
                :bg-color="inputColor"
              />
              <q-btn
                label="取消"
                color="dark"
                size="25px"
                @click="closeEditDialog1"
                class="q-mx-xs btnSubmitCancel"
              />
              <q-btn
                label="儲存"
                color="primary"
                size="25px"
                @click="saveEditDialog1"
                class="q-mx-xs btnSubmitCancel"
              />
            </div>
          </q-card>
        </q-dialog>
           <!-- 招牌素便當修改 dialog -->
<q-dialog v-model="editDialog23" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ bangdong6Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="bangdong6EditTotalQuantity"
          label="數量總計"
          :bg-color="getInputColor(bangdong6EditTotalQuantity)"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        label-color="white"
        class="q-ma-xs w-110px text-white"
        v-model.number="bangdong6EditArbitrarily"
        label="任意搭配"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        class="q-ma-xs w-110px text-white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        v-model.number="bangdong6EditPrice"
        label="商品單價"
        label-color="white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="bangdong6EditTotalQuantityPrice"
        label="餐點總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="bangdong6EditoptionPrice"
        label="選項總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="bangdong6EditfinalTotal"
        label="總計"
        label-color="white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong6MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong6EditMain, index) in bangdong6EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong6EditMain.quantity"
            :bg-color="getInputColor(bangdong6EditMain.quantity)"
            :label="bangdong6EditMain.shortname"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            min="0"
            class="w-110px q-ma-xs"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong6DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong6EditDrink, index) in bangdong6EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong6EditDrink.quantity"
            :label="bangdong6EditDrink.name"
            filled
            type="number"
            :bg-color="getInputColor(bangdong6EditDrink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong6SideDishName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(
            bangdong6EditSideDish, index
          ) in bangdong6EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong6EditSideDish.quantity"
            :label="bangdong6EditSideDish.name"
            filled
            :bg-color="getInputColor(bangdong6EditSideDish.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <div class="row"></div>
      <!-- 按鈕 -->
    </div>
    <div class="row items-center" style="width: 100%">
      <q-input
        v-model="bangdong6Comment"
        outlined
        label="商品備註"
        class="color1 col-9"
        :bg-color="inputColor"
      />
      <q-btn
        label="取消"
        color="dark"
        size="25px"
        @click="closeEditDialog23"
        class="q-mx-xs btnSubmitCancel"
      />
      <q-btn
        label="儲存"
        color="primary"
        size="25px"
        @click="saveEditDialog23"
        class="q-mx-xs btnSubmitCancel"
      />
    </div>
  </q-card>
</q-dialog>

        <!-- 雞胸便當修改 dialog -->
        <q-dialog v-model="editDialog2" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdong2Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  :bg-color="getInputColor(bangdong2EditTotalQuantity)"
                  v-model.number="bangdong2EditTotalQuantity"
                  label="數量總計"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                label-color="white"
                v-model.number="bangdong2EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdong2EditPrice"
                label="商品單價"
                readonly
              />
              <q-input
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong2EditTotalQuantityPrice"
                label="餐點總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong2EditoptionPrice"
                label="選項總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong2EditfinalTotal"
                label="總計"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong2MainName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong2EditMain, index) in bangdong2EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong2EditMain.quantity"
                    :label="bangdong2EditMain.shortname"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong2EditMain.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong2DrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong2EditDrink, index) in bangdong2EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong2EditDrink.quantity"
                    :bg-color="getInputColor(bangdong2EditDrink.quantity)"
                    :label="bangdong2EditDrink.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdong2BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong2EditBentoMain, index
                  ) in bangdong2EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong2EditBentoMain.quantity"
                    :label="bangdong2EditBentoMain.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong2EditBentoMain.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong2SideDishName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong2EditSideDish, index
                  ) in bangdong2EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong2EditSideDish.quantity"
                    :label="bangdong2EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong2EditSideDish.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <div class="row"></div>
            </div>
            <!-- 按鈕 -->
            <div class="row items-center" style="width: 100%">
              <q-input
                v-model="bangdong2Comment"
                outlined
                label="商品備註"
                class="col-8"
                :bg-color="inputColor"
              />
              <q-btn
                label="取消"
                color="dark"
                size="25px"
                class="q-mx-xs btnSubmitCancel"
                @click="closeEditDialog2"
              />
              <q-btn
                label="儲存"
                color="primary"
                size="25px"
                @click="saveEditDialog2"
                class="q-mx-xs btnSubmitCancel"
              />
            </div>
          </q-card>
        </q-dialog>

        <!-- 雞腿便當修改 dialog -->
        <q-dialog v-model="editDialog3" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdong3Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="bangdong3EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(bangdong3EditTotalQuantity)"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdong3EditArbitrarily"
                label="任意搭配"
                label-color="white"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdong3EditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong3EditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong3EditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdong3EditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong3MainName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong3EditMain, index) in bangdong3EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong3EditMain.quantity"
                    :label="bangdong3EditMain.shortname"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong3EditMain.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong3DrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong3EditDrink, index) in bangdong3EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong3EditDrink.quantity"
                    :label="bangdong3EditDrink.name"
                    filled
                    :bg-color="getInputColor(bangdong3EditDrink.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdong3BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong3EditBentoMain, index
                  ) in bangdong3EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong3EditBentoMain.quantity"
                    :bg-color="getInputColor(bangdong3EditBentoMain.quantity)"
                    :label="bangdong3EditBentoMain.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0; margin: 0">
                {{ bangdong3SideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong3EditSideDish, index
                  ) in bangdong3EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong3EditSideDish.quantity"
                    :label="bangdong3EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong3EditSideDish.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="w-110px q-ma-xs"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  :bg-color="inputColor"
                  v-model="bangdong3Comment"
                  outlined
                  label="商品備註"
                  class="col-8"
                />
                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog3"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  color="primary"
                  label="送出"
                  type="submit"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                  @click="saveEditDialog3"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>

        <!-- 滷牛修改 dialog -->
        <q-dialog v-model="editDialog4" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdong4Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  class="w-110px q-ml-lg"
                  :input-style="{ fontSize: '20px' }"
                  v-model.number="bangdong4EditTotalQuantity"
                  :bg-color="getInputColor(bangdong4EditTotalQuantity)"
                  label="數量總計"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                label-color="white"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdong4EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                label-color="white"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdong4EditPrice"
                label="商品單價"
                readonly
              />
              <q-input
                filled
                label-color="white"
                class="q-ma-xs w-150px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdong4EditTotalQuantityPrice"
                label="餐點總計"
                readonly
                min="0"
              />
              <q-input
                filled
                label-color="white"
                class="q-ma-xs w-150px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdong4EditoptionPrice"
                label="選項金額"
                readonly
                min="0"
              />
              <q-input
                filled
                label-color="white"
                class="q-ma-xs w-150px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdong4EditfinalTotal"
                label="總計"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong4MainName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong4EditMain, index) in bangdong4EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong4EditMain.quantity"
                    :label="bangdong4EditMain.shortname"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong4EditMain.quantity)"
                    class="q-pa-xs w-110px"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong4DrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(bangdong4EditDrink, index) in bangdong4EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong4EditDrink.quantity"
                    :label="bangdong4EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdong4EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdong4BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong4EditBentoMain, index
                  ) in bangdong4EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong4EditBentoMain.quantity"
                    :bg-color="getInputColor(bangdong4EditBentoMain.quantity)"
                    :label="bangdong4EditBentoMain.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdong4SideDishName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdong4EditSideDish, index
                  ) in bangdong4EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdong4EditSideDish.quantity"
                    :label="bangdong4EditSideDish.name"
                    filled
                    :bg-color="getInputColor(bangdong4EditSideDish.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center q-ml-md" style="width: 100%">
                <q-input
                  v-model="bangdong4Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-8"
                  :bg-color="inputColor"
                />
                <q-btn
                  label="取消"
                  color="dark"
                  @click="closeEditDialog4"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  label="儲存"
                  color="primary"
                  @click="saveEditDialog4"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- salmon -->
        <q-dialog v-model="editDialogSalmon" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdongSalmonName }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="bangdongSalmonEditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(bangdongSalmonEditTotalQuantity)"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdongSalmonEditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdongSalmonEditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongSalmonEditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongSalmonEditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongSalmonEditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSalmonMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSalmonEditMain, index
                  ) in bangdongSalmonEditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongSalmonEditMain.quantity"
                    :label="bangdongSalmonEditMain.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdongSalmonEditMain.quantity)"
                    class="q-pa-xs w-110px"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSalmonDrinkName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSalmonEditDrink, index
                  ) in bangdongSalmonEditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongSalmonEditDrink.quantity"
                    :label="bangdongSalmonEditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdongSalmonEditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSalmonBentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSalmonEditBentoMain, index
                  ) in bangdongSalmonEditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongSalmonEditBentoMain.quantity"
                    :bg-color="
                      getInputColor(bangdongSalmonEditBentoMain.quantity)
                    "
                    :label="bangdongSalmonEditBentoMain.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSalmonSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSalmonEditSideDish, index
                  ) in bangdongSalmonEditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongSalmonEditSideDish.quantity"
                    :label="bangdongSalmonEditSideDish.name"
                    filled
                    :bg-color="
                      getInputColor(bangdongSalmonEditSideDish.quantity)
                    "
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center q-ml-md" style="width: 100%">
                <q-input
                  v-model="bangdongSalmonComment"
                  outlined
                  label="商品備註"
                  class="color1 col-8"
                  :bg-color="inputColor"
                />
                <q-btn
                  label="取消"
                  color="dark"
                  @click="closeEditDialogSalmon"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  label="儲存"
                  color="primary"
                  @click="saveEditDialogSalmon"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 牛肉丸便當修改 dialog -->
<q-dialog v-model="editDialog21" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ bangdong5Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="bangdong5EditTotalQuantity"
          label="數量總計"
          :bg-color="getInputColor(bangdong5EditTotalQuantity)"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="bangdong5EditArbitrarily"
        label="任意搭配"
        label-color="white"
        min="0"
      />
      <q-input
        min="0"
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="bangdong5EditPrice"
        label="商品單價"
        label-color="white"
        readonly
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="bangdong5EditTotalQuantityPrice"
        label="餐點總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="bangdong5EditoptionPrice"
        label="選項總計"
        label-color="white"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="bangdong5EditfinalTotal"
        label="總計"
        label-color="white"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong5MainName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong5EditMain, index) in bangdong5EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5EditMain.quantity"
            :label="bangdong5EditMain.shortname"
            filled
            type="number"
            :bg-color="getInputColor(bangdong5EditMain.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ bangdong5DrinkName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(bangdong5EditDrink, index) in bangdong5EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5EditDrink.quantity"
            :label="bangdong5EditDrink.name"
            filled
            :bg-color="getInputColor(bangdong5EditDrink.quantity)"
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ bangdong5BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            bangdong5EditBentoMain, index
          ) in bangdong5EditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5EditBentoMain.quantity"
            :bg-color="getInputColor(bangdong5EditBentoMain.quantity)"
            :label="bangdong5EditBentoMain.name"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0; margin: 0">
        {{ bangdong5SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            bangdong5EditSideDish, index
          ) in bangdong5EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="bangdong5EditSideDish.quantity"
            :label="bangdong5EditSideDish.name"
            filled
            type="number"
            :bg-color="getInputColor(bangdong5EditSideDish.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="w-110px q-ma-xs"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          :bg-color="inputColor"
          v-model="bangdong5Comment"
          outlined
          label="商品備註"
          class="col-8"
        />
        <q-btn
          color="dark"
          label="取消"
          @click="closeEditDialog21"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          color="primary"
          label="送出"
          type="submit"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
          @click="saveEditDialog21"
        />
      </div>
    </div>
  </q-card>
</q-dialog>
        <!-- 素食便當 125 修改 dialog -->
        <q-dialog v-model="editDialogV1" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdongVegetarian1Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="bangdongVegetarian1EditTotalQuantity"
                  label="數量總計"
                  :bg-color="
                    getInputColor(bangdongVegetarian1EditTotalQuantity)
                  "
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdongVegetarian1EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdongVegetarian1EditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongVegetarian1EditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongVegetarian1EditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongVegetarian1EditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian1MainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian1EditMain, index
                  ) in bangdongVegetarian1EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian1EditMain.quantity"
                    :label="bangdongVegetarian1EditMain.shortname"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                    :bg-color="
                      getInputColor(bangdongVegetarian1EditMain.quantity)
                    "
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian1DrinkName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian1EditDrink, index
                  ) in bangdongVegetarian1EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian1EditDrink.quantity"
                    :bg-color="
                      getInputColor(bangdongVegetarian1EditDrink.quantity)
                    "
                    :label="bangdongVegetarian1EditDrink.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian1BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian1EditBentoMain, index
                  ) in bangdongVegetarian1EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian1EditBentoMain.quantity"
                    :label="bangdongVegetarian1EditBentoMain.name"
                    :bg-color="
                      getInputColor(bangdongVegetarian1EditBentoMain.quantity)
                    "
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian1SideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian1EditSideDish, index
                  ) in bangdongVegetarian1EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian1EditSideDish.quantity"
                    :label="bangdongVegetarian1EditSideDish.name"
                    :bg-color="
                      getInputColor(bangdongVegetarian1EditSideDish.quantity)
                    "
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="bangdongVegetarian1Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-8"
                  :bg-color="inputColor"
                />
                <q-btn
                  label="取消"
                  color="dark"
                  @click="closeEditDialogV1"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  label="儲存"
                  color="primary"
                  @click="saveEditDialogV1"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 素食便當 150 修改 dialog -->
        <q-dialog v-model="editDialogV2" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdongVegetarian2Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="bangdongVegetarian2EditTotalQuantity"
                  label="數量總計"
                  :bg-color="
                    getInputColor(bangdongVegetarian2EditTotalQuantity)
                  "
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdongVegetarian2EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                class="q-ma-xs w-110px text-white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                v-model.number="bangdongVegetarian2EditPrice"
                label="商品單價"
                label-color="white"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongVegetarian2EditTotalQuantityPrice"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongVegetarian2EditoptionPrice"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongVegetarian2EditfinalTotal"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian2MainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian2EditMain, index
                  ) in bangdongVegetarian2EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian2EditMain.quantity"
                    :label="bangdongVegetarian2EditMain.shortname"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(bangdongVegetarian2EditMain.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian2DrinkName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian2EditDrink, index
                  ) in bangdongVegetarian2EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian2EditDrink.quantity"
                    :label="bangdongVegetarian2EditDrink.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(bangdongVegetarian2EditDrink.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian2BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian2EditBentoMain, index
                  ) in bangdongVegetarian2EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian2EditBentoMain.quantity"
                    :label="bangdongVegetarian2EditBentoMain.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(bangdongVegetarian2EditBentoMain.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongVegetarian2SideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongVegetarian2EditSideDish, index
                  ) in bangdongVegetarian2EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongVegetarian2EditSideDish.quantity"
                    :label="bangdongVegetarian2EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(bangdongVegetarian2EditSideDish.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="bangdongVegetarian2Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-8"
                  :bg-color="inputColor"
                />
                <q-btn
                  label="取消"
                  color="dark"
                  @click="closeEditDialogV2"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  label="儲存"
                  color="primary"
                  @click="saveEditDialogV2"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 客製便當修改 dialog -->
        <q-dialog v-model="editDialog9" maximized>
          <q-card
            class="items-start word-break q-pa-none q-ma-none"
            id="bangdongcard"
          >
            <div class="color2 bangdongdialog row items-center text-white">
              <div class="text-h5 col-1">{{ bangdongCustom1Name }}</div>
              <div class="text-h5 q-ml-md col-2 row items-center">
                總計
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="w-110px q-ml-lg"
                  v-model.number="bangdongCustom1EditTotalQuantity"
                  :bg-color="getInputColor(bangdongCustom1EditTotalQuantity)"
                  label="數量總計"
                  min="0"
                />
              </div>
              <div class="col"></div>
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdongCustom1EditArbitrarily"
                label-color="white"
                label="任意搭配"
                min="0"
              />

              <q-input
                min="0"
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-110px text-white"
                v-model.number="bangdongCustom1EditPrice"
                label="商品單價"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongCustom1EditTotalQuantityPrice"
                label-color="white"
                label="餐點總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongCustom1EditoptionPrice"
                label-color="white"
                label="選項總計"
                min="0"
              />

              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-ma-xs w-150px text-white"
                v-model.number="bangdongCustom1EditfinalTotal"
                label-color="white"
                label="總計"
                readonly
                min="0"
              />
            </div>
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongCustom1MainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongCustom1EditMain, index
                  ) in bangdongCustom1EditMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongCustom1EditMain.quantity"
                    :label="bangdongCustom1EditMain.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdongCustom1EditMain.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongCustom1DrinkName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongCustom1EditDrink, index
                  ) in bangdongCustom1EditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongCustom1EditDrink.quantity"
                    :label="bangdongCustom1EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(bangdongCustom1EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongCustom1BentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongCustom1EditBentoMain, index
                  ) in bangdongCustom1EditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongCustom1EditBentoMain.quantity"
                    :label="bangdongCustom1EditBentoMain.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(bangdongCustom1EditBentoMain.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongCustom1SideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongCustom1EditSideDish, index
                  ) in bangdongCustom1EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="bangdongCustom1EditSideDish.quantity"
                    :label="bangdongCustom1EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(bangdongCustom1EditSideDish.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="bangdongCustom1Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-8"
                  :bg-color="inputColor"
                />
                <q-btn
                  label="取消"
                  color="dark"
                  @click="closeEditDialog9"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
                <q-btn
                  label="儲存"
                  color="primary"
                  @click="saveEditDialog9"
                  size="25px"
                  class="q-mx-xs btnSubmitCancel"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>

  <!-- ------------------------------------------------- -->

      <!-- 刈包會議盒餐 -->
      <q-dialog v-model="editDialog30" maximized>
      <q-card>
        <div class="row items-start justify-center" id="lunchbox2Edit">
          <div class="color2 bangdongdialog row items-center text-white">
            <h5 style="margin: 0; padding: 0">{{GuabaoLunchbox2EditName }}</h5>
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              v-model.number="GuabaoLunchbox2EditTotalQuantity"
              label="數量總計"
              :bg-color="getInputColor(GuabaoLunchbox2EditTotalQuantity)"
              min="0"
            />
            <div class="col"></div>
            <div class="row">
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-pa-xs w-110px"
                v-model.number="GuabaoLunchbox2EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label-color="white"
                class="q-pa-xs w-110px"
                v-model.number="GuabaoLunchbox2EditPrice"
                label="商品單價"
                readonly
              />
              <q-input
                filled
                type="number"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox2EditTotalQuantityPrice"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label="餐點總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox2EditoptionPrice"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label="選項總計"
                label-color="white"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox2EditfinalTotal"
                :input-style="{ fontSize: '20px', color: 'white' }"
                label="總計"
                label-color="white"
                readonly
                min="0"
              />
            </div>
          </div>
          <div
            v-for="(GuabaoLunchbox2EditMain, index) in GuabaoLunchbox2EditMains"
            :key="index"
          >
            <h6 style="margin: 0; padding: 0">
              {{GuabaoLunchbox2EditMain.shortname }}
            </h6>
            <q-input
              v-model.number="GuabaoLunchbox2EditMain.quantity"
              :label="GuabaoLunchbox2EditMain.shortname"
              filled
              type="number"
              :bg-color="getInputColor(GuabaoLunchbox2EditMain.quantity)"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              min="0"
            />
            <h5 style="margin: 0; padding: 0">
              {{GuabaoLunchbox2EditDrinkName }}
            </h5>
            <div
              v-for="(
               GuabaoLunchbox2EditDrink, drinkIndex
              ) in GuabaoLunchbox2EditMain.drinks"
              :key="drinkIndex"
            >
              <q-input
                v-model.number="GuabaoLunchbox2EditDrink.quantity"
                :label="GuabaoLunchbox2EditDrink.name"
                filled
                type="number"
                :bg-color="getInputColor(GuabaoLunchbox2EditDrink.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </div>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{GuabaoLunchbox2EditSideDishName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
               GuabaoLunchbox2EditSideDish, index
              ) in GuabaoLunchbox2EditSideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoLunchbox2EditSideDish.quantity"
                :label="GuabaoLunchbox2EditSideDish.name"
                filled
                type="number"
                :bg-color="getInputColor(GuabaoLunchbox2EditSideDish.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <!-- 按鈕 -->
          <div class="row items-center" style="width: 100%">
            <q-input
              v-model="GuabaoLunchbox2Comment"
              outlined
              label="商品備註"
              class="color1 col-9 q-mx-lg"
              :bg-color="inputColor"
            />

            <q-btn
              color="dark"
              label="取消"
              @click="closeEditDialog30"
              size="30px"
              class="q-ma-xs"
            />
            <q-btn
              color="primary"
              label="儲存"
              type="submit"
              size="30px"
              class="q-ma-xs"
              @click="saveEditDialog30"
            />
          </div>
        </div>
      </q-card>
    </q-dialog>

    <!-- 客製油飯修改 dialog -->
<q-dialog v-model="editDialog34" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ riceBoxCustom1Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="riceBoxCustom1EditTotalQuantity"
          :bg-color="getInputColor(riceBoxCustom1EditTotalQuantity)"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="riceBoxCustom1EditArbitrarily"
        label-color="white"
        label="任意搭配"
        min="0"
      />

      <q-input
        min="0"
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="riceBoxCustom1EditPrice"
        label="商品單價"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="riceBoxCustom1EditTotalQuantityPrice"
        label-color="white"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="riceBoxCustom1EditoptionPrice"
        label-color="white"
        label="選項總計"
        min="0"
      />

      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="riceBoxCustom1EditfinalTotal"
        label-color="white"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ riceBoxCustom1MainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            riceBoxCustom1EditMain, index
          ) in riceBoxCustom1EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBoxCustom1EditMain.quantity"
            :label="riceBoxCustom1EditMain.name"
            filled
            type="number"
            :bg-color="getInputColor(riceBoxCustom1EditMain.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ riceBoxCustom1DrinkName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            riceBoxCustom1EditDrink, index
          ) in riceBoxCustom1EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBoxCustom1EditDrink.quantity"
            :label="riceBoxCustom1EditDrink.name"
            filled
            type="number"
            :bg-color="getInputColor(riceBoxCustom1EditDrink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ riceBoxCustom1BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            riceBoxCustom1EditBentoMain, index
          ) in riceBoxCustom1EditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBoxCustom1EditBentoMain.quantity"
            :label="riceBoxCustom1EditBentoMain.name"
            filled
            type="number"
            :bg-color="
              getInputColor(riceBoxCustom1EditBentoMain.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ riceBoxCustom1SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            riceBoxCustom1EditSideDish, index
          ) in riceBoxCustom1EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="riceBoxCustom1EditSideDish.quantity"
            :label="riceBoxCustom1EditSideDish.name"
            filled
            type="number"
            :bg-color="
              getInputColor(riceBoxCustom1EditSideDish.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="riceBoxCustom1Comment"
          outlined
          label="商品備註"
          class="color1 col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          @click="closeEditDialog34"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          label="儲存"
          color="primary"
          @click="saveEditDialog34"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </div>
  </q-card>
</q-dialog>
<!-- 客製刈包便當修改 dialog -->
<q-dialog v-model="editDialog35" maximized>
  <q-card
    class="items-start word-break q-pa-none q-ma-none"
    id="bangdongcard"
  >
    <div class="color2 bangdongdialog row items-center text-white">
      <div class="text-h5 col-1">{{ guabaoCustom1Name }}</div>
      <div class="text-h5 q-ml-md col-2 row items-center">
        總計
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="w-110px q-ml-lg"
          v-model.number="guabaoCustom1EditTotalQuantity"
          :bg-color="getInputColor(guabaoCustom1EditTotalQuantity)"
          label="數量總計"
          min="0"
        />
      </div>
      <div class="col"></div>
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="guabaoCustom1EditArbitrarily"
        label-color="white"
        label="任意搭配"
        min="0"
      />

      <q-input
        min="0"
        filled
        type="number"
        label-color="white"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-110px text-white"
        v-model.number="guabaoCustom1EditPrice"
        label="商品單價"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="guabaoCustom1EditTotalQuantityPrice"
        label-color="white"
        label="餐點總計"
        readonly
        min="0"
      />
      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="guabaoCustom1EditoptionPrice"
        label-color="white"
        label="選項總計"
        min="0"
      />

      <q-input
        filled
        type="number"
        :input-style="{ fontSize: '20px', color: 'white' }"
        class="q-ma-xs w-150px text-white"
        v-model.number="guabaoCustom1EditfinalTotal"
        label-color="white"
        label="總計"
        readonly
        min="0"
      />
    </div>
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom1MainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom1EditMain, index
          ) in guabaoCustom1EditMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="guabaoCustom1EditMain.quantity"
            :label="guabaoCustom1EditMain.name"
            filled
            type="number"
            :bg-color="getInputColor(guabaoCustom1EditMain.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 飲料 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom1DrinkName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom1EditDrink, index
          ) in guabaoCustom1EditDrinks"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="guabaoCustom1EditDrink.quantity"
            :label="guabaoCustom1EditDrink.name"
            filled
            type="number"
            :bg-color="getInputColor(guabaoCustom1EditDrink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 副主餐 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom1BentoMainName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom1EditBentoMain, index
          ) in guabaoCustom1EditBentoMains"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="guabaoCustom1EditBentoMain.quantity"
            :label="guabaoCustom1EditBentoMain.name"
            filled
            type="number"
            :bg-color="
              getInputColor(guabaoCustom1EditBentoMain.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom1SideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom1EditSideDish, index
          ) in guabaoCustom1EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="guabaoCustom1EditSideDish.quantity"
            :label="guabaoCustom1EditSideDish.name"
            filled
            type="number"
            :bg-color="
              getInputColor(guabaoCustom1EditSideDish.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="guabaoCustom1Comment"
          outlined
          label="商品備註"
          class="color1 col-8"
          :bg-color="inputColor"
        />
        <q-btn
          label="取消"
          color="dark"
          @click="closeEditDialog35"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
        <q-btn
          label="儲存"
          color="primary"
          @click="saveEditDialog35"
          size="25px"
          class="q-mx-xs btnSubmitCancel"
        />
      </div>
    </div>
  </q-card>
</q-dialog>

         <!-- 刈包貴賓盒餐 -->
         <q-dialog v-model="editDialog31" maximized>
      <q-card>
        <div
          class="row items-start justify-center q-gutter-xs"
          id="lunchbox3Edit"
        >
          <div class="color2 bangdongdialog row items-center text-white">
            <h5 style="margin: 0; padding: 0">{{GuabaoLunchbox3EditName }}</h5>
            <q-input
              filled
              type="number"
              :input-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              v-model.number="GuabaoLunchbox3EditTotalQuantity"
              label="數量總計"
              :bg-color="getInputColor(GuabaoLunchbox3EditTotalQuantity)"
              min="0"
            />
            <div class="col"></div>
            <div class="row">
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                v-model.number="GuabaoLunchbox3EditArbitrarily"
                label="任意搭配"
                min="0"
              />
              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                v-model.number="GuabaoLunchbox3EditPrice"
                label="商品單價"
                readonly
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox3EditTotalQuantityPrice"
                label="餐點總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox3EditoptionPrice"
                label="選項總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox3EditfinalTotal"
                label="總計"
                readonly
                min="0"
              />
            </div>
          </div>
          <div
            v-for="(GuabaoLunchbox3EditMain, index) in GuabaoLunchbox3EditMains"
            :key="index"
          >
            <h6 style="margin: 0; padding: 0">
              {{GuabaoLunchbox3EditMain.shortname }}
            </h6>
            <q-input
              v-model.number="GuabaoLunchbox3EditMain.quantity"
              :label="GuabaoLunchbox3EditMain.shortname"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :label-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              :bg-color="getInputColor(GuabaoLunchbox3EditMain.quantity)"
              min="0"
            />
            <h5 style="margin: 0; padding: 0">
              {{GuabaoLunchbox3EditDrinkName }}
            </h5>
            <div
              v-for="(
               GuabaoLunchbox3EditDrink, drinkIndex
              ) in GuabaoLunchbox3EditMain.drinks"
              :key="drinkIndex"
            >
              <q-input
                v-model.number="GuabaoLunchbox3EditDrink.quantity"
                :label="GuabaoLunchbox3EditDrink.name"
                filled
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                :bg-color="getInputColor(GuabaoLunchbox3EditDrink.quantity)"
                class="q-pa-xs w-110px"
                min="0"
              />
            </div>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{GuabaoLunchbox3EditSideDishName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
               GuabaoLunchbox3EditSideDish, index
              ) in GuabaoLunchbox3EditSideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoLunchbox3EditSideDish.quantity"
                :label="GuabaoLunchbox3EditSideDish.name"
                filled
                type="number"
                :bg-color="getInputColor(GuabaoLunchbox3EditSideDish.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <!-- 按鈕 -->
          <div class="row items-center" style="width: 100%">
            <q-input
              v-model="GuabaoLunchbox3Comment"
              outlined
              label="商品備註"
              class="color1 col-9 q-mx-lg"
              :bg-color="inputColor"
            />

            <q-btn
              color="dark"
              label="取消"
              @click="closeEditDialog31"
              size="30px"
              class="q-ma-xs col-1"
            />
            <q-btn
              color="primary"
              label="儲存"
              type="submit"
              size="30px"
              class="q-ma-xs col-1"
              @click="saveEditDialog31"
            />
          </div>
        </div>
      </q-card>
    </q-dialog>

        <!-- 刈包首席盒餐 -->
        <q-dialog v-model="editDialog32" maximized>
      <q-card>
        <div class="row items-start justify-center" id="lunchbox1Edit">
          <div class="color2 bangdongdialog row items-center text-white">
            <h5 style="margin: 0; padding: 0">{{ GuabaoLunchbox4EditName }}</h5>
            <q-input
              filled
              type="number"
              label-color="white"
              :input-style="{ fontSize: '20px', color: 'white' }"
              class="q-pa-xs w-110px"
              v-model.number="GuabaoLunchbox4EditTotalQuantity"
              label="數量總計"
              :bg-color="getInputColor(GuabaoLunchbox4EditTotalQuantity)"
              min="0"
            />
            <div class="row">
              <q-input
                filled
                type="number"
                class="q-pa-xs w-110px"
                v-model.number="GuabaoLunchbox4EditArbitrarily"
                label="任意搭配"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                min="0"
              />

              <q-input
                min="0"
                filled
                type="number"
                :input-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                v-model.number="GuabaoLunchbox4EditPrice"
                label="商品單價"
                readonly
              />
              <q-input
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox4EditTotalQuantityPrice"
                label="餐點總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox4EditoptionPrice"
                label="選項總計"
                readonly
                min="0"
              />
              <q-input
                filled
                type="number"
                label-color="white"
                :input-style="{ fontSize: '20px', color: 'white' }"
                class="q-pa-xs w-150px"
                v-model.number="GuabaoLunchbox4EditfinalTotal"
                label="總計"
                readonly
                min="0"
              />
            </div>
          </div>
          <div
            v-for="(GuabaoLunchbox4EditMain, index) in GuabaoLunchbox4EditMains"
            :key="index"
          >
            <h6 style="margin: 0; padding: 0">
              {{ GuabaoLunchbox4EditMain.shortname }}
            </h6>
            <q-input
              v-model.number="GuabaoLunchbox4EditMain.quantity"
              :label="GuabaoLunchbox4EditMain.shortname"
              filled
              type="number"
              :input-style="{ fontSize: '20px', margin: '0' }"
              :bg-color="getInputColor(GuabaoLunchbox4EditMain.quantity)"
              :label-style="{ fontSize: '20px' }"
              class="q-pa-xs w-110px"
              min="0"
            />
            <h5 style="margin: 0; padding: 0">
              {{ GuabaoLunchbox4EditDrinkName }}
            </h5>
            <div
              v-for="(
                GuabaoLunchbox4EditDrink, drinkIndex
              ) in GuabaoLunchbox4EditMain.drinks"
              :key="drinkIndex"
            >
              <q-input
                v-model.number="GuabaoLunchbox4EditDrink.quantity"
                :label="GuabaoLunchbox4EditDrink.name"
                filled
                type="number"
                :bg-color="getInputColor(GuabaoLunchbox4EditDrink.quantity)"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </div>
          </div>
        </div>
        <!-- 配菜 -->
        <div class="color1 bangdongdialog">
          <h5 style="margin: 0; padding: 0">
            {{ GuabaoLunchbox4EditSideDishName }}
          </h5>
          <div class="row items-center">
            <q-item
              v-for="(
                GuabaoLunchbox4EditSideDish, index
              ) in GuabaoLunchbox4EditSideDishes"
              :key="index"
              class="flex-auto"
              style="margin: 0; padding: 0"
            >
              <q-input
                v-model.number="GuabaoLunchbox4EditSideDish.quantity"
                :label="GuabaoLunchbox4EditSideDish.name"
                filled
                :bg-color="getInputColor(GuabaoLunchbox4EditSideDish.quantity)"
                type="number"
                :input-style="{ fontSize: '20px', margin: '0' }"
                :label-style="{ fontSize: '20px' }"
                class="q-pa-xs w-110px"
                min="0"
              />
            </q-item>
          </div>
        </div>
        <!-- 總計 -->
        <div class="color1 bangdongdialog">
          <!-- 按鈕 -->
          <div class="row items-center" style="width: 100%">
            <q-input
              v-model="GuabaoLunchbox4Comment"
              outlined
              label="商品備註"
              class="color1 col-9 q-mx-lg"
              :bg-color="inputColor"
            />

            <q-btn
              color="dark"
              label="取消"
              @click="closeEditDialog32"
              size="30px"
              class="q-ma-xs col-1"
            />
            <q-btn
              color="primary"
              label="儲存"
              type="submit"
              size="30px"
              class="q-ma-xs col-1"
              @click="saveEditDialog32"
            />
          </div>
        </div>
      </q-card>
    </q-dialog>

  <!-- ------------------------------------------------- -->
        <!-- 經濟盒餐修改 dialog -->
        <q-dialog v-model="editDialog5" maximized>
          <q-card>
            <div class="row items-start justify-center" id="lunchbox1">
              <div class="color2 bangdongdialog row items-center text-white">
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBox1EditName }} 總計
                </h5>
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  v-model.number="lunchBox1EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(lunchBox1EditTotalQuantity)"
                  min="0"
                />
                <div class="col"></div>
                <div class="row">
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox1EditArbitrarily"
                    label="任意搭配"
                    label-color="white"
                    min="0"
                  />
                  <q-input
                    min="0"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-110px"
                    label-color="white"
                    v-model.number="lunchBox1EditPrice"
                    label="商品單價"
                    readonly
                  />
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox1EditTotalQuantityPrice"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label="餐點總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox1EditoptionPrice"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label="選項總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchbox1EditfinalTotal"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label="總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                </div>
              </div>

              <div
                v-for="(lunchBox1EditMain, index) in lunchBox1EditMains"
                :key="index"
              >
                <h6 style="margin: 0; padding: 0">
                  {{ lunchBox1EditMain.shortname }}
                </h6>
                <q-input
                  v-model.number="lunchBox1EditMain.quantity"
                  :label="lunchBox1EditMain.shortname"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBox1EditMain.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  min="0"
                />
              </div>
            </div>
            <div class="row items-center" style="width: 100%">
              <q-input
                v-model="lunchbox1Comment"
                outlined
                label="商品備註"
                class="color1 col-9 q-mx-lg"
                :bg-color="inputColor"
              />
              <q-btn
                color="dark"
                label="取消"
                @click="closeEditDialog5"
                size="30px"
                class="q-ma-xs col-1"
              />
              <q-btn
                color="primary"
                label="儲存"
                type="submit"
                size="30px"
                class="q-ma-xs col-1"
                @click="saveEditDialog5"
              />
            </div>
          </q-card>
        </q-dialog>
        <!-- 會議盒餐 -->
        <q-dialog v-model="editDialog6" maximized>
          <q-card>
            <div class="row items-start justify-center" id="lunchbox2Edit">
              <div class="color2 bangdongdialog row items-center text-white">
                <h5 style="margin: 0; padding: 0">{{ lunchBox2EditName }}</h5>
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  v-model.number="lunchBox2EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(lunchBox2EditTotalQuantity)"
                  min="0"
                />
                <div class="col"></div>
                <div class="row">
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label-color="white"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox2EditArbitrarily"
                    label="任意搭配"
                    min="0"
                  />
                  <q-input
                    min="0"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label-color="white"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox2EditPrice"
                    label="商品單價"
                    readonly
                  />
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox2EditTotalQuantityPrice"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label="餐點總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox2EditoptionPrice"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label="選項總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchbox2EditfinalTotal"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    label="總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                </div>
              </div>
              <div
                v-for="(lunchBox2EditMain, index) in lunchBox2EditMains"
                :key="index"
              >
                <h6 style="margin: 0; padding: 0">
                  {{ lunchBox2EditMain.shortname }}
                </h6>
                <q-input
                  v-model.number="lunchBox2EditMain.quantity"
                  :label="lunchBox2EditMain.shortname"
                  filled
                  type="number"
                  :bg-color="getInputColor(lunchBox2EditMain.quantity)"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  min="0"
                />
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBox2EditDrinkName }}
                </h5>
                <div
                  v-for="(
                    lunchBox2EditDrink, drinkIndex
                  ) in lunchBox2EditMain.drinks"
                  :key="drinkIndex"
                >
                  <q-input
                    v-model.number="lunchBox2EditDrink.quantity"
                    :label="lunchBox2EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(lunchBox2EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </div>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ lunchBox2EditSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBox2EditSideDish, index
                  ) in lunchBox2EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="lunchBox2EditSideDish.quantity"
                    :label="lunchBox2EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(lunchBox2EditSideDish.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="lunchbox2Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-9 q-mx-lg"
                  :bg-color="inputColor"
                />

                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog6"
                  size="30px"
                  class="q-ma-xs"
                />
                <q-btn
                  color="primary"
                  label="儲存"
                  type="submit"
                  size="30px"
                  class="q-ma-xs"
                  @click="saveEditDialog6"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 貴賓盒餐 -->
        <q-dialog v-model="editDialog7" maximized>
          <q-card>
            <div
              class="row items-start justify-center q-gutter-xs"
              id="lunchbox3Edit"
            >
              <div class="color2 bangdongdialog row items-center text-white">
                <h5 style="margin: 0; padding: 0">{{ lunchBox3EditName }}</h5>
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  v-model.number="lunchBox3EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(lunchBox3EditTotalQuantity)"
                  min="0"
                />
                <div class="col"></div>
                <div class="row">
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox3EditArbitrarily"
                    label="任意搭配"
                    min="0"
                  />
                  <q-input
                    min="0"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox3EditPrice"
                    label="商品單價"
                    readonly
                  />
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox3EditTotalQuantityPrice"
                    label="餐點總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox3EditoptionPrice"
                    label="選項總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchbox3EditfinalTotal"
                    label="總計"
                    readonly
                    min="0"
                  />
                </div>
              </div>
              <div
                v-for="(lunchBox3EditMain, index) in lunchBox3EditMains"
                :key="index"
              >
                <h6 style="margin: 0; padding: 0">
                  {{ lunchBox3EditMain.shortname }}
                </h6>
                <q-input
                  v-model.number="lunchBox3EditMain.quantity"
                  :label="lunchBox3EditMain.shortname"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :label-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  :bg-color="getInputColor(lunchBox3EditMain.quantity)"
                  min="0"
                />
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBox3EditDrinkName }}
                </h5>
                <div
                  v-for="(
                    lunchBox3EditDrink, drinkIndex
                  ) in lunchBox3EditMain.drinks"
                  :key="drinkIndex"
                >
                  <q-input
                    v-model.number="lunchBox3EditDrink.quantity"
                    :label="lunchBox3EditDrink.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    :bg-color="getInputColor(lunchBox3EditDrink.quantity)"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </div>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ lunchBox3EditSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBox3EditSideDish, index
                  ) in lunchBox3EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="lunchBox3EditSideDish.quantity"
                    :label="lunchBox3EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(lunchBox3EditSideDish.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="lunchbox3Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-9 q-mx-lg"
                  :bg-color="inputColor"
                />

                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog7"
                  size="30px"
                  class="q-ma-xs col-1"
                />
                <q-btn
                  color="primary"
                  label="儲存"
                  type="submit"
                  size="30px"
                  class="q-ma-xs col-1"
                  @click="saveEditDialog7"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 首席盒餐 -->
        <q-dialog v-model="editDialog8" maximized>
          <q-card>
            <div class="row items-start justify-center" id="lunchbox1Edit">
              <div class="color2 bangdongdialog row items-center text-white">
                <h5 style="margin: 0; padding: 0">{{ lunchBox4EditName }}</h5>
                <q-input
                  filled
                  type="number"
                  label-color="white"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  class="q-pa-xs w-110px"
                  v-model.number="lunchBox4EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(lunchBox4EditTotalQuantity)"
                  min="0"
                />
                <div class="row">
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox4EditArbitrarily"
                    label="任意搭配"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    min="0"
                  />

                  <q-input
                    min="0"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox4EditPrice"
                    label="商品單價"
                    readonly
                  />
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox4EditTotalQuantityPrice"
                    label="餐點總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox4EditoptionPrice"
                    label="選項總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchbox4EditfinalTotal"
                    label="總計"
                    readonly
                    min="0"
                  />
                </div>
              </div>
              <div
                v-for="(lunchBox4EditMain, index) in lunchBox4EditMains"
                :key="index"
              >
                <h6 style="margin: 0; padding: 0">
                  {{ lunchBox4EditMain.shortname }}
                </h6>
                <q-input
                  v-model.number="lunchBox4EditMain.quantity"
                  :label="lunchBox4EditMain.shortname"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :bg-color="getInputColor(lunchBox4EditMain.quantity)"
                  :label-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  min="0"
                />
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBox4EditDrinkName }}
                </h5>
                <div
                  v-for="(
                    lunchBox4EditDrink, drinkIndex
                  ) in lunchBox4EditMain.drinks"
                  :key="drinkIndex"
                >
                  <q-input
                    v-model.number="lunchBox4EditDrink.quantity"
                    :label="lunchBox4EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(lunchBox4EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </div>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ lunchBox4EditSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBox4EditSideDish, index
                  ) in lunchBox4EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="lunchBox4EditSideDish.quantity"
                    :label="lunchBox4EditSideDish.name"
                    filled
                    :bg-color="getInputColor(lunchBox4EditSideDish.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="lunchbox4Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-9 q-mx-lg"
                  :bg-color="inputColor"
                />

                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog8"
                  size="30px"
                  class="q-ma-xs col-1"
                />
                <q-btn
                  color="primary"
                  label="儲存"
                  type="submit"
                  size="30px"
                  class="q-ma-xs col-1"
                  @click="saveEditDialog8"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 214盒餐修改 -->
        <q-dialog v-model="editDialog214" maximized>
          <q-card>
            <div class="row items-start justify-center" id="lunchbox1Edit">
              <div class="color2 bangdongdialog row items-center text-white">
                <h5 style="margin: 0; padding: 0">{{ lunchBox214EditName }}</h5>
                <q-input
                  filled
                  type="number"
                  label-color="white"
                  :input-style="{ fontSize: '20px', color: 'white' }"
                  class="q-pa-xs w-110px"
                  v-model.number="lunchBox214EditTotalQuantity"
                  label="數量總計"

                  min="0"
                />
                <div class="col"></div>
                  <q-input
                    filled
                    type="number"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox214EditArbitrarily"
                    label="任意搭配"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    min="0"
                  />

                  <q-input
                    min="0"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBox214EditPrice"
                    label="商品單價"
                    readonly
                  />
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox214EditTotalQuantityPrice"
                    label="餐點總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBox214EditoptionPrice"
                    label="選項總計"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    label-color="white"
                    :input-style="{ fontSize: '20px', color: 'white' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchbox214EditfinalTotal"
                    label="總計"
                    readonly
                    min="0"
                  />

              </div>
              <div
                v-for="(lunchBox214EditMain, index) in lunchBox214EditMains"
                :key="index"
              >
                <h6 style="margin: 0; padding: 0">
                  {{ lunchBox214EditMain.shortname }}
                </h6>
                <q-input
                  v-model.number="lunchBox214EditMain.quantity"
                  :label="lunchBox214EditMain.shortname"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :bg-color="getInputColor(lunchBox214EditMain.quantity)"
                  :label-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  min="0"
                />
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBox214EditDrinkName }}
                </h5>
                <div
                  v-for="(
                    lunchBox214EditDrink, drinkIndex
                  ) in lunchBox214EditMain.drinks"
                  :key="drinkIndex"
                >
                  <q-input
                    v-model.number="lunchBox214EditDrink.quantity"
                    :label="lunchBox214EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(lunchBox214EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </div>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ lunchBox214EditSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBox214EditSideDish, index
                  ) in lunchBox214EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="lunchBox214EditSideDish.quantity"
                    :label="lunchBox214EditSideDish.name"
                    filled
                    :bg-color="getInputColor(lunchBox214EditSideDish.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="lunchbox214Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-9 q-mx-lg"
                  :bg-color="inputColor"
                />

                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog214"
                  size="30px"
                  class="q-ma-xs col-1"
                />
                <q-btn
                  color="primary"
                  label="儲存"
                  type="submit"
                  size="30px"
                  class="q-ma-xs col-1"
                  @click="saveEditDialog214"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 客製盒餐修改 dialog -->
        <q-dialog v-model="editDialog0" maximized>
          <q-card>
            <div
              class="row items-start justify-center"
              id="lunchBoxCustom1Edit"
            >
              <div class="color2 bangdongdialog row items-center text-white">
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBoxCustom1EditName }}
                </h5>
                <q-input
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  v-model.number="lunchBoxCustom1EditTotalQuantity"
                  label="數量總計"
                  :bg-color="getInputColor(lunchBoxCustom1EditTotalQuantity)"
                  min="0"
                />
                <div class="col"></div>
                <div class="row">
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBoxCustom1EditArbitrarily"
                    label="任意搭配"
                    label-color="white"
                    min="0"
                  />

                  <q-input
                    min="0"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    v-model.number="lunchBoxCustom1EditPrice"
                    label="商品單價"
                    label-color="white"
                  />
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBoxCustom1EditTotalQuantityPrice"
                    label="選項總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchboxCustom1EditoptionPrice"
                    label="餐點總計"
                    label-color="white"
                    readonly
                    min="0"
                  />

                  <q-input
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-150px"
                    v-model.number="lunchBoxCustom1Editfinaltotal"
                    label="總計"
                    label-color="white"
                    readonly
                    min="0"
                  />
                </div>
              </div>
              <div
                v-for="(
                  lunchBoxCustom1EditMain, index
                ) in lunchBoxCustom1EditMains"
                :key="index"
              >
                <h6 style="margin: 0; padding: 0">
                  {{ lunchBoxCustom1EditMain.shortname }}
                </h6>
                <q-input
                  v-model.number="lunchBoxCustom1EditMain.quantity"
                  :label="lunchBoxCustom1EditMain.shortname"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px', margin: '0' }"
                  :bg-color="getInputColor(lunchBoxCustom1EditMain.quantity)"
                  :label-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  min="0"
                />
                <h5 style="margin: 0; padding: 0">
                  {{ lunchBoxCustom1EditDrinkName }}
                </h5>
                <div
                  v-for="(
                    lunchBoxCustom1EditDrink, drinkIndex
                  ) in lunchBoxCustom1EditMain.drinks"
                  :key="drinkIndex"
                >
                  <q-input
                    v-model.number="lunchBoxCustom1EditDrink.quantity"
                    :label="lunchBoxCustom1EditDrink.name"
                    filled
                    type="number"
                    :bg-color="getInputColor(lunchBoxCustom1EditDrink.quantity)"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </div>
              </div>
            </div>
            <!-- 6inch -->
            <div class="color1 w-100 q-pa-none q-ma-none">
              <h5 style="margin: 0; padding: 0">
                {{ lunchBoxCustom1Burrito6inchName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBoxCustom1Burrito6inch, index
                  ) in lunchBoxCustom1Burrito6inchs"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="lunchBoxCustom1Burrito6inch.quantity"
                    :label="lunchBoxCustom1Burrito6inch.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(lunchBoxCustom1Burrito6inch.quantity)
                    "
                    class="q-ma-xs w-110px"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 dialogtitle">
              <h5 style="margin: 0; padding: 0">
                {{ lunchBoxCustom1EditSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBoxCustom1EditSideDish, index
                  ) in lunchBoxCustom1EditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    v-model.number="lunchBoxCustom1EditSideDish.quantity"
                    :label="lunchBoxCustom1EditSideDish.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(lunchBoxCustom1EditSideDish.quantity)
                    "
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                    min="0"
                  />
                </q-item>
              </div>
            </div>
            <!-- bentomain -->
            <div class="color1 w-100 bangdongdialog">
              <h5 style="margin: 0; padding: 0">副主餐</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    lunchBoxCustom1EditBentoMain, index
                  ) in lunchBoxCustom1EditBentoMains"
                  :key="index"
                  class="flex-start"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="lunchBoxCustom1EditBentoMain.quantity"
                    :label="lunchBoxCustom1EditBentoMain.name"
                    filled
                    type="number"
                    :bg-color="
                      getInputColor(lunchBoxCustom1EditBentoMain.quantity)
                    "
                    class="q-ma-xs w-110px"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <!-- 按鈕 -->
              <div class="row items-center" style="width: 100%">
                <q-input
                  v-model="lunchboxCustom1Comment"
                  outlined
                  label="商品備註"
                  class="color1 col-9 q-mx-lg"
                  :bg-color="inputColor"
                />

                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog0"
                  size="30px"
                  class="q-ma-xs col-1"
                />
                <q-btn
                  color="primary"
                  label="儲存"
                  type="submit"
                  size="30px"
                  class="q-ma-xs col-1"
                  @click="saveEditDialog0"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 客製刈包盒餐修改 dialog -->
<q-dialog v-model="editDialog36" maximized>
  <q-card>
    <div
      class="row items-start justify-center"
      id="guabaoCustom2Edit"
    >
      <div class="color2 bangdongdialog row items-center text-white">
        <h5 style="margin: 0; padding: 0">
          {{ guabaoCustom2EditName }}
        </h5>
        <q-input
          filled
          type="number"
          :input-style="{ fontSize: '20px' }"
          class="q-pa-xs w-110px"
          v-model.number="guabaoCustom2EditTotalQuantity"
          label="數量總計"
          :bg-color="getInputColor(guabaoCustom2EditTotalQuantity)"
          min="0"
        />
        <div class="col"></div>
        <div class="row">
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            v-model.number="guabaoCustom2EditArbitrarily"
            label="任意搭配"
            label-color="white"
            min="0"
          />

          <q-input
            min="0"
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            v-model.number="guabaoCustom2EditPrice"
            label="商品單價"
            label-color="white"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-pa-xs w-150px"
            v-model.number="guabaoCustom2EditTotalQuantityPrice"
            label="選項總計"
            label-color="white"
            readonly
            min="0"
          />
          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-pa-xs w-150px"
            v-model.number="guabaoCustom2EditoptionPrice"
            label="餐點總計"
            label-color="white"
            readonly
            min="0"
          />

          <q-input
            filled
            type="number"
            :input-style="{ fontSize: '20px' }"
            class="q-pa-xs w-150px"
            v-model.number="guabaoCustom2Editfinaltotal"
            label="總計"
            label-color="white"
            readonly
            min="0"
          />
        </div>
      </div>
      <div
        v-for="(
          guabaoCustom2EditMain, index
        ) in guabaoCustom2EditMains"
        :key="index"
      >
        <h6 style="margin: 0; padding: 0">
          {{ guabaoCustom2EditMain.shortname }}
        </h6>
        <q-input
          v-model.number="guabaoCustom2EditMain.quantity"
          :label="guabaoCustom2EditMain.shortname"
          filled
          type="number"
          :input-style="{ fontSize: '20px', margin: '0' }"
          :bg-color="getInputColor(guabaoCustom2EditMain.quantity)"
          :label-style="{ fontSize: '20px' }"
          class="q-pa-xs w-110px"
          min="0"
        />
        <h5 style="margin: 0; padding: 0">
          {{ guabaoCustom2EditDrinkName }}
        </h5>
        <div
          v-for="(
            guabaoCustom2EditDrink, drinkIndex
          ) in guabaoCustom2EditMain.drinks"
          :key="drinkIndex"
        >
          <q-input
            v-model.number="guabaoCustom2EditDrink.quantity"
            :label="guabaoCustom2EditDrink.name"
            filled
            type="number"
            :bg-color="getInputColor(guabaoCustom2EditDrink.quantity)"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </div>
      </div>
    </div>
    <!-- 6inch -->
    <div class="color1 w-100 q-pa-none q-ma-none">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom2Burrito6inchName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom2Burrito6inch, index
          ) in guabaoCustom2Burrito6inchs"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            min="0"
            v-model.number="guabaoCustom2Burrito6inch.quantity"
            :label="guabaoCustom2Burrito6inch.name"
            filled
            type="number"
            :bg-color="
              getInputColor(guabaoCustom2Burrito6inch.quantity)
            "
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
          />
        </q-item>
      </div>
    </div>
    <!-- 配菜 -->
    <div class="color1 dialogtitle">
      <h5 style="margin: 0; padding: 0">
        {{ guabaoCustom2EditSideDishName }}
      </h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom2EditSideDish, index
          ) in guabaoCustom2EditSideDishes"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            v-model.number="guabaoCustom2EditSideDish.quantity"
            :label="guabaoCustom2EditSideDish.name"
            filled
            type="number"
            :bg-color="
              getInputColor(guabaoCustom2EditSideDish.quantity)
            "
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
            min="0"
          />
        </q-item>
      </div>
    </div>
    <!-- bentomain -->
    <div class="color1 w-100 bangdongdialog">
      <h5 style="margin: 0; padding: 0">副主餐</h5>
      <div class="row items-center">
        <q-item
          v-for="(
            guabaoCustom2EditBentoMain, index
          ) in guabaoCustom2EditBentoMains"
          :key="index"
          class="flex-start"
          style="margin: 0; padding: 0"
        >
          <q-input
            min="0"
            v-model.number="guabaoCustom2EditBentoMain.quantity"
            :label="guabaoCustom2EditBentoMain.name"
            filled
            type="number"
            :bg-color="
              getInputColor(guabaoCustom2EditBentoMain.quantity)
            "
            class="q-ma-xs w-110px"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
          />
        </q-item>
      </div>
    </div>
    <!-- 總計 -->
    <div class="color1 bangdongdialog">
      <!-- 按鈕 -->
      <div class="row items-center" style="width: 100%">
        <q-input
          v-model="guabaoCustom2Comment"
          outlined
          label="商品備註"
          class="color1 col-9 q-mx-lg"
          :bg-color="inputColor"
        />

        <q-btn
          color="dark"
          label="取消"
          @click="closeEditDialog36"
          size="30px"
          class="q-ma-xs col-1"
        />
        <q-btn
          color="primary"
          label="儲存"
          type="submit"
          size="30px"
          class="q-ma-xs col-1"
          @click="saveEditDialog36"
        />
      </div>
    </div>
  </q-card>
</q-dialog>

        <!-- 單點修改 dialog -->
        <q-dialog v-model="editDialog10" maximized>
          <q-card class="q-gutter-md row items-start word-break">
            <!-- 6 吋潤餅 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdongSolo6inchName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSoloEdit6inch, index
                  ) in bangdongSoloEdit6inchs"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="bangdongSoloEdit6inch.quantity"
                    :bg-color="getInputColor(bangdongSoloEdit6inch.quantity)"
                    :label="bangdongSoloEdit6inch.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                  />
                </q-item>
              </div>
            </div>
             <!-- 刈包 -->

    <div class="color1 bangdongdialog">
      <h5 style="margin: 0; padding: 0">{{ GuabaoSoloName }}</h5>
      <div class="row items-center">
        <q-item
          v-for="(
            GuabaoSoloEdit, index
          ) in GuabaoSoloEdits"
          :key="index"
          class="flex-auto"
          style="margin: 0; padding: 0"
        >
          <q-input
            min="0"
            v-model.number="GuabaoSoloEdit.quantity"
            :bg-color="getInputColor(GuabaoSoloEdit.quantity)"
            :label="GuabaoSoloEdit.name"
            filled
            type="number"
            :input-style="{ fontSize: '20px', margin: '0' }"
            :label-style="{ fontSize: '20px' }"
            class="q-pa-xs w-110px"
          />
        </q-item>
      </div>
    </div>

            <!-- 3 吋潤餅 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdongSolo3inchName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSoloEdit3inch, index
                  ) in bangdongSoloEdit3inchs"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="bangdongSoloEdit3inch.quantity"
                    :bg-color="getInputColor(bangdongSoloEdit3inch.quantity)"
                    :label="bangdongSoloEdit3inch.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                  />
                </q-item>
              </div>
            </div>
            <!-- 飲料 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdongSoloDrinkName }}</h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSoloEditDrink, index
                  ) in bangdongSoloEditDrinks"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="bangdongSoloEditDrink.quantity"
                    :bg-color="getInputColor(bangdongSoloEditDrink.quantity)"
                    :label="bangdongSoloEditDrink.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                  />
                </q-item>
              </div>
            </div>
            <!-- 副主餐 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSoloBentoMainName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSoloEditBentoMain, index
                  ) in bangdongSoloEditBentoMains"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="bangdongSoloEditBentoMain.quantity"
                    :bg-color="
                      getInputColor(bangdongSoloEditBentoMain.quantity)
                    "
                    :label="bangdongSoloEditBentoMain.name"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                  />
                </q-item>
              </div>
            </div>
            <!-- 配菜 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSoloSideDishName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSoloEditSideDish, index
                  ) in bangdongSoloEditSideDishes"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="bangdongSoloEditSideDish.quantity"
                    :label="bangdongSoloEditSideDish.name"
                    :bg-color="getInputColor(bangdongSoloEditSideDish.quantity)"
                    filled
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                  />
                </q-item>
              </div>
            </div>
            <!-- 環保袋 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">
                {{ bangdongSoloEcoBagName }}
              </h5>
              <div class="row items-center">
                <q-item
                  v-for="(
                    bangdongSoloEditEcoBag, index
                  ) in bangdongSoloEditEcoBags"
                  :key="index"
                  class="flex-auto"
                  style="margin: 0; padding: 0"
                >
                  <q-input
                    min="0"
                    v-model.number="bangdongSoloEditEcoBag.quantity"
                    :label="bangdongSoloEditEcoBag.name"
                    filled
                    :bg-color="getInputColor(bangdongSoloEditEcoBag.quantity)"
                    type="number"
                    :input-style="{ fontSize: '20px', margin: '0' }"
                    :label-style="{ fontSize: '20px' }"
                    class="q-pa-xs w-110px"
                  />
                </q-item>
              </div>
            </div>
            <!-- 總計 -->
            <div class="color1 bangdongdialog">
              <h5 style="margin: 0; padding: 0">{{ bangdongSoloName }}</h5>
              <div class="row">
                <q-input
                  min="0"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-110px"
                  v-model.number="bangdongSoloEditTotalQuantity"
                  label="數量總計"
                  :bg-color="inputColor"
                />

                <q-input
                  min="0"
                  filled
                  type="number"
                  :input-style="{ fontSize: '20px' }"
                  class="q-pa-xs w-150px"
                  v-model.number="bangdongSoloEditTotalQuantityPrice"
                  label="金額總計"
                  :bg-color="inputColor"
                  readonly
                />
              </div>
              <!-- 按鈕 -->
              <div class="row items-cetner" style="width: 100%">
                <q-input
                  v-model="bangdongSoloComment"
                  outlined
                  label="商品備註"
                  class="color1 col-9 q-mx-lg"
                  :bg-color="inputColor"
                />

                <q-btn
                  color="dark"
                  label="取消"
                  @click="closeEditDialog10"
                  size="30px"
                  class="q-ma-xs col-1"
                />
                <q-btn
                  color="primary"
                  label="儲存"
                  type="submit"
                  size="30px"
                  class="q-ma-xs col-1"
                  @click="saveEditDialog10"
                />
              </div>
            </div>
          </q-card>
        </q-dialog>
        <!-- 商品備註 -->

        <!-- 結帳金額區域 -->
        <div class="row q-mt-md border1px justify-center w-100">
          <div
            class="col-1 bg-dark text-center row items-center w-100 justify-center"
          >
            <div class="text-h6 text-white">付款方式</div>
          </div>
          <div class="col-5 items-center row">
            <div class="q-pa-xs row col justify-around items-center">
              <q-radio
                v-model="paymentMethod"
                val="cash"
                label="現金"
                class="radio-option"
              />
              <!-- <q-radio
                v-model="paymentMethod"
                val="wire"
                label="轉帳"
                class="radio-option"
              /> -->
              <!-- <q-radio
                v-model="paymentMethod"
                val="credit"
                label="預收款"
                class="radio-option"
              /> -->
              <q-radio
                v-model="paymentMethod"
                val="debt"
                label="記帳"
                class="radio-option"
              />
              <q-radio
                v-model="paymentMethod"
                val="uber"
                label="uber"
                class="radio-option"
              />
              <q-input
                v-if="
                  paymentMethod === 'debt' ||
                  paymentMethod === 'wire' ||
                  paymentMethod === 'credit'
                "
                v-model="getMoneyDate"
                filled
                style="width: 150px"
                label="預計收款日"
                :input-style="{ fontSize: '16px' }"
              >
                <template v-slot:append>
                  <q-icon
                    name="calendar_today"
                    class="cursor-pointer"
                    style="width: 10px"
                  >
                    <q-popup-proxy
                      cover
                      transition-show="scale"
                      transition-hide="scale"
                    >
                      <q-date
                        v-model="getMoneyDate"
                        today-btn
                        color="accent"
                        style="width: 800px"
                        mask="YYYY-MM-DD"
                      >
                        <div class="row items-center justify-end">
                          <q-btn label="取消" color="dark" v-close-popup />
                          <q-btn v-close-popup label="確定" color="primary" />
                        </div>
                      </q-date>
                    </q-popup-proxy>
                  </q-icon>
                </template>
              </q-input>
            </div>
          </div>
          <div
            class="col-1 bg-dark text-center row items-center w-100 justify-center"
          >
            <div class="text-h6 text-white">折扣</div>
          </div>
          <div class="col-2 text-center">
            <q-input
              filled
              v-model.number="discount"
              style="width: 90px"
              min="0"
            />
          </div>
          <div
            class="col-1 bg-dark text-center row items-center w-100 justify-center"
          >
            <div class="text-h6 text-white">運費</div>
          </div>
          <div class="col-2 text-center">
            <q-input
              filled
              v-model.number="freight"
              style="width: 90px"
              min="0"
            />
          </div>
        </div>
        <div class="row border1px justify-center w-100">
          <div
            class="col-1 bg-dark text-center row items-center w-100 justify-center"
          >
            <div class="text-h6 text-white">總金額</div>
          </div>
          <div class="col-9 row q-px-lg">
            <div class="q-field row no-wrap items-center">
              <div class="col-auto" style="font-size: 20px">總金額</div>
              <q-input
                filled
                v-model.number="total"
                style="width: 90px"
                min="0"
              />
            </div>
            <div class="q-field row no-wrap items-center">
              <div class="col-auto" style="font-size: 20px">已付金額</div>
              <q-input filled v-model.number="paid" style="width: 90px" readonly/>
            </div>
            <div class="q-field row no-wrap items-center">
              <div class="col-auto text-accent" style="font-size: 20px">
                未付金額
              </div>
              <q-input
                filled
                v-model.number="unpaid"
                style="width: 90px"
                input-class="text-accent"
              />
            </div>
          </div>
          <div class="col-2 row justify-end"></div>
        </div>
        <div class="row justify-end w-100 q-mt-md">
          <q-btn
            outline
            v-if="!meal.id"
            color="accent"
            @click="alreadyCheck"
            :disabled="isSubmitting"
            label="完成訂單填寫，加入訂單"
            class="col-7 h-100px"
          />
          <q-btn
            outline
            v-if="meal.id"
            color="accent"
            :disabled="isSubmitting"
            label="完成修改訂單，儲存並覆蓋訂單"
            @click="alreadyCheck"
            class="col-7 h-100px"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- 路名 -->
  <q-dialog v-model="dialogRoad" persistent full-width>
    <q-card>
      <q-card-section>
        <div class="row w-100 items-center">
          <q-input
            v-model="searchTerm"
            placeholder="搜尋..."
            dense
            class="q-mb-md col-10"
          />
          <div class="col-2">
            <q-btn
              label="取消"
              class="q-pl-md"
              color="dark"
              @click="dialogRoad = false"
            />
          </div>
        </div>
        <div class="row w-100 items-center" style="max-height: 100vh">
          <q-btn
            color="primary"
            v-for="road in roads"
            class="col-1 q-ma-xs"
            size="xl"
            :key="road.id"
            clickable
            @click="
              UseRoadStore().getRoadFull(
                personForm.address,
                personForm.address2,
                road.value
              )
            "
          >
            {{ road.value }}
          </q-btn>
          <div class="row w-100 items-baseline">
            <q-btn
              v-for="road in road.roadsFull"
              :key="road.id"
              clickable
              class="fwordbtn q-ma-xs"
              color="primary"
              @click="copyroad(road.value)"
            >
              {{ road.value }}
            </q-btn>
          </div>
        </div>
        <q-pagination
          v-if="totalPages > 0"
          v-model="currentPage"
          :min="1"
          :max="totalPages"
          :input="true"
        />
      </q-card-section>
    </q-card>
  </q-dialog>
  <!-- 確認 -->
  <q-dialog v-model="confirm" persistent>
    <q-card>
      <q-card-section class="row items-center w-100 justify-center">
        <div class="q-ma-md q-pa-md text-h4">確定餐點與配菜數量正確嗎？？</div>
      </q-card-section>

      <div class="row w-100 justify-center">
        <q-btn
          label="再檢查"
          color="dark"
          v-close-popup
          size="20px"
          class="col q-ma-md"
        />
        <q-btn
          v-if="!meal.id"
          label="我確定"
          color="accent"
          size="20px"
          class="col q-ma-md"
          v-close-popup
          @click="addOrder()"
        />
        <q-btn
          v-if="meal.id"
          label="我確定喔"
          color="accent"
          size="20px"
          class="col q-ma-md"
          v-close-popup
          @click="editOrder"
        />
      </div>
    </q-card>
  </q-dialog>
</template>
<!-- --------------------------------------------------- -->
<script setup>
import { ref, watch, computed, reactive, onMounted } from 'vue'
import { useQuasar, debounce } from 'quasar'
import { apiAuth } from 'src/boot/axios'
// import { UseSearchStore } from 'src/stores/search.js'
import { UseMemberStore } from 'src/stores/member'
import { UseAddressStore } from 'src/stores/address.js'
import SmallKeypad from 'src/components/SmallKeypad.vue'
import { DateTime } from 'luxon'
import { UseMealStore } from 'src/stores/meal.js'
import { UseRoadStore } from 'src/stores/road.js'
import { useTagStore } from 'src/stores/tag.js'
import { onBeforeRouteLeave, useRouter } from 'vue-router'

// ------------------------------------
const router = useRouter()
const meal = UseMealStore()
const members = UseMemberStore()
const tag = useTagStore()
tag.getTags()
const $q = useQuasar()
const road = UseRoadStore()
const keypad = ref(false)
const address = UseAddressStore()
const inputColor = 'grey-4'

const confirm = ref(false)
// const accept = ref(false)
const menuState = ref(false)
const today = DateTime.now().toFormat('yyyy-MM-dd')
const picks = reactive([
  { label: '外送', value: 'shipping_delivery' },
  { label: '自取', value: 'shipping_pickup' }
])
const eventOptions = ref(tag.tag)
const orderStatus = reactive([
  { label: '未確認', value: 'Pending' },
  { label: '已確認', value: 'Confirmed' },
  { label: '已確認待配餐', value: 'CCP' },
  { label: '作廢', value: 'Void' }
]) // 訂單狀態
// const locationIds = reactive([
//   { label: '重慶南', value: 1 },
//   { label: '和平', value: 2 }
// ]) // 和平店

// 小鍵盤
const activeObject = ref('')
const activeKey = ref('')

const setActiveField = (obj, key) => {
  activeObject.value = obj
  activeKey.value = key
}

// const showNumKeypad = ref(false)
const handleKeypadInput = (input) => {
  console.log('Received value:', typeof input)
  // 處理非數字和特殊字符
  if (
    typeof input === 'string' &&
    isNaN(Number(input)) &&
    !['backspace', '*', ',', '+', ':', '-'].includes(input)
  ) {
    return
  }
  if (activeObject.value && activeKey.value) {
    const key = activeKey.value
    let currentVal = activeObject.value[key]
    // 檢查可能為 undefined, null 或其他非字符串的情況
    currentVal =
      currentVal !== undefined && currentVal !== null ? String(currentVal) : ''

    if (input === 'backspace') {
      // 刪除最後一個字符
      activeObject.value[key] = currentVal.slice(0, -1)
    } else if (['*', '=', '+', ':', '-'].includes(input)) {
      activeObject.value[key] = currentVal + input
    } else {
      // 其他數字和字符
      activeObject.value[key] = currentVal + input
    }
  }
}

// -------------------------------------------
function getInputColor (quantity) {
  return quantity === 0 ? inputColor : 'orange-3'
}

const optionsTaxid = [
  { label: '需要統編', value: 1 },
  { label: '不要統編', value: 0 }
]
// 聯絡人區
const showPersonDialog = ref(false)
function addPerson () {
  showPersonDialog.value = true
}
const inputRef = ref(null)
const hometelRef = ref(null)
const roadRef = ref(null)
// 路名輔助按鈕
// function run2(message) {
//   personForm.road2 += message;
//   inputRef.value.focus();
// }
const optionsGender = [
  { label: '先生', value: 17 },
  { label: '小姐', value: 18, color: 'green' }
]
const addressForm = ref({
  lane: '', // 巷
  alley: '', // 弄
  no: '', // 號
  floor: '', // 樓
  at: '', // 之幾
  room: '' // 室
})
// 取得區域選項
const personForm = reactive({
  checkDate: '',
  formattedDate: '', // 日期抓取
  pick: '', // 取貨方式
  weekday: '', // 星期抓取
  getDate: '', // 送達日期
  week: '', // 星期
  companyClass: '', // 公司類別
  company: '', // 訂購公司
  department: '', // 訂購部門
  compilation: '', // 統編
  name: '', // 訂購人
  tel: '', // 訂購人電話
  prefix: '', // 訂購人區碼
  hometel: '', // 訂購人住家電話
  hometel2: '', // 訂購人分機
  address: '', // 縣市
  address2: '', // 區域
  road: '', // 路名
  road2: '', // 門牌
  recipient: '', // 收件人
  recipientTel: '', // 收件人電話
  recipent2: '',
  recipientTel2: '',
  gender: 18, // 性別
  gender2: 18,
  sameOrderCustomer: false, // 訂購人與收件人相同
  sameOrderCompany: false, // 訂購公司與收件公司相同
  noCompilation: 0, // 統編勾選
  getCompany: '', // 收件公司
  event: [], // 活動
  remark: '', // 備註
  orderStatu: '請選擇', // 訂單狀態
  memberId: '', // 會員 ID
  locationId: '和平', // 店家代號
  delivery_date_hi: '',
  time: '',
  time1: '',
  time2: '',
  comment: '',
  shipping_road_abbr: '',
  find_us: '',
  source: 'pos'
})
address.getstate()
watch(
  () => personForm.address,
  (val) => {
    address.getcity(val)
  }
)

// sb備註
const mealRemark = ref('')
const internalRemark = ref('')
const shippingRemark = ref('')
const dropdownOpenRemark = ref(false)
const dropdownOpenMeal = ref(false)
const optionsRemark = ref([])
const optionsMeal = ref([])

async function fetchAllPages (apiUrl, params) {
  let currentPage = 1
  let fetchedData = []
  let totalPages = 1

  try {
    while (currentPage <= totalPages) {
      const response = await apiAuth.get(apiUrl, { params: { ...params, page: currentPage } })
      fetchedData = fetchedData.concat(response.data.data)
      totalPages = response.data.last_page
      currentPage++
    }
  } catch (error) {
    console.error('Error fetching paginated data:', error)
  }

  return fetchedData
}

onMounted(async () => {
  const fetchedRemarkOptions = await fetchAllPages('/sale/order/phrases/phrase_order_comment', {})
  optionsRemark.value = fetchedRemarkOptions.map(option => option.name)

  const fetchedMealOptions = await fetchAllPages('/sale/order/phrases/phrase_order_extra_comment', {})
  optionsMeal.value = fetchedMealOptions.map(option => option.name)
})

const filteredRemarkOptions = computed(() => optionsRemark.value.filter(option => option.toLowerCase().includes(personForm.remark.toLowerCase())))
const filteredMealOptions = computed(() => optionsMeal.value.filter(option => option.toLowerCase().includes(mealRemark.value.toLowerCase())))

function selectRemarkOption (option) {
  personForm.remark = option
  dropdownOpenRemark.value = false
}

function selectMealOption (option) {
  mealRemark.value = option
  dropdownOpenMeal.value = false
}

watch(() => personForm.remark, () => {
  if (personForm.remark !== '') dropdownOpenRemark.value = true
})

watch(mealRemark, () => {
  if (mealRemark.value !== '') dropdownOpenMeal.value = true
})
// -------------------

// 訂購日期自動導入
watch(
  () => personForm.getDate,
  async (newVal, oldVal) => {
    const date = DateTime.fromFormat(newVal, 'yyyy-MM-dd').setZone(
      'Asia/Taipei'
    )
    personForm.week = date.weekdayLong
    // getMoneyDate.value = personForm.getDate
    showDatePicker.value = false
  }
)
// copy function
const copy = async () => {
  showPersonDialog.value = true
  if (!members.memberdetail[0]) {
    personForm.tel = members.persontel
    personForm.name = members.personname
    personForm.compilation = members.persontin
    personForm.hometel = members.persontele
    personForm.road = members.personaddress
  } else {
    console.log('帶入手機', members.memberdetail[0])
    personForm.tel = await members.memberdetail[0].mobile
  }
  members.shouldAddPerson = false
  // members.memberdetail = [];
}
// ----------------------------------------------------------------
const justcopy = async () => {
  showPersonDialog.value = true
  const [hometel, hometel2] = members.persontele.split('#') // 使用 split () 方法將字符串按 "#" 分割
  personForm.hometel = hometel // 將 "#" 前面的内容赋给 personForm.hometel
  personForm.hometel2 = hometel2 // 將 "#" 后面的内容赋给 personForm.hometel2
  personForm.road = members.personroad
  personForm.road2 = members.personaddress1
  personForm.getCompany = members.personcompany
  personForm.address = members.personstateid
  personForm.address2 = members.personcityid
  personForm.compilation = members.persontin

  let stateObject = address.state.find(
    (item) => item.value === members.personstateid
  )

  if (stateObject === undefined) {
    stateObject = address.state.find(
      (item) => item.label === members.personstateid
    )
  }

  await address.getcity(stateObject.value)
  personForm.address = stateObject.label
  // 導入舊資料區域
  let cities = address.city.find((item) => item.value === members.personcityid)
  if (cities === undefined) {
    cities = address.city.find((item) => item.label === members.personcityid)
  }
  personForm.address2 = cities.label

  members.shouldCopyPerson = false
  members.memberdetail = []
}
// -------------------
if (members.shouldAddPerson === true) {
  setTimeout(() => {
    copy()
  }, 2000)
} else if (members.shouldCopyPerson === true) {
  justcopy()
}
// 統編勾選變成唯讀並且清空
// bangdong comment
const findUsOptions = ref([])
const getFindus = async () => {
  const { data } = await apiAuth.get(
    '/common/term?filter_taxonomy_code=member_how_to_find_us'
  )
  const findus = await data.data.filter(
    (res) => res.taxonomy_code === 'member_how_to_find_us'
  )
  console.log(findus)
  for (let i = 0; i < findus.length; i++) {
    findUsOptions.value.push(findus[i])
  }
}
getFindus()
const riceBox1Comment = ref('')
const riceBox2Comment = ref('')
const riceBox3Comment = ref('')
const riceBox4Comment = ref('')
const riceBox5Comment = ref('')
const riceBox6Comment = ref('')
const riceBox7Comment = ref('')
const riceBox8Comment = ref('')
const GuabaoBangdong1Comment = ref('')
const GuabaoBangdong2Comment = ref('')
const GuabaoBangdong3Comment = ref('')
const GuabaoBangdong4Comment = ref('')
const GuabaoBangdong5Comment = ref('')
const GuabaoBangdong6Comment = ref('')
const GuabaoBangdongVegetarian1Comment = ref('')
const GuabaoBangdongVegetarian2Comment = ref('')
const GuabaoBangdongSalmonComment = ref('')
const GuabaoLunchbox2Comment = ref('')
const GuabaoLunchbox3Comment = ref('')
const GuabaoLunchbox4Comment = ref('')

const bangdong1Comment = ref('')
const bangdong2Comment = ref('')
const bangdong3Comment = ref('')
const bangdong4Comment = ref('')
const bangdong5Comment = ref('')
const bangdong6Comment = ref('')
const bangdongVegetarian1Comment = ref('')
const bangdongVegetarian2Comment = ref('')
const bangdongSalmonComment = ref('')
const lunchbox1Comment = ref('')
const lunchbox2Comment = ref('')
const lunchbox3Comment = ref('')
const lunchbox4Comment = ref('')
const lunchbox214Comment = ref('')
const bangdongSoloComment = ref('')
const bangdongCustom1Comment = ref('')
const lunchboxCustom1Comment = ref('')
const riceBoxCustom1Comment = ref('')
const guabaoCustom1Comment = ref('')
const guabaoCustom2Comment = ref('')
//
const isCompilationReadonly = computed(() => personForm.noCompilation === '1')

// 結帳區
const paid = ref(0)
const tableRows = reactive([])
const expanded = ref([])
const paymentMethod = ref('')
const total = ref(0)
const freight = ref(0)
const discount = ref(0)
const unpaid = ref(0)
const getMoneyDate = ref('')
// const getMoneyDate = ref(personForm.getDate)
const totalPrice = computed(() => {
  return (
    tableRows.reduce((accumulator, row) => accumulator + row.price, 0) -
    parseInt(discount.value) +
    parseInt(freight.value)
  )
})
const productPrice = computed(() => {
  return tableRows.reduce((accumulator, row) => accumulator + row.price, 0)
})

watch(totalPrice, (newTotalPrice) => {
  console.log('totalprice!')
  total.value = newTotalPrice
  unpaid.value = newTotalPrice - paid.value
})

// watch(paid.value, (newVal) => {
//   unpaid.value = total.value - newVal
// })
// 抓取當日日期
function updateDateTime () {
  const now = DateTime.now()
  const year = now.year
  const month = now.month.toString().padStart(2, '0')
  const date = now.day.toString().padStart(2, '0')
  personForm.formattedDate = `${year}-${month}-${date}`
}
setInterval(updateDateTime, 1000)
// 導入訂購日期的值
watch(
  () => personForm.formattedDate,
  (newValue) => {
    personForm.checkDate = DateTime.now().toFormat('yyyy-MM-dd')
  }
)

// 偵測 getDate 後抓取星期自動導入

function onReset () {
  // 將表單的資料都重置為初始值
  personForm.checkDate = ''
  personForm.formattedDate = '' // 日期抓取
  personForm.pick = '' // 取貨方式
  personForm.weekday = '' // 星期抓取
  personForm.getDate = '' // 送達日期
  personForm.week = '' // 星期
  personForm.companyClass = '' // 公司類別
  personForm.company = '' // 訂購公司
  personForm.department = '' // 訂購部門
  personForm.compilation = '' // 統編
  personForm.name = '' // 訂購人
  personForm.tel = '' // 訂購人電話
  // personForm.email = ''// 訂購人電子信箱
  personForm.prefix = '' // 訂購人區碼
  personForm.hometel = '' // 訂購人住家電話
  personForm.hometel2 = '' // 訂購人分機
  personForm.address = '' // 縣市
  personForm.address2 = '' // 區域
  personForm.road2 = ''
  personForm.road = '' // 路名
  personForm.recipient = '' // 收件人
  personForm.recipientTel = '' // 收件人電話
  personForm.recipient2 = '' // 收件人2
  personForm.recipientTel2 = '' // 收件人2電話
  personForm.gender = 18 // 性別
  personForm.sameOrderCustomer = false // 訂購人與收件人相同
  personForm.sameOrderCompany = false // 訂購公司與收件公司 personForm. 相同
  personForm.getCompany = '' // 收件公司
  personForm.event = [] // 活動
  personForm.remark = '' // 備註
  personForm.orderStatu = '請選擇' // 訂單狀態
  personForm.locationId = '和平' // 店家代號
  // 重設其它狀態
  // ...
  personForm.memberId = '' // 會員 ID
  personForm.time = '' // 時段
  personForm.noCompilation = 1
  personForm.source = 'pos'
}
// 縣市
// 取得縣市選項
// 獲取初始的縣市列表
// 監聽獲取區域
watch(
  () => personForm.address,
  async (newValue, oldValue) => {
    // 清空区域和路名
    let stateId = address.state.find((item) => item.value === newValue)
    if (stateId === undefined) {
      stateId = address.state.find((item) => item.label === newValue)
    }
    await address.getcity(stateId)
    await road.getRoad(personForm.address, personForm.address2)
  }
)

// 監聽變化獲取路名
watch(
  () => [personForm.address2],
  async () => {
    await road.getRoadSelect(personForm.address, personForm.address2) // 请确保 road 对象和 getroadselect 方法正确定义和可用
    await road.getRoad(personForm.address, personForm.address2)
  }
)
async function fetchRoadData () {
  try {
    const containsChinese = /[\u4e00-\u9fa5]/.test(personForm.road)
    if (containsChinese) {
      await road.getRoadSelectFilter(
        personForm.address,
        personForm.address2,
        personForm.road
      )
    }
    if (personForm.road.length > 0 && personForm.road.length < 3) {
      menuState.value = true
      roadLoading.value = false
    }
    // roadRef.value.focus();
  } catch (error) {
    console.error('Error occurred:', error)
  }
}
const debouncedFetchRoadData = debounce(fetchRoadData, 2000) //
const roadLoading = ref(false)
watch(
  () => [personForm.road],
  () => {
    if (personForm.road === '') {
      console.log('this is a bullshit')
      menuState.value = false
    } else {
      roadLoading.value = true
      // if (!personForm.road.length > 0 && !personForm.road.length < 3) {
      //   roadLoading.value = false
      // // debouncedFetchRoadData();
      // }
    }
  }
)

// 同訂購人按鈕
watch(
  () => [personForm.company, personForm.sameOrderCustomer, personForm.name],
  (
    [newCompany, newSameOrderCustomer, newName],
    [prevCompany, prevSameOrderCustomer, prevName]
  ) => {
    if (newSameOrderCustomer === true) {
      personForm.company = personForm.getCompany
      personForm.recipient = personForm.name
      personForm.recipientTel = personForm.tel
      personForm.gender2 = personForm.gender
    }
  },
  { deep: true }
)
// watch time
watch(
  () => [personForm.time1, personForm.time2],
  (newVal) => {
    personForm.time = personForm.time1 + '-' + personForm.time2
  }
)

// 原本的 watch，專門監控 sameOrderCompany

// 統編搜尋帶入公司名稱
// 在用戶更改統編的時候，將 isCompilationUserInput 設置為 true
watch(
  () => personForm.compilation,
  (newVal, oldVal) => {
    if (newVal !== oldVal) {
      isCompilationUserInput.value = true
    }
  }
)
const invoiceIDfinding = ref(false)
watch(
  () => personForm.compilation,
  async (newVal) => {
    if (newVal && newVal.length === 8 && isCompilationUserInput.value) {
      invoiceIDfinding.value = true
      apiAuth.get(`localization/tax_id_num/${newVal}`).then((res) => {
        if (res.data.tax_id_num) {
          // Set the company name
          personForm.getCompany = res.data.name
          invoiceIDfinding.value = false
          // Check if the address should be overwritten
        } else {
          $q.notify({
            color: 'red-4',
            textColor: 'white',
            icon: 'cloud_off',
            position: 'center',
            message: '統編找不到公司'
          })
          invoiceIDfinding.value = false
        }
      })
    }
  }
)
// 電話號碼搜尋自動導入其他
const isCompilationUserInput = ref(true)
let timeoutId = null
// 搜尋後更改表單
watch(
  // 監聽 personForm.tel 的變化
  () => personForm.tel,
  (newVal, oldVal) => {
    // 如果 tel 為空，清空表單中的其他資料
    if (newVal === oldVal) {
      return
    } else if (newVal.length <= 9) {
      personForm.memberId = ''
    }
    if (newVal.length > 9) {
      clearTimeout(timeoutId)
      timeoutId = setTimeout(async () => {
        try {
          // 延遲請求的時間（以毫秒為單位）
          const delay = 100

          // 延遲指定的時間
          await new Promise((resolve) => setTimeout(resolve, delay))
          // 發送 API 請求獲取資料
          const { data } = await apiAuth.get(
            `/member/member?filter_phone=${newVal}`
          )
          if (data.data.length > 0 && data.data.length < 2) {
            // 如果找到對應的資料，填入表單中
            personForm.name = data.data[0].name
            // personForm.email = data.data[0].email
            personForm.tel = data.data[0].mobile
            personForm.road = data.data[0].shipping_road
            personForm.road2 = data.data[0].shipping_address1
            personForm.prefix = data.data[0].telephone_prefix
            const telephone = data.data[0].telephone // 獲取電話號碼
            const [hometel, hometel2] = telephone.split('#') // 使用 split () 方法將字符串按 "#" 分割
            personForm.hometel = hometel // 將 "#" 前面的内容赋给 personForm.hometel
            personForm.hometel2 = hometel2 // 將 "#" 后面的内容赋给 personForm.hometel2
            personForm.hometel = personForm.hometel.replace(/-/g, '')
            personForm.memberId = data.data[0].id
            personForm.compilation = data.data[0].payment_tin
            personForm.getCompany = data.data[0].payment_company
            personForm.department = data.data[0].payment_department
            personForm.gender = data.data[0].salutation_id
            personForm.gender2 = data.data[0].shipping_salutation_id
            personForm.comment = data.data[0].comment
            personForm.recipient = data.data[0].shipping_personal_name
            personForm.recipient2 = data.data[0].shipping_personal_name2
            personForm.recipientTel = data.data[0].shipping_phone
            personForm.recipientTel2 = data.data[0].shipping_phone2
            isCompilationUserInput.value = false

            // 導入舊資料縣市
            const stateObject = await apiAuth
              .get('localization/division/state')
              .then((response) =>
                response.data.find(
                  (item) => item.id === data.data[0].shipping_state_id
                )
              )

            personForm.address = stateObject.id
            // 導入舊資料區域
            const cities = await apiAuth
              .get(
                `localization/division/city?equal_parent_id=${stateObject.id}`
              )
              .then((response) =>
                response.data.find(
                  (item) => item.city_id === data.data[0].shipping_city_id
                )
              )

            personForm.address2 = cities.city_id
            const addressParts = await address.parseAddress(
              data.data[0].shipping_address1
            )
            addressForm.value.lane = addressParts.lane
            addressForm.value.alley = addressParts.alley
            addressForm.value.no = addressParts.no
            addressForm.value.floor = addressParts.floor
            addressForm.value.at = addressParts.at
            addressForm.value.room = addressParts.room
          } else {
            personForm.tel = newVal
          }
        } catch (error) {
          // 處理錯誤
          console.error(error)
        }
      }, 100)
    }
  }
)

const generateAddress = async () => {
  console.log(addressForm.value)
  personForm.road2 =
    `${addressForm.value.lane !== '' ? addressForm.value.lane + '巷' : ''}` +
    `${addressForm.value.alley !== '' ? addressForm.value.alley + '弄' : ''}` +
    `${addressForm.value.no !== '' ? addressForm.value.no + '號' : ''}` +
    `${addressForm.value.floor !== '' ? addressForm.value.floor + '樓' : ''}` +
    `${addressForm.value.at !== '' ? '之' + addressForm.value.at : ''}` +
    `${addressForm.value.room !== '' ? addressForm.value.room + '室' : ''}`
}

// 手機號碼規則
const validatePhoneNumber = number => {
  const phoneRegex = /^09\d{8}$/
  return phoneRegex.test(number)
}

// --------------------------------------------------
const unupdateSave = () => {
  const cleanPhoneNumber = personForm.tel.replace(/-/g, '')
  // console.log('電話號碼', personForm.tel)
  // console.log('去掉之後', cleanPhoneNumber)
  if (!personForm.pick) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇送達方式'
    })
    return
  }
  if (!personForm.getDate) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇送達日期'
    })
    return
  }
  if (!personForm.tel && !personForm.hometel) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '市話或手機請擇一'
    })
    return
  }
  if (personForm.noCompilation === 1 && !personForm.compilation) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請填寫統一編號'
    })
    return
  }
  if (!validatePhoneNumber(cleanPhoneNumber)) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請填寫有效的訂購人手機號碼'
    })
    return
  }
  showPersonDialog.value = false
}
// --------------------------------------------------
const memerSave = async () => {
  if (!personForm.pick) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇送達方式'
    })
    return
  }
  if (!personForm.getDate) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇送達日期'
    })
    return
  }
  if (!personForm.tel && !personForm.hometel) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '市話或手機請擇一'
    })
    return
  }
  if (personForm.noCompilation === 1 && !personForm.compilation) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請填寫統一編號'
    })
    return
  }
  try {
    // 如果沒有輸入地址，轉空白
    // 對於 state
    let state = address.state.find((item) => item.label === personForm.address)
    if (state === undefined) {
      state = address.state.find((item) => item.value === personForm.address)
    }

    if (state !== undefined) {
      personForm.address = state.value
      await address.getcity(state.value)
    } else {
      personForm.address = ''
    }

    // 對於 city
    let city = address.city.find((item) => item.label === personForm.address2)
    if (city === undefined) {
      city = address.city.find((item) => item.value === personForm.address2)
    }
    personForm.address2 =
      city !== undefined && typeof city.value !== 'undefined' ? city.value : ''

    if (personForm.prefix == null) {
      personForm.prefix = ''
    }
    if (personForm.hometel2 == null) {
      personForm.hometel2 = ''
    }
    if (personForm.hometel == null) {
      personForm.hometel = ''
    }
    if (personForm.time1 !== '' && personForm.time2 !== '') {
      personForm.time = personForm.time1 + '-' + personForm.time2
      console.log(personForm.time)
    }
    const memberId = personForm.memberId || ''
    await generateAddress()
    // 如果已經存在客戶資料，就更新它
    await apiAuth
      .post('/member/member/save', {
        member_id: memberId, // id
        telephone_prefix: personForm.prefix,
        telephone: personForm.hometel + '#' + personForm.hometel2, // 家電
        name: personForm.name, // 訂購人
        mobile: personForm.tel, // 訂購人電話
        // email: personForm.email, // 訂購人 email
        shipping_personal_name: personForm.recipient, // 收件人
        shipping_phone: personForm.recipientTel, // 收件人電話
        shipping_personal_name2: personForm.recipient2, // 收件人
        shipping_phone2: personForm.recipientTel2, // 收件人電話
        payment_tin: personForm.compilation, // 統編
        payment_company: personForm.getCompany, // 公司名稱
        payment_department: personForm.department, // 部門
        shipping_company: personForm.getCompany, // 取貨公司
        shipping_state_id: personForm.address, // 縣市 id
        shipping_city_id: personForm.address2, // 區域 id
        shipping_road: personForm.road, // 路名
        shipping_address1: personForm.road2, // 地址
        salutation_id: parseInt(personForm.gender), // 稱謂
        find_us: personForm.find_us,
        comment: personForm.comment
      })
      .then((response) => {
        personForm.memberId = response.data.member_id

        if (memberId !== '') {
          $q.notify({
            color: 'accent',
            textColor: 'white',
            position: 'center',
            message: '是老客戶，已更新資料'
          })
        } else {
          $q.notify({
            color: 'accent',
            textColor: 'white',
            position: 'center',
            message: '是新客戶，已加入資料'
          })
        }
      })

    showPersonDialog.value = false
    // Display the original address name on the interface
  } catch (error) {
    console.error(error)
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: 'An error occurred: ' + error.message
    })
  }
}

/// 任意搭配 update//
const checkVegetable = (row) => {
  for (let i = 0; i < row.inputs.length; i++) {
    if (row.inputs[i].name.includes('素')) {
      row.name += '(含素)'
      break
    }
  }
}

// 油飯

const riceBox1TotalQuantity = ref(0)
const riceBox1Arbitrarily = ref(0)
const riceBox2TotalQuantity = ref(0)
const riceBox2Arbitrarily = ref(0)
const riceBox3TotalQuantity = ref(0)
const riceBox3Arbitrarily = ref(0)
const riceBox4TotalQuantity = ref(0)
const riceBox4Arbitrarily = ref(0)
const riceBox5TotalQuantity = ref(0)
const riceBox5Arbitrarily = ref(0)
const riceBox6TotalQuantity = ref(0)
const riceBox6Arbitrarily = ref(0)
const riceBox7TotalQuantity = ref(0)
const riceBox7Arbitrarily = ref(0)
const riceBox8TotalQuantity = ref(0)
const riceBox8Arbitrarily = ref(0)
// ---------------------------------------------------
const riceBox1EditArbitrarily = ref(0)
const riceBox1EditTotalQuantity = ref(0)
const riceBox2EditArbitrarily = ref(0)
const riceBox2EditTotalQuantity = ref(0)
const riceBox3EditArbitrarily = ref(0)
const riceBox3EditTotalQuantity = ref(0)
const riceBox4EditArbitrarily = ref(0)
const riceBox4EditTotalQuantity = ref(0)
const riceBox5EditArbitrarily = ref(0)
const riceBox5EditTotalQuantity = ref(0)
const riceBox6EditArbitrarily = ref(0)
const riceBox6EditTotalQuantity = ref(0)
const riceBox7EditArbitrarily = ref(0)
const riceBox7EditTotalQuantity = ref(0)
const riceBox8EditArbitrarily = ref(0)
const riceBox8EditTotalQuantity = ref(0)

// 便當

const bangdong1TotalQuantity = ref(0)
const bangdong1Arbitrarily = ref(0)
const bangdong2TotalQuantity = ref(0)
const bangdong2Arbitrarily = ref(0)
const bangdong3TotalQuantity = ref(0)
const bangdong3Arbitrarily = ref(0)
const bangdong4TotalQuantity = ref(0)
const bangdong4Arbitrarily = ref(0)
const bangdong5TotalQuantity = ref(0)
const bangdong5Arbitrarily = ref(0)
const bangdong6TotalQuantity = ref(0)
const bangdong6Arbitrarily = ref(0)
const bangdongSalmonTotalQuantity = ref(0)
const bangdongSalmonArbitrarily = ref(0)
const bangdongVegetarian1Arbitrarily = ref(0)
const bangdongVegetarian1TotalQuantity = ref(0)
const bangdongVegetarian2Arbitrarily = ref(0)
const bangdongVegetarian2TotalQuantity = ref(0)
// ----------------------------------------------------------------
// 刈包便當

const GuabaoBangdong1TotalQuantity = ref(0)
const GuabaoBangdong1Arbitrarily = ref(0)
const GuabaoBangdong2TotalQuantity = ref(0)
const GuabaoBangdong2Arbitrarily = ref(0)
const GuabaoBangdong3TotalQuantity = ref(0)
const GuabaoBangdong3Arbitrarily = ref(0)
const GuabaoBangdong4TotalQuantity = ref(0)
const GuabaoBangdong4Arbitrarily = ref(0)
const GuabaoBangdong5TotalQuantity = ref(0)
const GuabaoBangdong5Arbitrarily = ref(0)
const GuabaoBangdong6TotalQuantity = ref(0)
const GuabaoBangdong6Arbitrarily = ref(0)
const GuabaoBangdongSalmonTotalQuantity = ref(0)
const GuabaoBangdongSalmonArbitrarily = ref(0)
const GuabaoBangdongVegetarian1Arbitrarily = ref(0)
const GuabaoBangdongVegetarian1TotalQuantity = ref(0)
const GuabaoBangdongVegetarian2Arbitrarily = ref(0)
const GuabaoBangdongVegetarian2TotalQuantity = ref(0)
// ----------------------------------------------------------------
const GuabaoBangdong1EditArbitrarily = ref(0)
const GuabaoBangdong1EditTotalQuantity = ref(0)
const GuabaoBangdong2EditArbitrarily = ref(0)
const GuabaoBangdong2EditTotalQuantity = ref(0)
const GuabaoBangdong3EditArbitrarily = ref(0)
const GuabaoBangdong3EditTotalQuantity = ref(0)
const GuabaoBangdong4EditArbitrarily = ref(0)
const GuabaoBangdong4EditTotalQuantity = ref(0)
const GuabaoBangdong5EditArbitrarily = ref(0)
const GuabaoBangdong5EditTotalQuantity = ref(0)
const GuabaoBangdong6EditArbitrarily = ref(0)
const GuabaoBangdong6EditTotalQuantity = ref(0)
const GuabaoBangdongSalmonEditArbitrarily = ref(0)
const GuabaoBangdongSalmonEditTotalQuantity = ref(0)
const GuabaoBangdongVegetarian1EditArbitrarily = ref(0)
const GuabaoBangdongVegetarian1EditTotalQuantity = ref(0)
const GuabaoBangdongVegetarian2EditArbitrarily = ref(0)
const GuabaoBangdongVegetarian2EditTotalQuantity = ref(0)

// 刈包盒餐

const GuabaoLunchbox2Arbitrarily = ref(0)
const GuabaoLunchbox2EditArbitrarily = ref(0)
const GuabaoLunchbox2TotalQuantity = ref(0)
const GuabaoLunchbox3Arbitrarily = ref(0)
const GuabaoLunchbox3EditArbitrarily = ref(0)
const GuabaoLunchbox3TotalQuantity = ref(0)
const GuabaoLunchbox4Arbitrarily = ref(0)
const GuabaoLunchbox4EditArbitrarily = ref(0)
const GuabaoLunchbox4TotalQuantity = ref(0)

const GuabaoLunchbox2EditTotalQuantity = ref(0)
const GuabaoLunchbox3EditTotalQuantity = ref(0)

const GuabaoLunchbox4EditTotalQuantity = ref(0)

// ----------------------------------------------------------------
const bangdong1EditArbitrarily = ref(0)
const bangdong1EditTotalQuantity = ref(0)
const bangdong2EditArbitrarily = ref(0)
const bangdong2EditTotalQuantity = ref(0)
const bangdong3EditArbitrarily = ref(0)
const bangdong3EditTotalQuantity = ref(0)
const bangdong4EditArbitrarily = ref(0)
const bangdong4EditTotalQuantity = ref(0)
const bangdong5EditArbitrarily = ref(0)
const bangdong5EditTotalQuantity = ref(0)
const bangdong6EditArbitrarily = ref(0)
const bangdong6EditTotalQuantity = ref(0)
const bangdongSalmonEditArbitrarily = ref(0)
const bangdongSalmonEditTotalQuantity = ref(0)
const bangdongVegetarian1EditArbitrarily = ref(0)
const bangdongVegetarian1EditTotalQuantity = ref(0)
const bangdongVegetarian2EditArbitrarily = ref(0)
const bangdongVegetarian2EditTotalQuantity = ref(0)
// 盒餐
const lunchBox1Arbitrarily = ref(0)
const lunchBox1EditArbitrarily = ref(0)
const lunchBox1TotalQuantity = ref(0)
const lunchBox2Arbitrarily = ref(0)
const lunchBox2EditArbitrarily = ref(0)
const lunchBox2TotalQuantity = ref(0)
const lunchBox3Arbitrarily = ref(0)
const lunchBox3EditArbitrarily = ref(0)
const lunchBox3TotalQuantity = ref(0)
const lunchBox4Arbitrarily = ref(0)
const lunchBox4EditArbitrarily = ref(0)
const lunchBox4TotalQuantity = ref(0)
const lunchBox214Arbitrarily = ref(0)
const lunchBox214EditArbitrarily = ref(0)
const lunchBox214TotalQuantity = ref(0)

const lunchBox1EditTotalQuantity = ref(0)
const lunchBox2EditTotalQuantity = ref(0)
const lunchBox3EditTotalQuantity = ref(0)

const lunchBox4EditTotalQuantity = ref(0)
const lunchBox214EditTotalQuantity = ref(0)
// 客製便當
const bangdongCustom1EditTotalQuantity = ref(0)
const bangdongCustom1TotalQuantity = ref(0)
const bangdongCustom1Arbitrarily = ref(0)
const bangdongCustom1EditArbitrarily = ref(0)
// 客製盒餐
const lunchBoxCustom1Arbitrarily = ref(0)
const lunchBoxCustom1EditArbitrarily = ref(0)
// 客製油飯
const riceBoxCustom1EditTotalQuantity = ref(0)
const riceBoxCustom1TotalQuantity = ref(0)
const riceBoxCustom1Arbitrarily = ref(0)
const riceBoxCustom1EditArbitrarily = ref(0)
// 客製刈包便當
const guabaoCustom1EditTotalQuantity = ref(0)
const guabaoCustom1TotalQuantity = ref(0)
const guabaoCustom1Arbitrarily = ref(0)
const guabaoCustom1EditArbitrarily = ref(0)
// 客製刈包盒餐
const guabaoCustom2Arbitrarily = ref(0)
const guabaoCustom2EditArbitrarily = ref(0)

// 單點
// const bangdongSoloArbitrarily = ref(0)
// const bangdongSoloEditArbitrarily = ref(0)
/// /////////////// 便當盒餐 /////////////////////
const loading = ref(false)
// 便當盒餐開關
const showbangdong = ref(false)

// 是否已經抓取過招牌便當資料的狀態變數
const isBangdong1Loaded = ref(false)
const isBangdong2Loaded = ref(false)
const isBangdong3Loaded = ref(false)
const isBangdong4Loaded = ref(false)
const isBangdong5Loaded = ref(false)
const isBangdong6Loaded = ref(false)
const isBangdongVegetarian1Loaded = ref(false)
const isBangdongVegetarian2Loaded = ref(false)
const isBangdongSalmonLoaded = ref(false)

const loadbangdongall = () => {
  if (!isBangdong1Loaded.value) {
    loadBangdong1()
    loadBangdong1Edit()
    isBangdong1Loaded.value = true
  }
  if (!isBangdong2Loaded.value) {
    loadBangdong2()
    loadBangdong2Edit()
    isBangdong2Loaded.value = true
  }
  if (!isBangdong3Loaded.value) {
    loadBangdong3()
    loadBangdong3Edit()
    isBangdong3Loaded.value = true
  }
  if (!isBangdong4Loaded.value) {
    loadBangdong4()
    loadBangdong4Edit()
    isBangdong4Loaded.value = true
  }
  if (!isBangdong5Loaded.value) {
    loadBangdong5()
    loadBangdong5Edit()
    isBangdong5Loaded.value = true
  }
  if (!isBangdong6Loaded.value) {
    loadBangdong6()
    loadBangdong6Edit()
    isBangdong6Loaded.value = true
  }
  if (!isBangdongVegetarian1Loaded.value) {
    loadBangdongVegetarian1()
    loadBangdongVegetarian1Edit()
    isBangdongVegetarian1Loaded.value = true
  }
  if (!isBangdongVegetarian2Loaded.value) {
    loadBangdongVegetarian2()
    loadBangdongVegetarian2Edit()
    isBangdongVegetarian2Loaded.value = true
  }
  if (!isBangdongSalmonLoaded.value) {
    loadBangdongSalmon()
    loadBangdongSalmonEdit()
    isBangdongSalmonLoaded.value = true
  }
}

const openbangdong = () => {
  showbangdong.value = true
  loadbangdongall()
  // 其他邏輯...
}
// 刈包系列開關
const showGuabao = ref(false)
const showGuabaoBangdong = ref(false)
const showGuabaoLunchbox = ref(false)

// 是否已經抓取過刈包便當資料的狀態變數
const isGuabaoBangdong1Loaded = ref(false)
const isGuabaoBangdong2Loaded = ref(false)
const isGuabaoBangdong3Loaded = ref(false)
const isGuabaoBangdong4Loaded = ref(false)
const isGuabaoBangdong5Loaded = ref(false)
const isGuabaoBangdong6Loaded = ref(false)
const isGuabaoBangdongVegetarian1Loaded = ref(false)
const isGuabaoBangdongVegetarian2Loaded = ref(false)
const isGuabaoBangdongSalmonLoaded = ref(false)

const loadGuabaoBangdongall = () => {
  if (!isGuabaoBangdong1Loaded.value) {
    loadGuabaoBangdong1()
    loadGuabaoBangdong1Edit()
    isGuabaoBangdong1Loaded.value = true
  }
  if (!isGuabaoBangdong2Loaded.value) {
    loadGuabaoBangdong2()
    loadGuabaoBangdong2Edit()
    isGuabaoBangdong2Loaded.value = true
  }
  if (!isGuabaoBangdong3Loaded.value) {
    loadGuabaoBangdong3()
    loadGuabaoBangdong3Edit()
    isGuabaoBangdong3Loaded.value = true
  }
  if (!isGuabaoBangdong4Loaded.value) {
    loadGuabaoBangdong4()
    loadGuabaoBangdong4Edit()
    isGuabaoBangdong4Loaded.value = true
  }
  if (!isGuabaoBangdong5Loaded.value) {
    loadGuabaoBangdong5()
    loadGuabaoBangdong5Edit()
    isGuabaoBangdong5Loaded.value = true
  }
  if (!isGuabaoBangdong6Loaded.value) {
    loadGuabaoBangdong6()
    loadGuabaoBangdong6Edit()
    isGuabaoBangdong6Loaded.value = true
  }
  if (!isGuabaoBangdongVegetarian1Loaded.value) {
    loadGuabaoBangdongVegetarian1()
    loadGuabaoBangdongVegetarian1Edit()
    isGuabaoBangdongVegetarian1Loaded.value = true
  }
  if (!isGuabaoBangdongVegetarian2Loaded.value) {
    loadGuabaoBangdongVegetarian2()
    loadGuabaoBangdongVegetarian2Edit()
    isGuabaoBangdongVegetarian2Loaded.value = true
  }
  if (!isGuabaoBangdongSalmonLoaded.value) {
    loadGuabaoBangdongSalmon()
    loadGuabaoBangdongSalmonEdit()
    isGuabaoBangdongSalmonLoaded.value = true
  }
}

// 是否已經抓取過資料的狀態變數

const isGuabaoLunchbox2Loaded = ref(false)
const isGuabaoLunchbox3Loaded = ref(false)
const isGuabaoLunchbox4Loaded = ref(false)

const loadGuabaoLunchboxall = () => {
  if (!isGuabaoLunchbox2Loaded.value) {
    loadGuabaoLunchbox2()
    loadGuabaoLunchbox2Edit()
    isGuabaoLunchbox2Loaded.value = true
  }
  if (!isGuabaoLunchbox3Loaded.value) {
    loadGuabaoLunchbox3()
    loadGuabaoLunchbox3Edit()
    isGuabaoLunchbox3Loaded.value = true
  }
  if (!isGuabaoLunchbox4Loaded.value) {
    loadGuabaoLunchbox4()
    loadGuabaoLunchbox4Edit()
    isGuabaoLunchbox4Loaded.value = true
  }
}

// 刈包開啟
const opengGuabao = () => {
  showGuabao.value = true
  loadGuabaoBangdongall()
  loadGuabaoLunchboxall()
}

// 油飯開關

const showRiceBox = ref(false)

// 是否已經抓取過招牌便油飯資料的狀態變數
const isRiceBox1Loaded = ref(false)
const isRiceBox2Loaded = ref(false)
const isRiceBox3Loaded = ref(false)
const isRiceBox4Loaded = ref(false)
const isRiceBox5Loaded = ref(false)
const isRiceBox6Loaded = ref(false)
const isRiceBox7Loaded = ref(false)
const isRiceBox8Loaded = ref(false)

const loadRiceBoxall = () => {
  if (!isRiceBox1Loaded.value) {
    loadRiceBox1()
    loadRiceBox1Edit()
    isRiceBox1Loaded.value = true
  }
  if (!isRiceBox2Loaded.value) {
    loadRiceBox2()
    loadRiceBox2Edit()
    isRiceBox2Loaded.value = true
  }
  if (!isRiceBox3Loaded.value) {
    loadRiceBox3()
    loadRiceBox3Edit()
    isRiceBox3Loaded.value = true
  }
  if (!isRiceBox4Loaded.value) {
    loadRiceBox4()
    loadRiceBox4Edit()
    isRiceBox4Loaded.value = true
  }
  if (!isRiceBox5Loaded.value) {
    loadRiceBox5()
    loadRiceBox5Edit()
    isRiceBox5Loaded.value = true
  }
  if (!isRiceBox6Loaded.value) {
    loadRiceBox6()
    loadRiceBox6Edit()
    isRiceBox6Loaded.value = true
  }
  if (!isRiceBox7Loaded.value) {
    loadRiceBox7()
    loadRiceBox7Edit()
    isRiceBox7Loaded.value = true
  }
  if (!isRiceBox8Loaded.value) {
    loadRiceBox8()
    loadRiceBox8Edit()
    isRiceBox8Loaded.value = true
  }
}

const openRiceBox = () => {
  showRiceBox.value = true
  loadRiceBoxall()
  // 其他邏輯...
}

// ----------------------------------------
// 招牌油飯
const riceBox1Mains = reactive([])
const riceBox1MainName = ref('')
const riceBox1Drinks = reactive([])
const riceBox1DrinkName = ref('')
const riceBox1SideDishes = reactive([])
const riceBox1SideDishName = ref('')
const riceBox1Name = ref('')
const riceBox1Price = ref(0)
const riceBox1ProductId = ref('')
const riceBox1MainMealId = ref('')
const riceBox1DrinkId = ref('')
const riceBox1SideDishId = ref('')
// const editDialog = ref(false)
// 抓取招牌油飯主餐形成 input
const loadRiceBox1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1651')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化

    riceBox1Name.value = response.data.name
    riceBox1MainName.value = mainMeal.name
    riceBox1DrinkName.value = Drink.name
    riceBox1SideDishName.value = sideDish.name
    riceBox1Price.value = parseInt(response.data.price)
    riceBox1ProductId.value = response.data.id
    riceBox1MainMealId.value = mainMeal.id
    riceBox1DrinkId.value = Drink.id
    riceBox1SideDishId.value = sideDish.id
    riceBox1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox1SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })
    riceBox1Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox1SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算任配

watch(riceBox1Mains.value, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity || 0)
  }, 0)
  console.log(newMains)
  riceBox1Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox1TotalQuantity.value || 0) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox1TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox1TotalQuantity.value * riceBox1Price.value
  return totalPrice
})
// 選項總計
const riceBox1optionPrice = computed(() => {
  let totalPrice = 0
  riceBox1Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox1SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
// 全部總計
const riceBox1finalTotal = computed(() => {
  const totalPrice =
  riceBox1optionPrice.value + riceBox1TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox1 = () => {
  if (riceBox1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox1Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox1TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox1TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 15,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox1finalTotal.value,
    optionPrice: riceBox1optionPrice.value,
    totalPrice: riceBox1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox1Comment.value
  }
  row.quantity = riceBox1TotalQuantity.value

  const totalQuantity = riceBox1TotalQuantity.value
  for (const riceBox1Main of riceBox1Mains) {
    if (riceBox1Main.quantity > 0) {
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox1MainMealId.value,
        productTypeName: riceBox1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      row.Main +=
      riceBox1Main.name +
        ' x ' +
        parseInt(riceBox1Main.quantity).toString() +
        '<br>'

      const input = {
        id: riceBox1Main.id,
        name: riceBox1Main.name,
        value: parseInt(riceBox1Main.quantity),
        type: 1
      }

      row.inputs.push(input)
      riceBox1Main.quantity = 0
      riceBox1TotalQuantity.value = 0
    }
  }
  for (const riceBox1Drink of riceBox1Drinks) {
    if (riceBox1Drink.quantity > 0) {
      row.drinks +=
      riceBox1Drink.name +
        '  x  ' +
        parseInt(riceBox1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox1DrinkName.value,
        productTypeId: riceBox1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox1Drink.id,
        name: riceBox1Drink.name,
        value: parseInt(riceBox1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox1Drink.quantity = 0
    }
  }

  for (const riceBox1SideDish of riceBox1SideDishes) {
    if (riceBox1SideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ','
      }
      row.sideDishes +=
      riceBox1SideDish.name +
        'x' +
        parseInt(riceBox1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox1SideDishName.value,
        productTypeId: riceBox1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox1SideDish.is_default + ' '
      const input = {
        id: riceBox1SideDish.id,
        name: riceBox1SideDish.name,
        value: parseInt(riceBox1SideDish.quantity),
        is_default: riceBox1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox1SideDish.quantity = 0
    }
  }
  // 保留 招牌油飯、1001、數量
  const productInput = {
    id: riceBox1ProductId.value,
    name: riceBox1Name.value,
    value: parseInt(totalQuantity),
    price: riceBox1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox1Comment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox1Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox1Arbitrarily.value).toString()
    const input = {
      id: 'riceBox1Arbitrarily',
      value: riceBox1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox1Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showRiceBox1.value = false
  riceBox1Arbitrarily.value = 0
}
const ResetRiceBox1 = () => {
  riceBox1Mains.forEach((riceBox1Main) => {
    riceBox1Main.quantity = 0
  })
  riceBox1Drinks.forEach((riceBox1Drink) => {
    riceBox1Drink.quantity = 0
  })
  riceBox1SideDishes.forEach((riceBox1SideDish) => {
    riceBox1SideDish.quantity = 0
  })
  riceBox1TotalQuantity.value = 0
  riceBox1Arbitrarily.value = 0
  showRiceBox1.value = false
}
// 修改欄位導入
const riceBox1EditMains = reactive([])
const riceBox1EditDrinks = reactive([])
const riceBox1EditSideDishes = reactive([])
const riceBox1EditBentoMains = reactive([])
const loadRiceBox1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1651')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox1EditMain = {
          id: value.id,
          name: value.name,
          shortname: value.short_name,
          quantity: 0,
          hidenquantity: 0
        }
        riceBox1EditMains.push(riceBox1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox1EditDrinks.push(riceBox1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox1EditSideDishes.push(riceBox1EditSideDish)
      }
    }
    // 修改修改欄位配菜跟著變
    riceBox1MainName.value = mainMeal.name
    riceBox1DrinkName.value = Drink.name
    riceBox1SideDishName.value = sideDish.name
    riceBox1Price.value = parseInt(response.data.price)
    riceBox1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 使用 setTimeout 來延遲配菜數量的更新
            // 配菜的數量跟著主餐的數量變化
            riceBox1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })

    riceBox1EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox1EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 雞翅油飯
const riceBox7Mains = reactive([])
const riceBox7MainName = ref('')
const riceBox7Drinks = reactive([])
const riceBox7DrinkName = ref('')
const riceBox7SideDishes = reactive([])
const riceBox7SideDishName = ref('')
const riceBox7Name = ref('')
const riceBox7Price = ref(0)
const riceBox7ProductId = ref('')
const riceBox7MainMealId = ref('')
const riceBox7DrinkId = ref('')
const riceBox7SideDishId = ref('')
// const editDialog = ref(false)
// 抓取雞翅油飯主餐形成 input
const loadRiceBox7 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1659')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox7Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox7Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox7SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化

    riceBox7Name.value = response.data.name
    riceBox7MainName.value = mainMeal.name
    riceBox7DrinkName.value = Drink.name
    riceBox7SideDishName.value = sideDish.name
    riceBox7Price.value = parseInt(response.data.price)
    riceBox7ProductId.value = response.data.id
    riceBox7MainMealId.value = mainMeal.id
    riceBox7DrinkId.value = Drink.id
    riceBox7SideDishId.value = sideDish.id
    riceBox7Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox7SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })
    riceBox7Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox7SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算任配

watch(riceBox7Mains.value, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity || 0)
  }, 0)
  console.log(newMains)
  riceBox7Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox7TotalQuantity.value || 0) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox7TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox7TotalQuantity.value * riceBox7Price.value
  return totalPrice
})
// 選項總計
const riceBox7optionPrice = computed(() => {
  let totalPrice = 0
  riceBox7Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox7SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
// 全部總計
const riceBox7finalTotal = computed(() => {
  const totalPrice =
  riceBox7optionPrice.value + riceBox7TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox7 = () => {
  if (riceBox7TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox7Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox7TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox7TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 22,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox7finalTotal.value,
    optionPrice: riceBox7optionPrice.value,
    totalPrice: riceBox7TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox7Comment.value
  }
  row.quantity = riceBox7TotalQuantity.value

  const totalQuantity = riceBox7TotalQuantity.value
  for (const riceBox7Main of riceBox7Mains) {
    if (riceBox7Main.quantity > 0) {
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox7MainMealId.value,
        productTypeName: riceBox7MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      row.Main +=
      riceBox7Main.name +
        ' x ' +
        parseInt(riceBox7Main.quantity).toString() +
        '<br>'

      const input = {
        id: riceBox7Main.id,
        name: riceBox7Main.name,
        value: parseInt(riceBox7Main.quantity),
        type: 1
      }

      row.inputs.push(input)
      riceBox7Main.quantity = 0
      riceBox7TotalQuantity.value = 0
    }
  }
  for (const riceBox7Drink of riceBox7Drinks) {
    if (riceBox7Drink.quantity > 0) {
      row.drinks +=
      riceBox7Drink.name +
        '  x  ' +
        parseInt(riceBox7Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox7DrinkName.value,
        productTypeId: riceBox7DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox7Drink.id,
        name: riceBox7Drink.name,
        value: parseInt(riceBox7Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox7Drink.quantity = 0
    }
  }

  for (const riceBox7SideDish of riceBox7SideDishes) {
    if (riceBox7SideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ','
      }
      row.sideDishes +=
      riceBox7SideDish.name +
        'x' +
        parseInt(riceBox7SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox7SideDishName.value,
        productTypeId: riceBox7SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox7SideDish.is_default + ' '
      const input = {
        id: riceBox7SideDish.id,
        name: riceBox7SideDish.name,
        value: parseInt(riceBox7SideDish.quantity),
        is_default: riceBox7SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox7SideDish.quantity = 0
    }
  }
  // 保留 雞翅油飯、1659、數量
  const productInput = {
    id: riceBox7ProductId.value,
    name: riceBox7Name.value,
    value: parseInt(totalQuantity),
    price: riceBox7Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox7Comment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox7Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox7Arbitrarily.value).toString()
    const input = {
      id: 'riceBox7Arbitrarily',
      value: riceBox7Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox7Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showRiceBox7.value = false
  riceBox7Arbitrarily.value = 0
}
const ResetRiceBox7 = () => {
  riceBox7Mains.forEach((riceBox7Main) => {
    riceBox7Main.quantity = 0
  })
  riceBox7Drinks.forEach((riceBox7Drink) => {
    riceBox7Drink.quantity = 0
  })
  riceBox7SideDishes.forEach((riceBox7SideDish) => {
    riceBox7SideDish.quantity = 0
  })
  riceBox7TotalQuantity.value = 0
  riceBox7Arbitrarily.value = 0
  showRiceBox7.value = false
}
// 修改欄位導入
const riceBox7EditMains = reactive([])
const riceBox7EditDrinks = reactive([])
const riceBox7EditSideDishes = reactive([])
const riceBox7EditBentoMains = reactive([])
const loadRiceBox7Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1659')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox7EditMain = {
          id: value.id,
          name: value.name,
          shortname: value.short_name,
          quantity: 0,
          hidenquantity: 0
        }
        riceBox7EditMains.push(riceBox7EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox7EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox7EditDrinks.push(riceBox7EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox7EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox7EditSideDishes.push(riceBox7EditSideDish)
      }
    }
    // 修改修改欄位配菜跟著變
    riceBox7MainName.value = mainMeal.name
    riceBox7DrinkName.value = Drink.name
    riceBox7SideDishName.value = sideDish.name
    riceBox7Price.value = parseInt(response.data.price)
    riceBox7EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 使用 setTimeout 來延遲配菜數量的更新
            // 配菜的數量跟著主餐的數量變化
            riceBox7EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })

    riceBox7EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox7EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 雞胸油飯
const riceBox2Mains = reactive([])
const riceBox2MainName = ref('')
const riceBox2Drinks = reactive([])
const riceBox2DrinkName = ref('')
const riceBox2SideDishes = reactive([])
const riceBox2SideDishName = ref('')
const riceBox2BentoMains = reactive([])
const riceBox2BentoMainName = ref('')
const riceBox2Name = ref('')
const riceBox2ProductId = ref('')
const riceBox2MainMealId = ref('')
const riceBox2DrinkId = ref('')
const riceBox2SideDishId = ref('')
const riceBox2BentoMainId = ref('')
const riceBox2Price = ref(0)
// 抓取雞胸油飯主餐形成 input
const loadRiceBox2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1652')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox2Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox2Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // riceBox2BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, riceBox2BentoMainId.value)
      riceBox2BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    riceBox2Name.value = response.data.name
    riceBox2MainName.value = mainMeal.name
    riceBox2DrinkName.value = Drink.name
    riceBox2SideDishName.value = sideDish.name
    riceBox2BentoMainName.value = bentoMain.name
    riceBox2Price.value = parseInt(response.data.price)
    riceBox2ProductId.value = response.data.id
    riceBox2MainMealId.value = mainMeal.id
    riceBox2DrinkId.value = Drink.id
    riceBox2SideDishId.value = sideDish.id
    riceBox2BentoMainId.value = bentoMain.id
    riceBox2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox2SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log('配菜', sideDish)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox2BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            console.log('副主餐', bentoMain)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox2Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox2BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(riceBox2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox2Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox2TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox2TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox2TotalQuantity.value * riceBox2Price.value
  return totalPrice
})
const riceBox2optionPrice = computed(() => {
  let totalPrice = 0
  riceBox2Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const riceBox2finalTotal = computed(() => {
  const totalPrice =
    riceBox2optionPrice.value + riceBox2TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox2 = () => {
  if (riceBox2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox2Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox2TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox2TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 16,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: riceBox2finalTotal.value,
    optionPrice: riceBox2optionPrice.value,
    totalPrice: riceBox2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox2Comment.value
  }
  row.quantity = riceBox2TotalQuantity.value
  const totalQuantity = riceBox2TotalQuantity.value
  // 主餐
  for (const riceBox2Main of riceBox2Mains) {
    if (riceBox2Main.quantity > 0) {
      row.Main +=
        riceBox2Main.name +
        '  x  ' +
        parseInt(riceBox2Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox2MainMealId.value,
        productTypeName: riceBox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox2Main.id,
        name: riceBox2Main.name,
        value: parseInt(riceBox2Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBox2Main.quantity = 0
      riceBox2TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const riceBox2Drink of riceBox2Drinks) {
    if (riceBox2Drink.quantity > 0) {
      row.drinks +=
        riceBox2Drink.name +
        'x' +
        parseInt(riceBox2Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox2DrinkName.value,
        productTypeId: riceBox2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox2Drink.id,
        name: riceBox2Drink.name,
        value: parseInt(riceBox2Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox2Drink.quantity = 0
    }
  }
  // 配菜
  for (const riceBox2SideDish of riceBox2SideDishes) {
    if (riceBox2SideDish.quantity > 0) {
      row.sideDishes +=
        riceBox2SideDish.name +
        'x' +
        parseInt(riceBox2SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox2SideDishName.value,
        productTypeId: riceBox2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox2SideDish.is_default + ' '
      const input = {
        id: riceBox2SideDish.id,
        name: riceBox2SideDish.name,
        value: parseInt(riceBox2SideDish.quantity),
        is_default: riceBox2SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox2SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const riceBox2BentoMain of riceBox2BentoMains) {
    if (riceBox2BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox2BentoMain.name +
        ' x ' +
        parseInt(riceBox2BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBox2BentoMainName.value,
        productTypeId: riceBox2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox2BentoMain.id,
        name: riceBox2BentoMain.name,
        value: parseInt(riceBox2BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBox2BentoMain.quantity = 0
    }
  }
  // 保留 雞胸油飯、1652、數量
  const productInput = {
    id: riceBox2ProductId.value,
    name: riceBox2Name.value,
    value: parseInt(totalQuantity),
    price: riceBox2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox2Arbitrarily.value).toString()
    const input = {
      id: 'riceBox2Arbitrarily',
      value: riceBox2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox2Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showRiceBox2.value = false
  riceBox2Arbitrarily.value = 0
}
// -----------------------------------------
const ResetRiceBox2 = () => {
  riceBox2Mains.forEach((riceBox2Main) => {
    riceBox2Main.quantity = 0
  })
  riceBox2Drinks.forEach((riceBox2Drink) => {
    riceBox2Drink.quantity = 0
  })
  riceBox2SideDishes.forEach((riceBox2SideDish) => {
    riceBox2SideDish.quantity = 0
  })
  riceBox2BentoMains.forEach((riceBox2BentoMain) => {
    riceBox2BentoMain.quantity = 0
  })
  riceBox2TotalQuantity.value = 0
  riceBox2Arbitrarily.value = 0
  showRiceBox2.value = false
}
// 修改欄位
const riceBox2EditMains = reactive([])
const riceBox2EditDrinks = reactive([])
const riceBox2EditSideDishes = reactive([])
const riceBox2EditBentoMains = reactive([])
const loadRiceBox2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1652')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox2EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBox2EditMains.push(riceBox2EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox2EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox2EditDrinks.push(riceBox2EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox2EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox2EditSideDishes.push(riceBox2EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBox2EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBox2EditBentoMains.push(riceBox2EditBentoMain)
    }
    riceBox2MainName.value = mainMeal.name
    riceBox2DrinkName.value = Drink.name
    riceBox2SideDishName.value = sideDish.name
    riceBox2BentoMainName.value = bentoMain.name
    riceBox2Price.value = parseInt(response.data.price)
    riceBox2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox2EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox2EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox2EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox2EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}
// 雞腿油飯
const riceBox3Mains = reactive([])
const riceBox3MainName = ref('')
const riceBox3Drinks = reactive([])
const riceBox3DrinkName = ref('')
const riceBox3SideDishes = reactive([])
const riceBox3SideDishName = ref('')
const riceBox3BentoMains = reactive([])
const riceBox3BentoMainName = ref('')
const riceBox3Name = ref('')
const riceBox3ProductId = ref('')
const riceBox3MainMealId = ref('')
const riceBox3DrinkId = ref('')
const riceBox3SideDishId = ref('')
const riceBox3BentoMainId = ref('')
const riceBox3Price = ref(0)
// 抓取雞腿油飯主餐形成 input
const loadRiceBox3 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1653')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox3Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox3Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox3SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // riceBox3BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, riceBox3BentoMainId.value)
      riceBox3BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    riceBox3Name.value = response.data.name
    riceBox3MainName.value = mainMeal.name
    riceBox3DrinkName.value = Drink.name
    riceBox3SideDishName.value = sideDish.name
    riceBox3BentoMainName.value = bentoMain.name
    riceBox3Price.value = parseInt(response.data.price)
    riceBox3ProductId.value = response.data.id
    riceBox3MainMealId.value = mainMeal.id
    riceBox3DrinkId.value = Drink.id
    riceBox3SideDishId.value = sideDish.id
    riceBox3BentoMainId.value = bentoMain.id
    riceBox3Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox3SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox3BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox3Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox3SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox3BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(riceBox3Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox3Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox3TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox3TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox3TotalQuantity.value * riceBox3Price.value
  return totalPrice
})
const riceBox3optionPrice = computed(() => {
  let totalPrice = 0
  riceBox3Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox3SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const riceBox3finalTotal = computed(() => {
  const totalPrice =
    riceBox3optionPrice.value + riceBox3TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox3 = () => {
  if (riceBox3TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox3Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox3TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox3TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 17,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: riceBox3finalTotal.value,
    optionPrice: riceBox3optionPrice.value,
    totalPrice: riceBox3TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox3Comment.value
  }
  row.quantity = riceBox3TotalQuantity.value
  const totalQuantity = riceBox3TotalQuantity.value
  // 主餐
  for (const riceBox3Main of riceBox3Mains) {
    if (riceBox3Main.quantity > 0) {
      row.Main +=
        riceBox3Main.name +
        '  x  ' +
        parseInt(riceBox3Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox3MainMealId.value,
        productTypeName: riceBox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox3Main.id,
        name: riceBox3Main.name,
        value: parseInt(riceBox3Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBox3Main.quantity = 0
      riceBox3TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const riceBox3Drink of riceBox3Drinks) {
    if (riceBox3Drink.quantity > 0) {
      row.drinks +=
        riceBox3Drink.name +
        'x' +
        parseInt(riceBox3Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox3DrinkName.value,
        productTypeId: riceBox3DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox3Drink.id,
        name: riceBox3Drink.name,
        value: parseInt(riceBox3Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox3Drink.quantity = 0
    }
  }
  // 配菜
  for (const riceBox3SideDish of riceBox3SideDishes) {
    if (riceBox3SideDish.quantity > 0) {
      row.sideDishes +=
        riceBox3SideDish.name +
        'x' +
        parseInt(riceBox3SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox3SideDishName.value,
        productTypeId: riceBox3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox3SideDish.is_default + ' '
      const input = {
        id: riceBox3SideDish.id,
        name: riceBox3SideDish.name,
        value: parseInt(riceBox3SideDish.quantity),
        is_default: riceBox3SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox3SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const riceBox3BentoMain of riceBox3BentoMains) {
    if (riceBox3BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox3BentoMain.name +
        ' x ' +
        parseInt(riceBox3BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBox3BentoMainName.value,
        productTypeId: riceBox3BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox3BentoMain.id,
        name: riceBox3BentoMain.name,
        value: parseInt(riceBox3BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBox3BentoMain.quantity = 0
    }
  }
  // 保留 雞腿油飯、1653、數量
  const productInput = {
    id: riceBox3ProductId.value,
    name: riceBox3Name.value,
    value: parseInt(totalQuantity),
    price: riceBox3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox3Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox3Arbitrarily.value).toString()
    const input = {
      id: 'riceBox3Arbitrarily',
      value: riceBox3Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox3Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showRiceBox3.value = false
  riceBox3Arbitrarily.value = 0
}
// -----------------------------------------
const ResetRiceBox3 = () => {
  riceBox3Mains.forEach((riceBox3Main) => {
    riceBox3Main.quantity = 0
  })
  riceBox3Drinks.forEach((riceBox3Drink) => {
    riceBox3Drink.quantity = 0
  })
  riceBox3SideDishes.forEach((riceBox3SideDish) => {
    riceBox3SideDish.quantity = 0
  })
  riceBox3BentoMains.forEach((riceBox3BentoMain) => {
    riceBox3BentoMain.quantity = 0
  })
  riceBox3TotalQuantity.value = 0
  riceBox3Arbitrarily.value = 0
  showRiceBox3.value = false
}
// 修改欄位
const riceBox3EditMains = reactive([])
const riceBox3EditDrinks = reactive([])
const riceBox3EditSideDishes = reactive([])
const riceBox3EditBentoMains = reactive([])
const loadRiceBox3Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1653')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox3EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBox3EditMains.push(riceBox3EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox3EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox3EditDrinks.push(riceBox3EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox3EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox3EditSideDishes.push(riceBox3EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBox3EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBox3EditBentoMains.push(riceBox3EditBentoMain)
    }
    riceBox3MainName.value = mainMeal.name
    riceBox3DrinkName.value = Drink.name
    riceBox3SideDishName.value = sideDish.name
    riceBox3BentoMainName.value = bentoMain.name
    riceBox3Price.value = parseInt(response.data.price)
    riceBox3EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox3EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox3EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox3EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox3EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox3EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 控肉油飯
const riceBox8Mains = reactive([])
const riceBox8MainName = ref('')
const riceBox8Drinks = reactive([])
const riceBox8DrinkName = ref('')
const riceBox8SideDishes = reactive([])
const riceBox8SideDishName = ref('')
const riceBox8BentoMains = reactive([])
const riceBox8BentoMainName = ref('')
const riceBox8Name = ref('')
const riceBox8ProductId = ref('')
const riceBox8MainMealId = ref('')
const riceBox8DrinkId = ref('')
const riceBox8SideDishId = ref('')
const riceBox8BentoMainId = ref('')
const riceBox8Price = ref(0)
// 抓取控肉油飯主餐形成 input
const loadRiceBox8 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1696')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox8Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox8Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox8SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // riceBox8BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, riceBox8BentoMainId.value)
      riceBox8BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    riceBox8Name.value = response.data.name
    riceBox8MainName.value = mainMeal.name
    riceBox8DrinkName.value = Drink.name
    riceBox8SideDishName.value = sideDish.name
    riceBox8BentoMainName.value = bentoMain.name
    riceBox8Price.value = parseInt(response.data.price)
    riceBox8ProductId.value = response.data.id
    riceBox8MainMealId.value = mainMeal.id
    riceBox8DrinkId.value = Drink.id
    riceBox8SideDishId.value = sideDish.id
    riceBox8BentoMainId.value = bentoMain.id
    riceBox8Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox8SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox8BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox8Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox8SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox8BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(riceBox8Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox8Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox8TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox8TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox8TotalQuantity.value * riceBox8Price.value
  return totalPrice
})
const riceBox8optionPrice = computed(() => {
  let totalPrice = 0
  riceBox8Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox8SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const riceBox8finalTotal = computed(() => {
  const totalPrice =
    riceBox8optionPrice.value + riceBox8TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox8 = () => {
  if (riceBox8TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox8Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox8TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox8TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 36,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: riceBox8finalTotal.value,
    optionPrice: riceBox8optionPrice.value,
    totalPrice: riceBox8TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox8Comment.value
  }
  row.quantity = riceBox8TotalQuantity.value
  const totalQuantity = riceBox8TotalQuantity.value
  // 主餐
  for (const riceBox8Main of riceBox8Mains) {
    if (riceBox8Main.quantity > 0) {
      row.Main +=
        riceBox8Main.name +
        '  x  ' +
        parseInt(riceBox8Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox8MainMealId.value,
        productTypeName: riceBox8MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox8Main.id,
        name: riceBox8Main.name,
        value: parseInt(riceBox8Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBox8Main.quantity = 0
      riceBox8TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const riceBox8Drink of riceBox8Drinks) {
    if (riceBox8Drink.quantity > 0) {
      row.drinks +=
        riceBox8Drink.name +
        'x' +
        parseInt(riceBox8Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox8DrinkName.value,
        productTypeId: riceBox8DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox8Drink.id,
        name: riceBox8Drink.name,
        value: parseInt(riceBox8Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox8Drink.quantity = 0
    }
  }
  // 配菜
  for (const riceBox8SideDish of riceBox8SideDishes) {
    if (riceBox8SideDish.quantity > 0) {
      row.sideDishes +=
        riceBox8SideDish.name +
        'x' +
        parseInt(riceBox8SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox8SideDishName.value,
        productTypeId: riceBox8SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox8SideDish.is_default + ' '
      const input = {
        id: riceBox8SideDish.id,
        name: riceBox8SideDish.name,
        value: parseInt(riceBox8SideDish.quantity),
        is_default: riceBox8SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox8SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const riceBox8BentoMain of riceBox8BentoMains) {
    if (riceBox8BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox8BentoMain.name +
        ' x ' +
        parseInt(riceBox8BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBox8BentoMainName.value,
        productTypeId: riceBox8BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox8BentoMain.id,
        name: riceBox8BentoMain.name,
        value: parseInt(riceBox8BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBox8BentoMain.quantity = 0
    }
  }
  // 保留 控肉油飯、1696、數量
  const productInput = {
    id: riceBox8ProductId.value,
    name: riceBox8Name.value,
    value: parseInt(totalQuantity),
    price: riceBox8Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox8Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox8Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox8Arbitrarily.value).toString()
    const input = {
      id: 'riceBox8Arbitrarily',
      value: riceBox8Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox8Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showRiceBox8.value = false
  riceBox8Arbitrarily.value = 0
}
// -----------------------------------------
const ResetRiceBox8 = () => {
  riceBox8Mains.forEach((riceBox8Main) => {
    riceBox8Main.quantity = 0
  })
  riceBox8Drinks.forEach((riceBox8Drink) => {
    riceBox8Drink.quantity = 0
  })
  riceBox8SideDishes.forEach((riceBox8SideDish) => {
    riceBox8SideDish.quantity = 0
  })
  riceBox8BentoMains.forEach((riceBox8BentoMain) => {
    riceBox8BentoMain.quantity = 0
  })
  riceBox8TotalQuantity.value = 0
  riceBox8Arbitrarily.value = 0
  showRiceBox8.value = false
}
// 修改欄位
const riceBox8EditMains = reactive([])
const riceBox8EditDrinks = reactive([])
const riceBox8EditSideDishes = reactive([])
const riceBox8EditBentoMains = reactive([])
const loadRiceBox8Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1696')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox8EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBox8EditMains.push(riceBox8EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox8EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox8EditDrinks.push(riceBox8EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox8EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox8EditSideDishes.push(riceBox8EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBox8EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBox8EditBentoMains.push(riceBox8EditBentoMain)
    }
    riceBox8MainName.value = mainMeal.name
    riceBox8DrinkName.value = Drink.name
    riceBox8SideDishName.value = sideDish.name
    riceBox8BentoMainName.value = bentoMain.name
    riceBox8Price.value = parseInt(response.data.price)
    riceBox8EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox8EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox8EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox8EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox8EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox8EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 滷牛油飯
const riceBox4Mains = reactive([])
const riceBox4MainName = ref('')
const riceBox4Drinks = reactive([])
const riceBox4DrinkName = ref('')
const riceBox4SideDishes = reactive([])
const riceBox4SideDishName = ref('')
const riceBox4BentoMains = reactive([])
const riceBox4BentoMainName = ref('')
const riceBox4Name = ref('')
const riceBox4ProductId = ref('')
const riceBox4MainMealId = ref('')
const riceBox4DrinkId = ref('')
const riceBox4SideDishId = ref('')
const riceBox4BentoMainId = ref('')
const riceBox4Price = ref(0)
// 抓取滷牛油飯主餐形成 input
const loadRiceBox4 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1654')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox4Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox4Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox4SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // riceBox4BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, riceBox4BentoMainId.value)
      riceBox4BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    riceBox4Name.value = response.data.name
    riceBox4MainName.value = mainMeal.name
    riceBox4DrinkName.value = Drink.name
    riceBox4SideDishName.value = sideDish.name
    riceBox4BentoMainName.value = bentoMain.name
    riceBox4Price.value = parseInt(response.data.price)
    riceBox4ProductId.value = response.data.id
    riceBox4MainMealId.value = mainMeal.id
    riceBox4DrinkId.value = Drink.id
    riceBox4SideDishId.value = sideDish.id
    riceBox4BentoMainId.value = bentoMain.id
    riceBox4Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox4SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox4BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox4Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox4SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox4BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(riceBox4Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox4Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox4TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox4TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox4TotalQuantity.value * riceBox4Price.value
  return totalPrice
})
const riceBox4optionPrice = computed(() => {
  let totalPrice = 0
  riceBox4Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox4SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const riceBox4finalTotal = computed(() => {
  const totalPrice =
    riceBox4optionPrice.value + riceBox4TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox4 = () => {
  if (riceBox4TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox4Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox4TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox4TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 18,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: riceBox4finalTotal.value,
    optionPrice: riceBox4optionPrice.value,
    totalPrice: riceBox4TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox4Comment.value
  }
  row.quantity = riceBox4TotalQuantity.value
  const totalQuantity = riceBox4TotalQuantity.value
  // 主餐
  for (const riceBox4Main of riceBox4Mains) {
    if (riceBox4Main.quantity > 0) {
      row.Main +=
        riceBox4Main.name +
        '  x  ' +
        parseInt(riceBox4Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox4MainMealId.value,
        productTypeName: riceBox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox4Main.id,
        name: riceBox4Main.name,
        value: parseInt(riceBox4Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBox4Main.quantity = 0
      riceBox4TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const riceBox4Drink of riceBox4Drinks) {
    if (riceBox4Drink.quantity > 0) {
      row.drinks +=
        riceBox4Drink.name +
        'x' +
        parseInt(riceBox4Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox4DrinkName.value,
        productTypeId: riceBox4DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox4Drink.id,
        name: riceBox4Drink.name,
        value: parseInt(riceBox4Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox4Drink.quantity = 0
    }
  }
  // 配菜
  for (const riceBox4SideDish of riceBox4SideDishes) {
    if (riceBox4SideDish.quantity > 0) {
      row.sideDishes +=
        riceBox4SideDish.name +
        'x' +
        parseInt(riceBox4SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox4SideDishName.value,
        productTypeId: riceBox4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox4SideDish.is_default + ' '
      const input = {
        id: riceBox4SideDish.id,
        name: riceBox4SideDish.name,
        value: parseInt(riceBox4SideDish.quantity),
        is_default: riceBox4SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox4SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const riceBox4BentoMain of riceBox4BentoMains) {
    if (riceBox4BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox4BentoMain.name +
        ' x ' +
        parseInt(riceBox4BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBox4BentoMainName.value,
        productTypeId: riceBox4BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox4BentoMain.id,
        name: riceBox4BentoMain.name,
        value: parseInt(riceBox4BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBox4BentoMain.quantity = 0
    }
  }
  // 保留 滷牛油飯、1654、數量
  const productInput = {
    id: riceBox4ProductId.value,
    name: riceBox4Name.value,
    value: parseInt(totalQuantity),
    price: riceBox4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox4Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox4Arbitrarily.value).toString()
    const input = {
      id: 'riceBox4Arbitrarily',
      value: riceBox4Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox4Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showRiceBox4.value = false
  riceBox4Arbitrarily.value = 0
}
// -----------------------------------------
const ResetRiceBox4 = () => {
  riceBox4Mains.forEach((riceBox4Main) => {
    riceBox4Main.quantity = 0
  })
  riceBox4Drinks.forEach((riceBox4Drink) => {
    riceBox4Drink.quantity = 0
  })
  riceBox4SideDishes.forEach((riceBox4SideDish) => {
    riceBox4SideDish.quantity = 0
  })
  riceBox4BentoMains.forEach((riceBox4BentoMain) => {
    riceBox4BentoMain.quantity = 0
  })
  riceBox4TotalQuantity.value = 0
  riceBox4Arbitrarily.value = 0
  showRiceBox4.value = false
}
// 修改欄位
const riceBox4EditMains = reactive([])
const riceBox4EditDrinks = reactive([])
const riceBox4EditSideDishes = reactive([])
const riceBox4EditBentoMains = reactive([])
const loadRiceBox4Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1654')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox4EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBox4EditMains.push(riceBox4EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox4EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox4EditDrinks.push(riceBox4EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox4EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox4EditSideDishes.push(riceBox4EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBox4EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBox4EditBentoMains.push(riceBox4EditBentoMain)
    }
    riceBox4MainName.value = mainMeal.name
    riceBox4DrinkName.value = Drink.name
    riceBox4SideDishName.value = sideDish.name
    riceBox4BentoMainName.value = bentoMain.name
    riceBox4Price.value = parseInt(response.data.price)
    riceBox4EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox4EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox4EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox4EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox4EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox4EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 鮭魚油飯
const riceBox5Mains = reactive([])
const riceBox5MainName = ref('')
const riceBox5Drinks = reactive([])
const riceBox5DrinkName = ref('')
const riceBox5SideDishes = reactive([])
const riceBox5SideDishName = ref('')
const riceBox5BentoMains = reactive([])
const riceBox5BentoMainName = ref('')
const riceBox5Name = ref('')
const riceBox5ProductId = ref('')
const riceBox5MainMealId = ref('')
const riceBox5DrinkId = ref('')
const riceBox5SideDishId = ref('')
const riceBox5BentoMainId = ref('')
const riceBox5Price = ref(0)
// 抓取鮭魚油飯主餐形成 input
const loadRiceBox5 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1655')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox5Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox5Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox5SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // riceBox5BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, riceBox5BentoMainId.value)
      riceBox5BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    riceBox5Name.value = response.data.name
    riceBox5MainName.value = mainMeal.name
    riceBox5DrinkName.value = Drink.name
    riceBox5SideDishName.value = sideDish.name
    riceBox5BentoMainName.value = bentoMain.name
    riceBox5Price.value = parseInt(response.data.price)
    riceBox5ProductId.value = response.data.id
    riceBox5MainMealId.value = mainMeal.id
    riceBox5DrinkId.value = Drink.id
    riceBox5SideDishId.value = sideDish.id
    riceBox5BentoMainId.value = bentoMain.id
    riceBox5Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox5SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox5BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox5Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox5SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox5BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(riceBox5Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox5Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox5TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox5TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox5TotalQuantity.value * riceBox5Price.value
  return totalPrice
})
const riceBox5optionPrice = computed(() => {
  let totalPrice = 0
  riceBox5Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox5SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const riceBox5finalTotal = computed(() => {
  const totalPrice =
    riceBox5optionPrice.value + riceBox5TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox5 = () => {
  if (riceBox5TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox5Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox5TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox5TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 19,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: riceBox5finalTotal.value,
    optionPrice: riceBox5optionPrice.value,
    totalPrice: riceBox5TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox5Comment.value
  }
  row.quantity = riceBox5TotalQuantity.value
  const totalQuantity = riceBox5TotalQuantity.value
  // 主餐
  for (const riceBox5Main of riceBox5Mains) {
    if (riceBox5Main.quantity > 0) {
      row.Main +=
        riceBox5Main.name +
        '  x  ' +
        parseInt(riceBox5Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox5MainMealId.value,
        productTypeName: riceBox5MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox5Main.id,
        name: riceBox5Main.name,
        value: parseInt(riceBox5Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBox5Main.quantity = 0
      riceBox5TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const riceBox5Drink of riceBox5Drinks) {
    if (riceBox5Drink.quantity > 0) {
      row.drinks +=
        riceBox5Drink.name +
        'x' +
        parseInt(riceBox5Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox5DrinkName.value,
        productTypeId: riceBox5DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox5Drink.id,
        name: riceBox5Drink.name,
        value: parseInt(riceBox5Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox5Drink.quantity = 0
    }
  }
  // 配菜
  for (const riceBox5SideDish of riceBox5SideDishes) {
    if (riceBox5SideDish.quantity > 0) {
      row.sideDishes +=
        riceBox5SideDish.name +
        'x' +
        parseInt(riceBox5SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox5SideDishName.value,
        productTypeId: riceBox5SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox5SideDish.is_default + ' '
      const input = {
        id: riceBox5SideDish.id,
        name: riceBox5SideDish.name,
        value: parseInt(riceBox5SideDish.quantity),
        is_default: riceBox5SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox5SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const riceBox5BentoMain of riceBox5BentoMains) {
    if (riceBox5BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox5BentoMain.name +
        ' x ' +
        parseInt(riceBox5BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBox5BentoMainName.value,
        productTypeId: riceBox5BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox5BentoMain.id,
        name: riceBox5BentoMain.name,
        value: parseInt(riceBox5BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBox5BentoMain.quantity = 0
    }
  }
  // 保留 鮭魚油飯、1655、數量
  const productInput = {
    id: riceBox5ProductId.value,
    name: riceBox5Name.value,
    value: parseInt(totalQuantity),
    price: riceBox5Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox5Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox5Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox5Arbitrarily.value).toString()
    const input = {
      id: 'riceBox5Arbitrarily',
      value: riceBox5Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox5Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showRiceBox5.value = false
  riceBox5Arbitrarily.value = 0
}
// -----------------------------------------
const ResetRiceBox5 = () => {
  riceBox5Mains.forEach((riceBox5Main) => {
    riceBox5Main.quantity = 0
  })
  riceBox5Drinks.forEach((riceBox5Drink) => {
    riceBox5Drink.quantity = 0
  })
  riceBox5SideDishes.forEach((riceBox5SideDish) => {
    riceBox5SideDish.quantity = 0
  })
  riceBox5BentoMains.forEach((riceBox5BentoMain) => {
    riceBox5BentoMain.quantity = 0
  })
  riceBox5TotalQuantity.value = 0
  riceBox5Arbitrarily.value = 0
  showRiceBox5.value = false
}
// 修改欄位
const riceBox5EditMains = reactive([])
const riceBox5EditDrinks = reactive([])
const riceBox5EditSideDishes = reactive([])
const riceBox5EditBentoMains = reactive([])
const loadRiceBox5Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1655')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox5EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBox5EditMains.push(riceBox5EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox5EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox5EditDrinks.push(riceBox5EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox5EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox5EditSideDishes.push(riceBox5EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBox5EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBox5EditBentoMains.push(riceBox5EditBentoMain)
    }
    riceBox5MainName.value = mainMeal.name
    riceBox5DrinkName.value = Drink.name
    riceBox5SideDishName.value = sideDish.name
    riceBox5BentoMainName.value = bentoMain.name
    riceBox5Price.value = parseInt(response.data.price)
    riceBox5EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox5EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox5EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox5EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox5EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox5EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 牛肉丸油飯
const riceBox6Mains = reactive([])
const riceBox6MainName = ref('')
const riceBox6Drinks = reactive([])
const riceBox6DrinkName = ref('')
const riceBox6SideDishes = reactive([])
const riceBox6SideDishName = ref('')
const riceBox6BentoMains = reactive([])
const riceBox6BentoMainName = ref('')
const riceBox6Name = ref('')
const riceBox6ProductId = ref('')
const riceBox6MainMealId = ref('')
const riceBox6DrinkId = ref('')
const riceBox6SideDishId = ref('')
const riceBox6BentoMainId = ref('')
const riceBox6Price = ref(0)
// 抓取牛肉丸油飯主餐形成 input
const loadRiceBox6 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1656')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBox6Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBox6Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBox6SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // riceBox6BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, riceBox6BentoMainId.value)
      riceBox6BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    riceBox6Name.value = response.data.name
    riceBox6MainName.value = mainMeal.name
    riceBox6DrinkName.value = Drink.name
    riceBox6SideDishName.value = sideDish.name
    riceBox6BentoMainName.value = bentoMain.name
    riceBox6Price.value = parseInt(response.data.price)
    riceBox6ProductId.value = response.data.id
    riceBox6MainMealId.value = mainMeal.id
    riceBox6DrinkId.value = Drink.id
    riceBox6SideDishId.value = sideDish.id
    riceBox6BentoMainId.value = bentoMain.id
    riceBox6Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox6SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox6BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox6Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox6SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox6BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(riceBox6Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox6Arbitrarily.value = Math.max(
    0,
    parseInt(riceBox6TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const riceBox6TotalQuantityPrice = computed(() => {
  const totalPrice = riceBox6TotalQuantity.value * riceBox6Price.value
  return totalPrice
})
const riceBox6optionPrice = computed(() => {
  let totalPrice = 0
  riceBox6Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox6SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const riceBox6finalTotal = computed(() => {
  const totalPrice =
    riceBox6optionPrice.value + riceBox6TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitRiceBox6 = () => {
  if (riceBox6TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox6Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox6TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(riceBox6TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 20,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: riceBox6finalTotal.value,
    optionPrice: riceBox6optionPrice.value,
    totalPrice: riceBox6TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox6Comment.value
  }
  row.quantity = riceBox6TotalQuantity.value
  const totalQuantity = riceBox6TotalQuantity.value
  // 主餐
  for (const riceBox6Main of riceBox6Mains) {
    if (riceBox6Main.quantity > 0) {
      row.Main +=
        riceBox6Main.name +
        '  x  ' +
        parseInt(riceBox6Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox6MainMealId.value,
        productTypeName: riceBox6MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox6Main.id,
        name: riceBox6Main.name,
        value: parseInt(riceBox6Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBox6Main.quantity = 0
      riceBox6TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const riceBox6Drink of riceBox6Drinks) {
    if (riceBox6Drink.quantity > 0) {
      row.drinks +=
        riceBox6Drink.name +
        'x' +
        parseInt(riceBox6Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox6DrinkName.value,
        productTypeId: riceBox6DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox6Drink.id,
        name: riceBox6Drink.name,
        value: parseInt(riceBox6Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBox6Drink.quantity = 0
    }
  }
  // 配菜
  for (const riceBox6SideDish of riceBox6SideDishes) {
    if (riceBox6SideDish.quantity > 0) {
      row.sideDishes +=
        riceBox6SideDish.name +
        'x' +
        parseInt(riceBox6SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox6SideDishName.value,
        productTypeId: riceBox6SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox6SideDish.is_default + ' '
      const input = {
        id: riceBox6SideDish.id,
        name: riceBox6SideDish.name,
        value: parseInt(riceBox6SideDish.quantity),
        is_default: riceBox6SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBox6SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const riceBox6BentoMain of riceBox6BentoMains) {
    if (riceBox6BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox6BentoMain.name +
        ' x ' +
        parseInt(riceBox6BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBox6BentoMainName.value,
        productTypeId: riceBox6BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBox6BentoMain.id,
        name: riceBox6BentoMain.name,
        value: parseInt(riceBox6BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBox6BentoMain.quantity = 0
    }
  }
  // 保留 牛肉丸油飯、1656、數量
  const productInput = {
    id: riceBox6ProductId.value,
    name: riceBox6Name.value,
    value: parseInt(totalQuantity),
    price: riceBox6Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox6Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox6Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox6Arbitrarily.value).toString()
    const input = {
      id: 'riceBox6Arbitrarily',
      value: riceBox6Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox6Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showRiceBox6.value = false
  riceBox6Arbitrarily.value = 0
}
// -----------------------------------------
const ResetRiceBox6 = () => {
  riceBox6Mains.forEach((riceBox6Main) => {
    riceBox6Main.quantity = 0
  })
  riceBox6Drinks.forEach((riceBox6Drink) => {
    riceBox6Drink.quantity = 0
  })
  riceBox6SideDishes.forEach((riceBox6SideDish) => {
    riceBox6SideDish.quantity = 0
  })
  riceBox6BentoMains.forEach((riceBox6BentoMain) => {
    riceBox6BentoMain.quantity = 0
  })
  riceBox6TotalQuantity.value = 0
  riceBox6Arbitrarily.value = 0
  showRiceBox6.value = false
}
// 修改欄位
const riceBox6EditMains = reactive([])
const riceBox6EditDrinks = reactive([])
const riceBox6EditSideDishes = reactive([])
const riceBox6EditBentoMains = reactive([])
const loadRiceBox6Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1656')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBox6EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBox6EditMains.push(riceBox6EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBox6EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      riceBox6EditDrinks.push(riceBox6EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBox6EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        riceBox6EditSideDishes.push(riceBox6EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBox6EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBox6EditBentoMains.push(riceBox6EditBentoMain)
    }
    riceBox6MainName.value = mainMeal.name
    riceBox6DrinkName.value = Drink.name
    riceBox6SideDishName.value = sideDish.name
    riceBox6BentoMainName.value = bentoMain.name
    riceBox6Price.value = parseInt(response.data.price)
    riceBox6EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            riceBox6EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          riceBox6EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    riceBox6EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox6EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBox6EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// ---------------------------------------------------------------------

// 刈包便當
const GuabaoBangdong1Mains = reactive([])
const GuabaoBangdong1MainName = ref('')
const GuabaoBangdong1Drinks = reactive([])
const GuabaoBangdong1DrinkName = ref('')
const GuabaoBangdong1SideDishes = reactive([])
const GuabaoBangdong1SideDishName = ref('')
const GuabaoBangdong1Name = ref('')
const GuabaoBangdong1Price = ref(0)
const GuabaoBangdong1ProductId = ref('')
const GuabaoBangdong1MainMealId = ref('')
const GuabaoBangdong1DrinkId = ref('')
const GuabaoBangdong1SideDishId = ref('')
// const editDialog24 = ref(false)
// 抓取u41l 便當主餐形成 input
const loadGuabaoBangdong1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1670')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdong1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdong1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdong1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化

    GuabaoBangdong1Name.value = response.data.name
    GuabaoBangdong1MainName.value = mainMeal.name
    GuabaoBangdong1DrinkName.value = Drink.name
    GuabaoBangdong1SideDishName.value = sideDish.name
    GuabaoBangdong1Price.value = parseInt(response.data.price)
    GuabaoBangdong1ProductId.value = response.data.id
    GuabaoBangdong1MainMealId.value = mainMeal.id
    GuabaoBangdong1DrinkId.value = Drink.id
    GuabaoBangdong1SideDishId.value = sideDish.id
    GuabaoBangdong1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong1SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })
    GuabaoBangdong1Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong1SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算任配

watch(GuabaoBangdong1Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity || 0)
  }, 0)
  console.log(newMains)
  GuabaoBangdong1Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong1TotalQuantity.value || 0) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdong1TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoBangdong1TotalQuantity.value * GuabaoBangdong1Price.value
  return totalPrice
})
// 選項總計
const GuabaoBangdong1optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong1Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong1SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
// 全部總計
const GuabaoBangdong1finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong1optionPrice.value + GuabaoBangdong1TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdong1 = () => {
  if (GuabaoBangdong1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong1Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong1TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(GuabaoBangdong1TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 24,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong1finalTotal.value,
    optionPrice: GuabaoBangdong1optionPrice.value,
    totalPrice: GuabaoBangdong1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong1Comment.value
  }
  row.quantity = GuabaoBangdong1TotalQuantity.value

  const totalQuantity = GuabaoBangdong1TotalQuantity.value
  for (const GuabaoBangdong1Main of GuabaoBangdong1Mains) {
    if (GuabaoBangdong1Main.quantity > 0) {
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong1MainMealId.value,
        productTypeName: GuabaoBangdong1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      row.Main +=
        GuabaoBangdong1Main.name +
        ' x ' +
        parseInt(GuabaoBangdong1Main.quantity).toString() +
        '<br>'

      const input = {
        id: GuabaoBangdong1Main.id,
        name: GuabaoBangdong1Main.name,
        value: parseInt(GuabaoBangdong1Main.quantity),
        type: 1
      }

      row.inputs.push(input)
      GuabaoBangdong1Main.quantity = 0
      GuabaoBangdong1TotalQuantity.value = 0
    }
  }
  for (const GuabaoBangdong1Drink of GuabaoBangdong1Drinks) {
    if (GuabaoBangdong1Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong1Drink.name +
        '  x  ' +
        parseInt(GuabaoBangdong1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong1DrinkName.value,
        productTypeId: GuabaoBangdong1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong1Drink.id,
        name: GuabaoBangdong1Drink.name,
        value: parseInt(GuabaoBangdong1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdong1Drink.quantity = 0
    }
  }

  for (const GuabaoBangdong1SideDish of GuabaoBangdong1SideDishes) {
    if (GuabaoBangdong1SideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ','
      }
      row.sideDishes +=
        GuabaoBangdong1SideDish.name +
        'x' +
        parseInt(GuabaoBangdong1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong1SideDishName.value,
        productTypeId: GuabaoBangdong1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong1SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong1SideDish.id,
        name: GuabaoBangdong1SideDish.name,
        value: parseInt(GuabaoBangdong1SideDish.quantity),
        is_default: GuabaoBangdong1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdong1SideDish.quantity = 0
    }
  }
  // 保留 刈包便當、1001、數量
  const productInput = {
    id: GuabaoBangdong1ProductId.value,
    name: GuabaoBangdong1Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdong1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong1Comment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong1Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong1Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong1Arbitrarily',
      value: GuabaoBangdong1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong1Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showGuabaoBangdong1.value = false
  GuabaoBangdong1Arbitrarily.value = 0
}
const ResetGuabaoBangdong1 = () => {
  GuabaoBangdong1Mains.forEach((GuabaoBangdong1Main) => {
    GuabaoBangdong1Main.quantity = 0
  })
  GuabaoBangdong1Drinks.forEach((GuabaoBangdong1Drink) => {
    GuabaoBangdong1Drink.quantity = 0
  })
  GuabaoBangdong1SideDishes.forEach((GuabaoBangdong1SideDish) => {
    GuabaoBangdong1SideDish.quantity = 0
  })
  GuabaoBangdong1TotalQuantity.value = 0
  GuabaoBangdong1Arbitrarily.value = 0
  showGuabaoBangdong1.value = false
}
// 修改欄位導入
const GuabaoBangdong1EditMains = reactive([])
const GuabaoBangdong1EditDrinks = reactive([])
const GuabaoBangdong1EditSideDishes = reactive([])
const GuabaoBangdong1EditBentoMains = reactive([])
const loadGuabaoBangdong1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1670')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdong1EditMain = {
          id: value.id,
          name: value.name,
          shortname: value.short_name,
          quantity: 0,
          hidenquantity: 0
        }
        GuabaoBangdong1EditMains.push(GuabaoBangdong1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdong1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdong1EditDrinks.push(GuabaoBangdong1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdong1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdong1EditSideDishes.push(GuabaoBangdong1EditSideDish)
      }
    }
    // 修改修改欄位配菜跟著變
    GuabaoBangdong1MainName.value = mainMeal.name
    GuabaoBangdong1DrinkName.value = Drink.name
    GuabaoBangdong1SideDishName.value = sideDish.name
    GuabaoBangdong1Price.value = parseInt(response.data.price)
    GuabaoBangdong1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 使用 setTimeout 來延遲配菜數量的更新
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })

    GuabaoBangdong1EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong1EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 素刈包便當
const GuabaoBangdong6Mains = reactive([])
const GuabaoBangdong6MainName = ref('')
const GuabaoBangdong6Drinks = reactive([])
const GuabaoBangdong6DrinkName = ref('')
const GuabaoBangdong6SideDishes = reactive([])
const GuabaoBangdong6SideDishName = ref('')
const GuabaoBangdong6Name = ref('')
const GuabaoBangdong6Price = ref(0)
const GuabaoBangdong6ProductId = ref('')
const GuabaoBangdong6MainMealId = ref('')
const GuabaoBangdong6DrinkId = ref('')
const GuabaoBangdong6SideDishId = ref('')
// const editDialog = ref(false)
// 抓取素刈包便當主餐形成 input
const loadGuabaoBangdong6 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1685')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdong6Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdong6Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdong6SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化

    GuabaoBangdong6Name.value = response.data.name
    GuabaoBangdong6MainName.value = mainMeal.name
    GuabaoBangdong6DrinkName.value = Drink.name
    GuabaoBangdong6SideDishName.value = sideDish.name
    GuabaoBangdong6Price.value = parseInt(response.data.price)
    GuabaoBangdong6ProductId.value = response.data.id
    GuabaoBangdong6MainMealId.value = mainMeal.id
    GuabaoBangdong6DrinkId.value = Drink.id
    GuabaoBangdong6SideDishId.value = sideDish.id
    GuabaoBangdong6Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong6SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })
    GuabaoBangdong6Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong6SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算任配

watch(GuabaoBangdong6Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity || 0)
  }, 0)
  console.log(newMains)
  GuabaoBangdong6Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong6TotalQuantity.value || 0) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdong6TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoBangdong6TotalQuantity.value * GuabaoBangdong6Price.value
  return totalPrice
})
// 選項總計
const GuabaoBangdong6optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong6Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong6SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
// 全部總計
const GuabaoBangdong6finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong6optionPrice.value + GuabaoBangdong6TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdong6 = () => {
  if (GuabaoBangdong6TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong6Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong6TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(GuabaoBangdong6TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 25,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong6finalTotal.value,
    optionPrice: GuabaoBangdong6optionPrice.value,
    totalPrice: GuabaoBangdong6TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong6Comment.value
  }
  row.quantity = GuabaoBangdong6TotalQuantity.value

  const totalQuantity = GuabaoBangdong6TotalQuantity.value
  for (const GuabaoBangdong6Main of GuabaoBangdong6Mains) {
    if (GuabaoBangdong6Main.quantity > 0) {
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong6MainMealId.value,
        productTypeName: GuabaoBangdong6MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      row.Main +=
        GuabaoBangdong6Main.name +
        ' x ' +
        parseInt(GuabaoBangdong6Main.quantity).toString() +
        '<br>'

      const input = {
        id: GuabaoBangdong6Main.id,
        name: GuabaoBangdong6Main.name,
        value: parseInt(GuabaoBangdong6Main.quantity),
        type: 1
      }

      row.inputs.push(input)
      GuabaoBangdong6Main.quantity = 0
      GuabaoBangdong6TotalQuantity.value = 0
    }
  }
  for (const GuabaoBangdong6Drink of GuabaoBangdong6Drinks) {
    if (GuabaoBangdong6Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong6Drink.name +
        '  x  ' +
        parseInt(GuabaoBangdong6Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong6DrinkName.value,
        productTypeId: GuabaoBangdong6DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong6Drink.id,
        name: GuabaoBangdong6Drink.name,
        value: parseInt(GuabaoBangdong6Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdong6Drink.quantity = 0
    }
  }

  for (const GuabaoBangdong6SideDish of GuabaoBangdong6SideDishes) {
    if (GuabaoBangdong6SideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ','
      }
      row.sideDishes +=
        GuabaoBangdong6SideDish.name +
        'x' +
        parseInt(GuabaoBangdong6SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong6SideDishName.value,
        productTypeId: GuabaoBangdong6SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong6SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong6SideDish.id,
        name: GuabaoBangdong6SideDish.name,
        value: parseInt(GuabaoBangdong6SideDish.quantity),
        is_default: GuabaoBangdong6SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdong6SideDish.quantity = 0
    }
  }
  // 保留 素刈包便當、1658、數量
  const productInput = {
    id: GuabaoBangdong6ProductId.value,
    name: GuabaoBangdong6Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdong6Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong6Comment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong6Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong6Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong6Arbitrarily',
      value: GuabaoBangdong6Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong6Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showGuabaoBangdong6.value = false
  GuabaoBangdong6Arbitrarily.value = 0
}
const ResetGuabaoBangdong6 = () => {
  GuabaoBangdong6Mains.forEach((GuabaoBangdong6Main) => {
    GuabaoBangdong6Main.quantity = 0
  })
  GuabaoBangdong6Drinks.forEach((GuabaoBangdong6Drink) => {
    GuabaoBangdong6Drink.quantity = 0
  })
  GuabaoBangdong6SideDishes.forEach((GuabaoBangdong6SideDish) => {
    GuabaoBangdong6SideDish.quantity = 0
  })
  GuabaoBangdong6TotalQuantity.value = 0
  GuabaoBangdong6Arbitrarily.value = 0
  showGuabaoBangdong6.value = false
}
// 修改欄位導入
const GuabaoBangdong6EditMains = reactive([])
const GuabaoBangdong6EditDrinks = reactive([])
const GuabaoBangdong6EditSideDishes = reactive([])
const GuabaoBangdong6EditBentoMains = reactive([])
const loadGuabaoBangdong6Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1685')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdong6EditMain = {
          id: value.id,
          name: value.name,
          shortname: value.short_name,
          quantity: 0,
          hidenquantity: 0
        }
        GuabaoBangdong6EditMains.push(GuabaoBangdong6EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdong6EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdong6EditDrinks.push(GuabaoBangdong6EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdong6EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdong6EditSideDishes.push(GuabaoBangdong6EditSideDish)
      }
    }
    // 修改修改欄位配菜跟著變
    GuabaoBangdong6MainName.value = mainMeal.name
    GuabaoBangdong6DrinkName.value = Drink.name
    GuabaoBangdong6SideDishName.value = sideDish.name
    GuabaoBangdong6Price.value = parseInt(response.data.price)
    GuabaoBangdong6EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 使用 setTimeout 來延遲配菜數量的更新
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong6EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })

    GuabaoBangdong6EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong6EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 雞胸刈包便當
const GuabaoBangdong2Mains = reactive([])
const GuabaoBangdong2MainName = ref('')
const GuabaoBangdong2Drinks = reactive([])
const GuabaoBangdong2DrinkName = ref('')
const GuabaoBangdong2SideDishes = reactive([])
const GuabaoBangdong2SideDishName = ref('')
const GuabaoBangdong2BentoMains = reactive([])
const GuabaoBangdong2BentoMainName = ref('')
const GuabaoBangdong2Name = ref('')
const GuabaoBangdong2ProductId = ref('')
const GuabaoBangdong2MainMealId = ref('')
const GuabaoBangdong2DrinkId = ref('')
const GuabaoBangdong2SideDishId = ref('')
const GuabaoBangdong2BentoMainId = ref('')
const GuabaoBangdong2Price = ref(0)
// 抓取雞胸便當主餐形成 input
const loadGuabaoBangdong2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1671')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdong2Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdong2Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdong2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // GuabaoBangdong2BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, GuabaoBangdong2BentoMainId.value)
      GuabaoBangdong2BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    GuabaoBangdong2Name.value = response.data.name
    GuabaoBangdong2MainName.value = mainMeal.name
    GuabaoBangdong2DrinkName.value = Drink.name
    GuabaoBangdong2SideDishName.value = sideDish.name
    GuabaoBangdong2BentoMainName.value = bentoMain.name
    GuabaoBangdong2Price.value = parseInt(response.data.price)
    GuabaoBangdong2ProductId.value = response.data.id
    GuabaoBangdong2MainMealId.value = mainMeal.id
    GuabaoBangdong2DrinkId.value = Drink.id
    GuabaoBangdong2SideDishId.value = sideDish.id
    GuabaoBangdong2BentoMainId.value = bentoMain.id
    GuabaoBangdong2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong2SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong2BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong2Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong2BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoBangdong2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong2Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong2TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdong2TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoBangdong2TotalQuantity.value * GuabaoBangdong2Price.value
  return totalPrice
})
const GuabaoBangdong2optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong2Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdong2finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong2optionPrice.value + GuabaoBangdong2TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdong2 = () => {
  if (GuabaoBangdong2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong2Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong2TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(GuabaoBangdong2TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 26,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: GuabaoBangdong2finalTotal.value,
    optionPrice: GuabaoBangdong2optionPrice.value,
    totalPrice: GuabaoBangdong2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong2Comment.value
  }
  row.quantity = GuabaoBangdong2TotalQuantity.value
  const totalQuantity = GuabaoBangdong2TotalQuantity.value
  // 主餐
  for (const GuabaoBangdong2Main of GuabaoBangdong2Mains) {
    if (GuabaoBangdong2Main.quantity > 0) {
      row.Main +=
        GuabaoBangdong2Main.name +
        '  x  ' +
        parseInt(GuabaoBangdong2Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong2MainMealId.value,
        productTypeName: GuabaoBangdong2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong2Main.id,
        name: GuabaoBangdong2Main.name,
        value: parseInt(GuabaoBangdong2Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdong2Main.quantity = 0
      GuabaoBangdong2TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdong2Drink of GuabaoBangdong2Drinks) {
    if (GuabaoBangdong2Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong2Drink.name +
        'x' +
        parseInt(GuabaoBangdong2Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong2DrinkName.value,
        productTypeId: GuabaoBangdong2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong2Drink.id,
        name: GuabaoBangdong2Drink.name,
        value: parseInt(GuabaoBangdong2Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdong2Drink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdong2SideDish of GuabaoBangdong2SideDishes) {
    if (GuabaoBangdong2SideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong2SideDish.name +
        'x' +
        parseInt(GuabaoBangdong2SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong2SideDishName.value,
        productTypeId: GuabaoBangdong2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong2SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong2SideDish.id,
        name: GuabaoBangdong2SideDish.name,
        value: parseInt(GuabaoBangdong2SideDish.quantity),
        is_default: GuabaoBangdong2SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdong2SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdong2BentoMain of GuabaoBangdong2BentoMains) {
    if (GuabaoBangdong2BentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong2BentoMain.name +
        ' x ' +
        parseInt(GuabaoBangdong2BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdong2BentoMainName.value,
        productTypeId: GuabaoBangdong2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong2BentoMain.id,
        name: GuabaoBangdong2BentoMain.name,
        value: parseInt(GuabaoBangdong2BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdong2BentoMain.quantity = 0
    }
  }
  // 保留 雞胸便當、1002、數量
  const productInput = {
    id: GuabaoBangdong2ProductId.value,
    name: GuabaoBangdong2Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdong2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong2Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong2Arbitrarily',
      value: GuabaoBangdong2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong2Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showGuabaoBangdong2.value = false
  GuabaoBangdong2Arbitrarily.value = 0
}
// -----------------------------------------
const ResetGuabaoBangdong2 = () => {
  GuabaoBangdong2Mains.forEach((GuabaoBangdong2Main) => {
    GuabaoBangdong2Main.quantity = 0
  })
  GuabaoBangdong2Drinks.forEach((GuabaoBangdong2Drink) => {
    GuabaoBangdong2Drink.quantity = 0
  })
  GuabaoBangdong2SideDishes.forEach((GuabaoBangdong2SideDish) => {
    GuabaoBangdong2SideDish.quantity = 0
  })
  GuabaoBangdong2BentoMains.forEach((GuabaoBangdong2BentoMain) => {
    GuabaoBangdong2BentoMain.quantity = 0
  })
  GuabaoBangdong2TotalQuantity.value = 0
  GuabaoBangdong2Arbitrarily.value = 0
  showGuabaoBangdong2.value = false
}
// 修改欄位
const GuabaoBangdong2EditMains = reactive([])
const GuabaoBangdong2EditDrinks = reactive([])
const GuabaoBangdong2EditSideDishes = reactive([])
const GuabaoBangdong2EditBentoMains = reactive([])
const loadGuabaoBangdong2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1671')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdong2EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdong2EditMains.push(GuabaoBangdong2EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdong2EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdong2EditDrinks.push(GuabaoBangdong2EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdong2EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdong2EditSideDishes.push(GuabaoBangdong2EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdong2EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdong2EditBentoMains.push(GuabaoBangdong2EditBentoMain)
    }
    GuabaoBangdong2MainName.value = mainMeal.name
    GuabaoBangdong2DrinkName.value = Drink.name
    GuabaoBangdong2SideDishName.value = sideDish.name
    GuabaoBangdong2BentoMainName.value = bentoMain.name
    GuabaoBangdong2Price.value = parseInt(response.data.price)
    GuabaoBangdong2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong2EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong2EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong2EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong2EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 雞腿刈包便當
const GuabaoBangdong3Mains = reactive([])
const GuabaoBangdong3MainName = ref('')
const GuabaoBangdong3Drinks = reactive([])
const GuabaoBangdong3DrinkName = ref('')
const GuabaoBangdong3SideDishes = reactive([])
const GuabaoBangdong3SideDishName = ref('')
const GuabaoBangdong3BentoMains = reactive([])
const GuabaoBangdong3BentoMainName = ref('')
const GuabaoBangdong3Name = ref('')
const GuabaoBangdong3Price = ref('')
const GuabaoBangdong3ProductId = ref('')
const GuabaoBangdong3MainMealId = ref('')
const GuabaoBangdong3DrinkId = ref('')
const GuabaoBangdong3SideDishId = ref('')
const GuabaoBangdong3BentoMainId = ref('')
// 抓取雞腿便當主餐形成 input
const loadGuabaoBangdong3 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1674')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdong3Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdong3Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdong3SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      GuabaoBangdong3BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    GuabaoBangdong3Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong3SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong3BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong3Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong3SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong3BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong3Name.value = response.data.name
    GuabaoBangdong3MainName.value = mainMeal.name
    GuabaoBangdong3DrinkName.value = Drink.name
    GuabaoBangdong3SideDishName.value = sideDish.name
    GuabaoBangdong3BentoMainName.value = bentoMain.name
    GuabaoBangdong3Price.value = parseInt(response.data.price)
    GuabaoBangdong3ProductId.value = response.data.id
    GuabaoBangdong3MainMealId.value = mainMeal.id
    GuabaoBangdong3DrinkId.value = Drink.id
    GuabaoBangdong3SideDishId.value = sideDish.id
    GuabaoBangdong3BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoBangdong3Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong3Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong3TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdong3TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoBangdong3TotalQuantity.value * GuabaoBangdong3Price.value
  return totalPrice
})
const GuabaoBangdong3optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong3Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong3SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdong3finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong3optionPrice.value + GuabaoBangdong3TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdong3 = () => {
  if (GuabaoBangdong3TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong3Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong3TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(GuabaoBangdong3TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 27,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong3finalTotal.value,
    optionPrice: GuabaoBangdong3optionPrice.value,
    totalPrice: GuabaoBangdong3TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong3Comment.value
  }

  const totalQuantity = GuabaoBangdong3TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const GuabaoBangdong3Main of GuabaoBangdong3Mains) {
    if (GuabaoBangdong3Main.quantity > 0) {
      row.Main +=
        GuabaoBangdong3Main.name +
        '  x  ' +
        parseInt(GuabaoBangdong3Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong3MainMealId.value,
        productTypeName: GuabaoBangdong3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong3Main.id,
        name: GuabaoBangdong3Main.name,
        value: parseInt(GuabaoBangdong3Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdong3Main.quantity = 0
      GuabaoBangdong3TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdong3Drink of GuabaoBangdong3Drinks) {
    if (GuabaoBangdong3Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong3Drink.name +
        'x' +
        parseInt(GuabaoBangdong3Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong3DrinkName.value,
        productTypeId: GuabaoBangdong3DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong3Drink.id,
        name: GuabaoBangdong3Drink.name,
        value: parseInt(GuabaoBangdong3Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdong3Drink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdong3SideDish of GuabaoBangdong3SideDishes) {
    if (GuabaoBangdong3SideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong3SideDish.name +
        '  x  ' +
        parseInt(GuabaoBangdong3SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong3SideDishName.value,
        productTypeId: GuabaoBangdong3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong3SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong3SideDish.id,
        name: GuabaoBangdong3SideDish.name,
        value: parseInt(GuabaoBangdong3SideDish.quantity),
        is_default: GuabaoBangdong3SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdong3SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdong3BentoMain of GuabaoBangdong3BentoMains) {
    if (GuabaoBangdong3BentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong3BentoMain.name +
        'x' +
        parseInt(GuabaoBangdong3BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdong3BentoMainName.value,
        productTypeId: GuabaoBangdong3BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong3BentoMain.id,
        name: GuabaoBangdong3BentoMain.name,
        value: parseInt(GuabaoBangdong3BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdong3BentoMain.quantity = 0
    }
  }
  // 保留 雞腿便當、1003、數量
  const productInput = {
    id: GuabaoBangdong3ProductId.value,
    name: GuabaoBangdong3Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdong3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong3Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong3Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong3Arbitrarily',
      value: GuabaoBangdong3Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong3Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  meal.tableRows2.push(row)
  showGuabaoBangdong3.value = false
  GuabaoBangdong3Arbitrarily.value = 0
}
// --------------------------------------------
const ResetGuabaoBangdong3 = () => {
  GuabaoBangdong3Mains.forEach((GuabaoBangdong3Main) => {
    GuabaoBangdong3Main.quantity = 0
  })
  GuabaoBangdong3Drinks.forEach((GuabaoBangdong3Drink) => {
    GuabaoBangdong3Drink.quantity = 0
  })
  GuabaoBangdong3SideDishes.forEach((GuabaoBangdong3SideDish) => {
    GuabaoBangdong3SideDish.quantity = 0
  })
  GuabaoBangdong3BentoMains.forEach((GuabaoBangdong3BentoMain) => {
    GuabaoBangdong3BentoMain.quantity = 0
  })
  GuabaoBangdong3TotalQuantity.value = 0
  GuabaoBangdong3Arbitrarily.value = 0
  showGuabaoBangdong3.value = false
}
// 修改欄位
const GuabaoBangdong3EditMains = reactive([])
const GuabaoBangdong3EditDrinks = reactive([])
const GuabaoBangdong3EditSideDishes = reactive([])
const GuabaoBangdong3EditBentoMains = reactive([])
const loadGuabaoBangdong3Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1674')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdong3EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdong3EditMains.push(GuabaoBangdong3EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdong3EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdong3EditDrinks.push(GuabaoBangdong3EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdong3EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdong3EditSideDishes.push(GuabaoBangdong3EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdong3EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdong3EditBentoMains.push(GuabaoBangdong3EditBentoMain)
    }
    GuabaoBangdong3MainName.value = mainMeal.name
    GuabaoBangdong3DrinkName.value = Drink.name
    GuabaoBangdong3SideDishName.value = sideDish.name
    GuabaoBangdong3BentoMainName.value = bentoMain.name
    GuabaoBangdong3Price.value = parseInt(response.data.price)
    GuabaoBangdong3EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong3EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong3EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong3EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong3EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong3EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 滷牛刈包便當
const GuabaoBangdong4Mains = reactive([])
const GuabaoBangdong4MainName = ref('')
const GuabaoBangdong4Drinks = reactive([])
const GuabaoBangdong4DrinkName = ref('')
const GuabaoBangdong4SideDishes = reactive([])
const GuabaoBangdong4SideDishName = ref('')
const GuabaoBangdong4BentoMains = reactive([])
const GuabaoBangdong4BentoMainName = ref('')
const GuabaoBangdong4Name = ref('')
const GuabaoBangdong4ProductId = ref('')
const GuabaoBangdong4Price = ref(0)
const GuabaoBangdong4MainMealId = ref('')
const GuabaoBangdong4DrinkId = ref('')
const GuabaoBangdong4SideDishId = ref('')
const GuabaoBangdong4BentoMainId = ref('')
// 抓取滷牛便當主餐形成 input
const loadGuabaoBangdong4 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1673')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values
    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdong4Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      GuabaoBangdong4Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdong4SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      GuabaoBangdong4BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    GuabaoBangdong4Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong4SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong4BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong4Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong4SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong4BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })

    GuabaoBangdong4Name.value = response.data.name
    GuabaoBangdong4MainName.value = mainMeal.name
    GuabaoBangdong4DrinkName.value = Drink.name
    GuabaoBangdong4SideDishName.value = sideDish.name
    GuabaoBangdong4BentoMainName.value = bentoMain.name
    GuabaoBangdong4Price.value = parseInt(response.data.price)
    GuabaoBangdong4ProductId.value = response.data.id
    GuabaoBangdong4MainMealId.value = mainMeal.id
    GuabaoBangdong4DrinkId.value = Drink.id
    GuabaoBangdong4SideDishId.value = sideDish.id
    GuabaoBangdong4BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoBangdong4Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong4Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong4TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdong4TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoBangdong4TotalQuantity.value * GuabaoBangdong4Price.value
  return totalPrice
})
const GuabaoBangdong4optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong4Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong4SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdong4finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong4optionPrice.value + GuabaoBangdong4TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdong4 = () => {
  if (GuabaoBangdong4TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong4Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong4TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(GuabaoBangdong4TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 28,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong4finalTotal.value,
    optionPrice: GuabaoBangdong4optionPrice.value,
    totalPrice: GuabaoBangdong4TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong4Comment.value
  }

  const totalQuantity = GuabaoBangdong4TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const GuabaoBangdong4Main of GuabaoBangdong4Mains) {
    if (GuabaoBangdong4Main.quantity > 0) {
      if (row.Main !== '') {
        row.Main += ''
      }
      row.Main +=
        GuabaoBangdong4Main.name +
        'x' +
        parseInt(GuabaoBangdong4Main.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: GuabaoBangdong4MainMealId.value,
        productTypeName: GuabaoBangdong4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong4Main.id,
        name: GuabaoBangdong4Main.name,
        value: parseInt(GuabaoBangdong4Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdong4Main.quantity = 0
      GuabaoBangdong4TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdong4Drink of GuabaoBangdong4Drinks) {
    if (GuabaoBangdong4Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong4Drink.name +
        'x' +
        parseInt(GuabaoBangdong4Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong4DrinkName.value,
        productTypeId: GuabaoBangdong4DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong4Drink.id,
        name: GuabaoBangdong4Drink.name,
        value: parseInt(GuabaoBangdong4Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdong4Drink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdong4SideDish of GuabaoBangdong4SideDishes) {
    if (GuabaoBangdong4SideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong4SideDish.name +
        'x' +
        parseInt(GuabaoBangdong4SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong4SideDishName.value,
        productTypeId: GuabaoBangdong4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong4SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong4SideDish.id,
        name: GuabaoBangdong4SideDish.name,
        value: parseInt(GuabaoBangdong4SideDish.quantity),
        is_default: GuabaoBangdong4SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdong4SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdong4BentoMain of GuabaoBangdong4BentoMains) {
    if (GuabaoBangdong4BentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong4BentoMain.name +
        'x' +
        parseInt(GuabaoBangdong4BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdong4BentoMainName.value,
        productTypeId: GuabaoBangdong4BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong4BentoMain.id,
        name: GuabaoBangdong4BentoMain.name,
        value: parseInt(GuabaoBangdong4BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdong4BentoMain.quantity = 0
    }
  }
  const productInput = {
    id: GuabaoBangdong4ProductId.value,
    name: GuabaoBangdong4Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdong4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong4Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong4Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong4Arbitrarily',
      value: GuabaoBangdong4Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong4Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showGuabaoBangdong4.value = false
  GuabaoBangdong4Arbitrarily.value = 0
}
// -----------------------------------------
const ResetGuabaoBangdong4 = () => {
  GuabaoBangdong4Mains.forEach((GuabaoBangdong4Main) => {
    GuabaoBangdong4Main.quantity = 0
  })
  GuabaoBangdong4Drinks.forEach((GuabaoBangdong4Drink) => {
    GuabaoBangdong4Drink.quantity = 0
  })
  GuabaoBangdong4SideDishes.forEach((GuabaoBangdong4SideDish) => {
    GuabaoBangdong4SideDish.quantity = 0
  })
  GuabaoBangdong4BentoMains.forEach((GuabaoBangdong4BentoMain) => {
    GuabaoBangdong4BentoMain.quantity = 0
  })
  GuabaoBangdong4TotalQuantity.value = 0
  GuabaoBangdong4Arbitrarily.value = 0
  showGuabaoBangdong4.value = false
}
// 修改欄位
const GuabaoBangdong4EditMains = reactive([])
const GuabaoBangdong4EditDrinks = reactive([])
const GuabaoBangdong4EditSideDishes = reactive([])
const GuabaoBangdong4EditBentoMains = reactive([])
const loadGuabaoBangdong4Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1673')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdong4EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdong4EditMains.push(GuabaoBangdong4EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdong4EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdong4EditDrinks.push(GuabaoBangdong4EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdong4EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdong4EditSideDishes.push(GuabaoBangdong4EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdong4EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdong4EditBentoMains.push(GuabaoBangdong4EditBentoMain)
    }

    GuabaoBangdong4MainName.value = mainMeal.name
    GuabaoBangdong4DrinkName.value = Drink.name
    GuabaoBangdong4SideDishName.value = sideDish.name
    GuabaoBangdong4BentoMainName.value = bentoMain.name
    GuabaoBangdong4Price.value = parseInt(response.data.price)
    GuabaoBangdong4EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong4EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong4EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong4EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong4EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong4EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 鮭魚便當

const GuabaoBangdongSalmonMains = reactive([])
const GuabaoBangdongSalmonMainName = ref('')
const GuabaoBangdongSalmonDrinks = reactive([])
const GuabaoBangdongSalmonDrinkName = ref('')
const GuabaoBangdongSalmonSideDishes = reactive([])
const GuabaoBangdongSalmonSideDishName = ref('')
const GuabaoBangdongSalmonBentoMains = reactive([])
const GuabaoBangdongSalmonBentoMainName = ref('')
const GuabaoBangdongSalmonName = ref('')
const GuabaoBangdongSalmonProductId = ref('')
const GuabaoBangdongSalmonPrice = ref(0)
const GuabaoBangdongSalmonMainMealId = ref('')
const GuabaoBangdongSalmonDrinkId = ref('')
const GuabaoBangdongSalmonSideDishId = ref('')
const GuabaoBangdongSalmonBentoMainId = ref('')
const loadGuabaoBangdongSalmon = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1675')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values
    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdongSalmonMains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      GuabaoBangdongSalmonDrinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdongSalmonSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      GuabaoBangdongSalmonBentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    GuabaoBangdongSalmonMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdongSalmonSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdongSalmonBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdongSalmonDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongSalmonSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongSalmonBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })

    GuabaoBangdongSalmonName.value = response.data.name
    GuabaoBangdongSalmonMainName.value = mainMeal.name
    GuabaoBangdongSalmonDrinkName.value = Drink.name
    GuabaoBangdongSalmonSideDishName.value = sideDish.name
    GuabaoBangdongSalmonBentoMainName.value = bentoMain.name
    GuabaoBangdongSalmonPrice.value = parseInt(response.data.price)
    GuabaoBangdongSalmonProductId.value = response.data.id
    GuabaoBangdongSalmonMainMealId.value = mainMeal.id
    GuabaoBangdongSalmonDrinkId.value = Drink.id
    GuabaoBangdongSalmonSideDishId.value = sideDish.id
    GuabaoBangdongSalmonBentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}
watch(GuabaoBangdongSalmonMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdongSalmonArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdongSalmonTotalQuantity.value) - mainQuantityTotal
  )
})
const GuabaoBangdongSalmonTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdongSalmonTotalQuantity.value * GuabaoBangdongSalmonPrice.value

  return totalPrice
})
const GuabaoBangdongSalmonoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdongSalmonDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdongSalmonSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdongSalmonfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdongSalmonoptionPrice.value + GuabaoBangdongSalmonTotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdongSalmon = () => {
  if (GuabaoBangdongSalmonTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdongSalmonMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdongSalmonTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdongSalmonTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 29,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdongSalmonfinalTotal.value,
    optionPrice: GuabaoBangdongSalmonoptionPrice.value,
    totalPrice: GuabaoBangdongSalmonTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdongSalmonComment.value
  }

  const totalQuantity = GuabaoBangdongSalmonTotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const GuabaoBangdongSalmonMain of GuabaoBangdongSalmonMains) {
    if (GuabaoBangdongSalmonMain.quantity > 0) {
      row.Main +=
        GuabaoBangdongSalmonMain.name +
        'x' +
        parseInt(GuabaoBangdongSalmonMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: GuabaoBangdongSalmonMainMealId.value,
        productTypeName: GuabaoBangdongSalmonMainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdongSalmonMain.id,
        name: GuabaoBangdongSalmonMain.name,
        value: parseInt(GuabaoBangdongSalmonMain.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdongSalmonMain.quantity = 0
      GuabaoBangdongSalmonTotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdongSalmonDrink of GuabaoBangdongSalmonDrinks) {
    if (GuabaoBangdongSalmonDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdongSalmonDrink.name +
        'x' +
        parseInt(GuabaoBangdongSalmonDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdongSalmonDrinkName.value,
        productTypeId: GuabaoBangdongSalmonDrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongSalmonDrink.id,
        name: GuabaoBangdongSalmonDrink.name,
        value: parseInt(GuabaoBangdongSalmonDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdongSalmonDrink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdongSalmonSideDish of GuabaoBangdongSalmonSideDishes) {
    if (GuabaoBangdongSalmonSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdongSalmonSideDish.name +
        'x' +
        parseInt(GuabaoBangdongSalmonSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdongSalmonSideDishName.value,
        productTypeId: GuabaoBangdongSalmonSideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdongSalmonSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdongSalmonSideDish.id,
        name: GuabaoBangdongSalmonSideDish.name,
        value: parseInt(GuabaoBangdongSalmonSideDish.quantity),
        is_default: GuabaoBangdongSalmonSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdongSalmonSideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdongSalmonBentoMain of GuabaoBangdongSalmonBentoMains) {
    if (GuabaoBangdongSalmonBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdongSalmonBentoMain.name +
        'x' +
        parseInt(GuabaoBangdongSalmonBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdongSalmonBentoMainName.value,
        productTypeId: GuabaoBangdongSalmonBentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdongSalmonBentoMain.id,
        name: GuabaoBangdongSalmonBentoMain.name,
        value: parseInt(GuabaoBangdongSalmonBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdongSalmonBentoMain.quantity = 0
    }
  }
  const productInput = {
    id: GuabaoBangdongSalmonProductId.value,
    name: GuabaoBangdongSalmonName.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdongSalmonPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdongSalmonComment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdongSalmonArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdongSalmonArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdongSalmonArbitrarily',
      value: GuabaoBangdongSalmonArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdongSalmonName.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showGuabaoBangdongSalmon.value = false
  GuabaoBangdongSalmonArbitrarily.value = 0
}
// 修改欄位

const GuabaoBangdongSalmonEditMains = reactive([])
const GuabaoBangdongSalmonEditDrinks = reactive([])
const GuabaoBangdongSalmonEditSideDishes = reactive([])
const GuabaoBangdongSalmonEditBentoMains = reactive([])
const loadGuabaoBangdongSalmonEdit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1675')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdongSalmonEditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdongSalmonEditMains.push(GuabaoBangdongSalmonEditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdongSalmonEditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdongSalmonEditDrinks.push(GuabaoBangdongSalmonEditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdongSalmonEditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdongSalmonEditSideDishes.push(GuabaoBangdongSalmonEditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdongSalmonEditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdongSalmonEditBentoMains.push(GuabaoBangdongSalmonEditBentoMain)
    }

    GuabaoBangdongSalmonMainName.value = mainMeal.name
    GuabaoBangdongSalmonDrinkName.value = Drink.name
    GuabaoBangdongSalmonSideDishName.value = sideDish.name
    GuabaoBangdongSalmonBentoMainName.value = bentoMain.name
    GuabaoBangdongSalmonPrice.value = parseInt(response.data.price)
    GuabaoBangdongSalmonEditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdongSalmonEditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdongSalmonEditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdongSalmonEditDrinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongSalmonEditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongSalmonEditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 牛肉丸刈包便當
const GuabaoBangdong5Mains = reactive([])
const GuabaoBangdong5MainName = ref('')
const GuabaoBangdong5Drinks = reactive([])
const GuabaoBangdong5DrinkName = ref('')
const GuabaoBangdong5SideDishes = reactive([])
const GuabaoBangdong5SideDishName = ref('')
const GuabaoBangdong5BentoMains = reactive([])
const GuabaoBangdong5BentoMainName = ref('')
const GuabaoBangdong5Name = ref('')
const GuabaoBangdong5ProductId = ref('')
const GuabaoBangdong5MainMealId = ref('')
const GuabaoBangdong5DrinkId = ref('')
const GuabaoBangdong5SideDishId = ref('')
const GuabaoBangdong5BentoMainId = ref('')
const GuabaoBangdong5Price = ref(0)
// 抓取牛肉丸便當主餐形成 input
const loadGuabaoBangdong5 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1676')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdong5Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdong5Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdong5SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // GuabaoBangdong5BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, GuabaoBangdong5BentoMainId.value)
      GuabaoBangdong5BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    GuabaoBangdong5Name.value = response.data.name
    GuabaoBangdong5MainName.value = mainMeal.name
    GuabaoBangdong5DrinkName.value = Drink.name
    GuabaoBangdong5SideDishName.value = sideDish.name
    GuabaoBangdong5BentoMainName.value = bentoMain.name
    GuabaoBangdong5Price.value = parseInt(response.data.price)
    GuabaoBangdong5ProductId.value = response.data.id
    GuabaoBangdong5MainMealId.value = mainMeal.id
    GuabaoBangdong5DrinkId.value = Drink.id
    GuabaoBangdong5SideDishId.value = sideDish.id
    GuabaoBangdong5BentoMainId.value = bentoMain.id
    GuabaoBangdong5Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong5SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong5BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong5Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong5SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong5BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoBangdong5Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong5Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong5TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdong5TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoBangdong5TotalQuantity.value * GuabaoBangdong5Price.value
  return totalPrice
})
const GuabaoBangdong5optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong5Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong5SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdong5finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong5optionPrice.value + GuabaoBangdong5TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdong5 = () => {
  if (GuabaoBangdong5TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong5Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong5TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(GuabaoBangdong5TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 30,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: GuabaoBangdong5finalTotal.value,
    optionPrice: GuabaoBangdong5optionPrice.value,
    totalPrice: GuabaoBangdong5TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong5Comment.value
  }
  row.quantity = GuabaoBangdong5TotalQuantity.value
  const totalQuantity = GuabaoBangdong5TotalQuantity.value
  // 主餐
  for (const GuabaoBangdong5Main of GuabaoBangdong5Mains) {
    if (GuabaoBangdong5Main.quantity > 0) {
      row.Main +=
        GuabaoBangdong5Main.name +
        '  x  ' +
        parseInt(GuabaoBangdong5Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong5MainMealId.value,
        productTypeName: GuabaoBangdong5MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong5Main.id,
        name: GuabaoBangdong5Main.name,
        value: parseInt(GuabaoBangdong5Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdong5Main.quantity = 0
      GuabaoBangdong5TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdong5Drink of GuabaoBangdong5Drinks) {
    if (GuabaoBangdong5Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong5Drink.name +
        'x' +
        parseInt(GuabaoBangdong5Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong5DrinkName.value,
        productTypeId: GuabaoBangdong5DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong5Drink.id,
        name: GuabaoBangdong5Drink.name,
        value: parseInt(GuabaoBangdong5Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdong5Drink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdong5SideDish of GuabaoBangdong5SideDishes) {
    if (GuabaoBangdong5SideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong5SideDish.name +
        'x' +
        parseInt(GuabaoBangdong5SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong5SideDishName.value,
        productTypeId: GuabaoBangdong5SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong5SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong5SideDish.id,
        name: GuabaoBangdong5SideDish.name,
        value: parseInt(GuabaoBangdong5SideDish.quantity),
        is_default: GuabaoBangdong5SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdong5SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdong5BentoMain of GuabaoBangdong5BentoMains) {
    if (GuabaoBangdong5BentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong5BentoMain.name +
        ' x ' +
        parseInt(GuabaoBangdong5BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdong5BentoMainName.value,
        productTypeId: GuabaoBangdong5BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdong5BentoMain.id,
        name: GuabaoBangdong5BentoMain.name,
        value: parseInt(GuabaoBangdong5BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdong5BentoMain.quantity = 0
    }
  }
  // 保留 牛肉丸便當、1676、數量
  const productInput = {
    id: GuabaoBangdong5ProductId.value,
    name: GuabaoBangdong5Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdong5Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong5Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong5Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong5Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong5Arbitrarily',
      value: GuabaoBangdong5Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong5Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showGuabaoBangdong5.value = false
  GuabaoBangdong5Arbitrarily.value = 0
}
// -----------------------------------------
const ResetGuabaoBangdong5 = () => {
  GuabaoBangdong5Mains.forEach((GuabaoBangdong5Main) => {
    GuabaoBangdong5Main.quantity = 0
  })
  GuabaoBangdong5Drinks.forEach((GuabaoBangdong5Drink) => {
    GuabaoBangdong5Drink.quantity = 0
  })
  GuabaoBangdong5SideDishes.forEach((GuabaoBangdong5SideDish) => {
    GuabaoBangdong5SideDish.quantity = 0
  })
  GuabaoBangdong5BentoMains.forEach((GuabaoBangdong5BentoMain) => {
    GuabaoBangdong5BentoMain.quantity = 0
  })
  GuabaoBangdong5TotalQuantity.value = 0
  GuabaoBangdong5Arbitrarily.value = 0
  showGuabaoBangdong5.value = false
}
// 修改欄位
const GuabaoBangdong5EditMains = reactive([])
const GuabaoBangdong5EditDrinks = reactive([])
const GuabaoBangdong5EditSideDishes = reactive([])
const GuabaoBangdong5EditBentoMains = reactive([])
const loadGuabaoBangdong5Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1676')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdong5EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdong5EditMains.push(GuabaoBangdong5EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdong5EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdong5EditDrinks.push(GuabaoBangdong5EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdong5EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdong5EditSideDishes.push(GuabaoBangdong5EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdong5EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdong5EditBentoMains.push(GuabaoBangdong5EditBentoMain)
    }
    GuabaoBangdong5MainName.value = mainMeal.name
    GuabaoBangdong5DrinkName.value = Drink.name
    GuabaoBangdong5SideDishName.value = sideDish.name
    GuabaoBangdong5BentoMainName.value = bentoMain.name
    GuabaoBangdong5Price.value = parseInt(response.data.price)
    GuabaoBangdong5EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdong5EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdong5EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdong5EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong5EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdong5EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 素食刈包便當 125
const GuabaoBangdongVegetarian1Mains = reactive([])
const GuabaoBangdongVegetarian1MainName = ref('')
const GuabaoBangdongVegetarian1Drinks = reactive([])
const GuabaoBangdongVegetarian1DrinkName = ref('')
const GuabaoBangdongVegetarian1SideDishes = reactive([])
const GuabaoBangdongVegetarian1SideDishName = ref('')
const GuabaoBangdongVegetarian1BentoMains = reactive([])
const GuabaoBangdongVegetarian1BentoMainName = ref('')
const GuabaoBangdongVegetarian1Name = ref('')
const GuabaoBangdongVegetarian1Price = ref('')
const GuabaoBangdongVegetarian1ProductId = ref('')
const GuabaoBangdongVegetarian1MainMealId = ref('')
const GuabaoBangdongVegetarian1DrinkId = ref('')
const GuabaoBangdongVegetarian1SideDishId = ref('')
const GuabaoBangdongVegetarian1BentoMainId = ref('')
// 抓取素食便當 125 主餐形成 input
const loadGuabaoBangdongVegetarian1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1686')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdongVegetarian1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdongVegetarian1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdongVegetarian1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      GuabaoBangdongVegetarian1BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    GuabaoBangdongVegetarian1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdongVegetarian1SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdongVegetarian1BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdongVegetarian1Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian1SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian1BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian1Name.value = response.data.name
    GuabaoBangdongVegetarian1MainName.value = mainMeal.name
    GuabaoBangdongVegetarian1DrinkName.value = Drink.name
    GuabaoBangdongVegetarian1SideDishName.value = sideDish.name
    GuabaoBangdongVegetarian1BentoMainName.value = bentoMain.name
    GuabaoBangdongVegetarian1Price.value = parseInt(response.data.price)
    GuabaoBangdongVegetarian1ProductId.value = response.data.id
    GuabaoBangdongVegetarian1MainMealId.value = mainMeal.id
    GuabaoBangdongVegetarian1DrinkId.value = Drink.id
    GuabaoBangdongVegetarian1SideDishId.value = sideDish.id
    GuabaoBangdongVegetarian1BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoBangdongVegetarian1Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdongVegetarian1Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdongVegetarian1TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoBangdongVegetarian1TotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian1TotalQuantity.value * GuabaoBangdongVegetarian1Price.value

  return totalPrice
})
const GuabaoBangdongVegetarian1optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdongVegetarian1Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdongVegetarian1SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdongVegetarian1finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian1optionPrice.value +
    GuabaoBangdongVegetarian1TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdongVegetarian1 = () => {
  if (GuabaoBangdongVegetarian1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdongVegetarian1Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdongVegetarian1TotalQuantity.value)
  if (
    calculatedTotalQuantity !==
    parseInt(GuabaoBangdongVegetarian1TotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 31,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: 0,
    price: GuabaoBangdongVegetarian1finalTotal.value,
    optionPrice: GuabaoBangdongVegetarian1optionPrice.value,
    totalPrice: GuabaoBangdongVegetarian1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdongVegetarian1Comment.value
  }

  const totalQuantity = GuabaoBangdongVegetarian1TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const GuabaoBangdongVegetarian1Main of GuabaoBangdongVegetarian1Mains) {
    if (GuabaoBangdongVegetarian1Main.quantity > 0) {
      row.Main +=
        GuabaoBangdongVegetarian1Main.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1Main.quantity) +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdongVegetarian1MainMealId.value,
        productTypeName: GuabaoBangdongVegetarian1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdongVegetarian1Main.id,
        name: GuabaoBangdongVegetarian1Main.name,
        value: parseInt(GuabaoBangdongVegetarian1Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian1Main.quantity = 0
      GuabaoBangdongVegetarian1TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdongVegetarian1Drink of GuabaoBangdongVegetarian1Drinks) {
    if (GuabaoBangdongVegetarian1Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdongVegetarian1Drink.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian1DrinkName.value,
        productTypeId: GuabaoBangdongVegetarian1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian1Drink.id,
        name: GuabaoBangdongVegetarian1Drink.name,
        value: parseInt(GuabaoBangdongVegetarian1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian1Drink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdongVegetarian1SideDish of GuabaoBangdongVegetarian1SideDishes) {
    if (GuabaoBangdongVegetarian1SideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdongVegetarian1SideDish.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian1SideDishName.value,
        productTypeId: GuabaoBangdongVegetarian1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdongVegetarian1SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdongVegetarian1SideDish.id,
        name: GuabaoBangdongVegetarian1SideDish.name,
        value: parseInt(GuabaoBangdongVegetarian1SideDish.quantity),
        is_default: GuabaoBangdongVegetarian1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian1SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdongVegetarian1BentoMain of GuabaoBangdongVegetarian1BentoMains) {
    if (GuabaoBangdongVegetarian1BentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdongVegetarian1BentoMain.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian1BentoMainName.value,
        productTypeId: GuabaoBangdongVegetarian1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdongVegetarian1BentoMain.id,
        name: GuabaoBangdongVegetarian1BentoMain.name,
        value: parseInt(GuabaoBangdongVegetarian1BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian1BentoMain.quantity = 0
    }
  }
  // 保留 素食便當 125、1003、數量
  const productInput = {
    id: GuabaoBangdongVegetarian1ProductId.value,
    name: GuabaoBangdongVegetarian1Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdongVegetarian1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdongVegetarian1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdongVegetarian1Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(GuabaoBangdongVegetarian1Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdongVegetarian1Arbitrarily',
      value: GuabaoBangdongVegetarian1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdongVegetarian1Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showGuabaoBangdongVegetarian1.value = false
  GuabaoBangdongVegetarian1Arbitrarily.value = 0
}
// ------------------------------------------------------
const ResetGuabaoBangdongVegetarian1 = () => {
  GuabaoBangdongVegetarian1Mains.forEach((GuabaoBangdongVegetarian1Main) => {
    GuabaoBangdongVegetarian1Main.quantity = 0
  })
  GuabaoBangdongVegetarian1Drinks.forEach((GuabaoBangdongVegetarian1Drink) => {
    GuabaoBangdongVegetarian1Drink.quantity = 0
  })
  GuabaoBangdongVegetarian1SideDishes.forEach((GuabaoBangdongVegetarian1SideDish) => {
    GuabaoBangdongVegetarian1SideDish.quantity = 0
  })
  GuabaoBangdongVegetarian1BentoMains.forEach((GuabaoBangdongVegetarian1BentoMain) => {
    GuabaoBangdongVegetarian1BentoMain.quantity = 0
  })
  GuabaoBangdongVegetarian1TotalQuantity.value = 0
  GuabaoBangdongVegetarian1Arbitrarily.value = 0
  showGuabaoBangdongVegetarian1.value = false
}
// 修改欄位
const GuabaoBangdongVegetarian1EditMains = reactive([])
const GuabaoBangdongVegetarian1EditDrinks = reactive([])
const GuabaoBangdongVegetarian1EditSideDishes = reactive([])
const GuabaoBangdongVegetarian1EditBentoMains = reactive([])
const loadGuabaoBangdongVegetarian1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1686')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdongVegetarian1EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdongVegetarian1EditMains.push(GuabaoBangdongVegetarian1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdongVegetarian1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdongVegetarian1EditDrinks.push(GuabaoBangdongVegetarian1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdongVegetarian1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdongVegetarian1EditSideDishes.push(GuabaoBangdongVegetarian1EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdongVegetarian1EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdongVegetarian1EditBentoMains.push(GuabaoBangdongVegetarian1EditBentoMain)
    }
    GuabaoBangdongVegetarian1MainName.value = mainMeal.name
    GuabaoBangdongVegetarian1DrinkName.value = Drink.name
    GuabaoBangdongVegetarian1SideDishName.value = sideDish.name
    GuabaoBangdongVegetarian1BentoMainName.value = bentoMain.name
    GuabaoBangdongVegetarian1Price.value = parseInt(response.data.price)
    GuabaoBangdongVegetarian1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdongVegetarian1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdongVegetarian1EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdongVegetarian1EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian1EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian1EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 素食刈包便當 150
const GuabaoBangdongVegetarian2Mains = reactive([])
const GuabaoBangdongVegetarian2MainName = ref('')
const GuabaoBangdongVegetarian2Drinks = reactive([])
const GuabaoBangdongVegetarian2DrinkName = ref('')
const GuabaoBangdongVegetarian2SideDishes = reactive([])
const GuabaoBangdongVegetarian2SideDishName = ref('')
const GuabaoBangdongVegetarian2BentoMains = reactive([])
const GuabaoBangdongVegetarian2BentoMainName = ref('')
const GuabaoBangdongVegetarian2Name = ref('')
const GuabaoBangdongVegetarian2Price = ref('')
const GuabaoBangdongVegetarian2ProductId = ref('')
const GuabaoBangdongVegetarian2MainMealId = ref('')
const GuabaoBangdongVegetarian2DrinkId = ref('')
const GuabaoBangdongVegetarian2SideDishId = ref('')
const GuabaoBangdongVegetarian2BentoMainId = ref('')
// 抓取素食便當 125 主餐形成 input
const loadGuabaoBangdongVegetarian2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1687')

    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        GuabaoBangdongVegetarian2Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      GuabaoBangdongVegetarian2Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoBangdongVegetarian2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      GuabaoBangdongVegetarian2BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    GuabaoBangdongVegetarian2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            GuabaoBangdongVegetarian2SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdongVegetarian2BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdongVegetarian2Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian2BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian2Name.value = response.data.name
    GuabaoBangdongVegetarian2MainName.value = mainMeal.name
    GuabaoBangdongVegetarian2DrinkName.value = Drink.name
    GuabaoBangdongVegetarian2SideDishName.value = sideDish.name
    GuabaoBangdongVegetarian2BentoMainName.value = bentoMain.name
    GuabaoBangdongVegetarian2Price.value = parseInt(response.data.price)
    GuabaoBangdongVegetarian2ProductId.value = response.data.id
    GuabaoBangdongVegetarian2MainMealId.value = mainMeal.id
    GuabaoBangdongVegetarian2DrinkId.value = Drink.id
    GuabaoBangdongVegetarian2SideDishId.value = sideDish.id
    GuabaoBangdongVegetarian2BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}
// 計算總數量
watch(GuabaoBangdongVegetarian2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdongVegetarian2Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdongVegetarian2TotalQuantity.value) - mainQuantityTotal
  )
})
// 計算總價格
const GuabaoBangdongVegetarian2TotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian2TotalQuantity.value * GuabaoBangdongVegetarian2Price.value
  return totalPrice
})
const GuabaoBangdongVegetarian2optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdongVegetarian2Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdongVegetarian2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdongVegetarian2finalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian2optionPrice.value +
    GuabaoBangdongVegetarian2TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitGuabaoBangdongVegetarian2 = () => {
  if (GuabaoBangdongVegetarian2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdongVegetarian2Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdongVegetarian2TotalQuantity.value)
  if (
    calculatedTotalQuantity !==
    parseInt(GuabaoBangdongVegetarian2TotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 32,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    price: GuabaoBangdongVegetarian2finalTotal.value,
    optionPrice: GuabaoBangdongVegetarian2optionPrice.value,
    totalPrice: GuabaoBangdongVegetarian2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdongVegetarian2Comment.value
  }

  const totalQuantity = GuabaoBangdongVegetarian2TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const GuabaoBangdongVegetarian2Main of GuabaoBangdongVegetarian2Mains) {
    if (GuabaoBangdongVegetarian2Main.quantity > 0) {
      if (row.Main !== '') {
        row.Main += ','
      }

      row.Main +=
        GuabaoBangdongVegetarian2Main.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdongVegetarian2MainMealId.value,
        productTypeName: GuabaoBangdongVegetarian2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdongVegetarian2Main.id,
        name: GuabaoBangdongVegetarian2Main.name,
        value: parseInt(GuabaoBangdongVegetarian2Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian2Main.quantity = 0
      GuabaoBangdongVegetarian2TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const GuabaoBangdongVegetarian2Drink of GuabaoBangdongVegetarian2Drinks) {
    if (GuabaoBangdongVegetarian2Drink.quantity > 0) {
      row.drinks +=
        GuabaoBangdongVegetarian2Drink.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian2DrinkName.value,
        productTypeId: GuabaoBangdongVegetarian2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian2Drink.id,
        name: GuabaoBangdongVegetarian2Drink.name,
        value: parseInt(GuabaoBangdongVegetarian2Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian2Drink.quantity = 0
    }
  }
  // 配菜
  for (const GuabaoBangdongVegetarian2SideDish of GuabaoBangdongVegetarian2SideDishes) {
    if (GuabaoBangdongVegetarian2SideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdongVegetarian2SideDish.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian2SideDishName.value,
        productTypeId: GuabaoBangdongVegetarian2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdongVegetarian2SideDish.is_default + ' '
      const input = {
        id: GuabaoBangdongVegetarian2SideDish.id,
        name: GuabaoBangdongVegetarian2SideDish.name,
        value: parseInt(GuabaoBangdongVegetarian2SideDish.quantity),
        is_default: GuabaoBangdongVegetarian2SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian2SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const GuabaoBangdongVegetarian2BentoMain of GuabaoBangdongVegetarian2BentoMains) {
    if (GuabaoBangdongVegetarian2BentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdongVegetarian2BentoMain.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian2BentoMainName.value,
        productTypeId: GuabaoBangdongVegetarian2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: GuabaoBangdongVegetarian2BentoMain.id,
        name: GuabaoBangdongVegetarian2BentoMain.name,
        value: parseInt(GuabaoBangdongVegetarian2BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      GuabaoBangdongVegetarian2BentoMain.quantity = 0
    }
  }
  // 保留 素食便當 125、1003、數量
  const productInput = {
    id: GuabaoBangdongVegetarian2ProductId.value,
    name: GuabaoBangdongVegetarian2Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoBangdongVegetarian2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdongVegetarian2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdongVegetarian2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(GuabaoBangdongVegetarian2Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdongVegetarian2Arbitrarily',
      value: GuabaoBangdongVegetarian2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdongVegetarian2Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showGuabaoBangdongVegetarian2.value = false
  GuabaoBangdongVegetarian2Arbitrarily.value = 0
}
// ---------------------------------------------------
const ResetGuabaoBangdongVegetarian2 = () => {
  GuabaoBangdongVegetarian2Mains.forEach((GuabaoBangdongVegetarian2Main) => {
    GuabaoBangdongVegetarian2Main.quantity = 0
  })
  GuabaoBangdongVegetarian2Drinks.forEach((GuabaoBangdongVegetarian2Drink) => {
    GuabaoBangdongVegetarian2Drink.quantity = 0
  })
  GuabaoBangdongVegetarian2SideDishes.forEach((GuabaoBangdongVegetarian2SideDish) => {
    GuabaoBangdongVegetarian2SideDish.quantity = 0
  })
  GuabaoBangdongVegetarian2BentoMains.forEach((GuabaoBangdongVegetarian2BentoMain) => {
    GuabaoBangdongVegetarian2BentoMain.quantity = 0
  })
  bangdongVegetarian1TotalQuantity.value = 0
  bangdongVegetarian1Arbitrarily.value = 0
  showGuabaoBangdongVegetarian2.value = false
}
// 修改欄位
const GuabaoBangdongVegetarian2EditMains = reactive([])
const GuabaoBangdongVegetarian2EditDrinks = reactive([])
const GuabaoBangdongVegetarian2EditSideDishes = reactive([])
const GuabaoBangdongVegetarian2EditBentoMains = reactive([])
const loadGuabaoBangdongVegetarian2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1687')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const GuabaoBangdongVegetarian2EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        GuabaoBangdongVegetarian2EditMains.push(GuabaoBangdongVegetarian2EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const GuabaoBangdongVegetarian2EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      GuabaoBangdongVegetarian2EditDrinks.push(GuabaoBangdongVegetarian2EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const GuabaoBangdongVegetarian2EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        GuabaoBangdongVegetarian2EditSideDishes.push(GuabaoBangdongVegetarian2EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const GuabaoBangdongVegetarian2EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      GuabaoBangdongVegetarian2EditBentoMains.push(GuabaoBangdongVegetarian2EditBentoMain)
    }
    GuabaoBangdongVegetarian2MainName.value = mainMeal.name
    GuabaoBangdongVegetarian2DrinkName.value = Drink.name
    GuabaoBangdongVegetarian2SideDishName.value = sideDish.name
    GuabaoBangdongVegetarian2BentoMainName.value = bentoMain.name
    GuabaoBangdongVegetarian2Price.value = parseInt(response.data.price)
    // 監聽主餐的數量變化
    GuabaoBangdongVegetarian2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongVegetarian1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          GuabaoBangdongVegetarian2EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    GuabaoBangdongVegetarian2EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoBangdongVegetarian2EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// ---------------------------------------------------------------------

// 招牌便當
const bangdong1Mains = reactive([])
const bangdong1MainName = ref('')
const bangdong1Drinks = reactive([])
const bangdong1DrinkName = ref('')
const bangdong1SideDishes = reactive([])
const bangdong1SideDishName = ref('')
const bangdong1Name = ref('')
const bangdong1Price = ref(0)
const bangdong1ProductId = ref('')
const bangdong1MainMealId = ref('')
const bangdong1DrinkId = ref('')
const bangdong1SideDishId = ref('')
// const editDialog = ref(false)
// 抓取招牌便當主餐形成 input
const loadBangdong1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1001')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdong1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdong1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdong1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化

    bangdong1Name.value = response.data.name
    bangdong1MainName.value = mainMeal.name
    bangdong1DrinkName.value = Drink.name
    bangdong1SideDishName.value = sideDish.name
    bangdong1Price.value = parseInt(response.data.price)
    bangdong1ProductId.value = response.data.id
    bangdong1MainMealId.value = mainMeal.id
    bangdong1DrinkId.value = Drink.id
    bangdong1SideDishId.value = sideDish.id
    bangdong1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong1SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })
    bangdong1Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong1SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算任配

watch(bangdong1Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity || 0)
  }, 0)
  console.log(newMains)
  bangdong1Arbitrarily.value = Math.max(
    0,
    parseInt(bangdong1TotalQuantity.value || 0) - mainQuantityTotal
  )
})

// 計算總價格
const bangdong1TotalQuantityPrice = computed(() => {
  const totalPrice = bangdong1TotalQuantity.value * bangdong1Price.value
  return totalPrice
})
// 選項總計
const bangdong1optionPrice = computed(() => {
  let totalPrice = 0
  bangdong1Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong1SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
// 全部總計
const bangdong1finalTotal = computed(() => {
  const totalPrice =
    bangdong1optionPrice.value + bangdong1TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdong1 = () => {
  if (bangdong1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong1Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong1TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(bangdong1TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 1,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong1finalTotal.value,
    optionPrice: bangdong1optionPrice.value,
    totalPrice: bangdong1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong1Comment.value
  }
  row.quantity = bangdong1TotalQuantity.value

  const totalQuantity = bangdong1TotalQuantity.value
  for (const bangdong1Main of bangdong1Mains) {
    if (bangdong1Main.quantity > 0) {
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong1MainMealId.value,
        productTypeName: bangdong1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      row.Main +=
        bangdong1Main.name +
        ' x ' +
        parseInt(bangdong1Main.quantity).toString() +
        '<br>'

      const input = {
        id: bangdong1Main.id,
        name: bangdong1Main.name,
        value: parseInt(bangdong1Main.quantity),
        type: 1
      }

      row.inputs.push(input)
      bangdong1Main.quantity = 0
      bangdong1TotalQuantity.value = 0
    }
  }
  for (const bangdong1Drink of bangdong1Drinks) {
    if (bangdong1Drink.quantity > 0) {
      row.drinks +=
        bangdong1Drink.name +
        '  x  ' +
        parseInt(bangdong1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong1DrinkName.value,
        productTypeId: bangdong1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong1Drink.id,
        name: bangdong1Drink.name,
        value: parseInt(bangdong1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdong1Drink.quantity = 0
    }
  }

  for (const bangdong1SideDish of bangdong1SideDishes) {
    if (bangdong1SideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ','
      }
      row.sideDishes +=
        bangdong1SideDish.name +
        'x' +
        parseInt(bangdong1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong1SideDishName.value,
        productTypeId: bangdong1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong1SideDish.is_default + ' '
      const input = {
        id: bangdong1SideDish.id,
        name: bangdong1SideDish.name,
        value: parseInt(bangdong1SideDish.quantity),
        is_default: bangdong1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdong1SideDish.quantity = 0
    }
  }
  // 保留 招牌便當、1001、數量
  const productInput = {
    id: bangdong1ProductId.value,
    name: bangdong1Name.value,
    value: parseInt(totalQuantity),
    price: bangdong1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong1Comment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong1Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong1Arbitrarily.value).toString()
    const input = {
      id: 'bangdong1Arbitrarily',
      value: bangdong1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong1Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showbangdong1.value = false
  bangdong1Arbitrarily.value = 0
}
const Resetbangdong1 = () => {
  bangdong1Mains.forEach((bangdong1Main) => {
    bangdong1Main.quantity = 0
  })
  bangdong1Drinks.forEach((bangdong1Drink) => {
    bangdong1Drink.quantity = 0
  })
  bangdong1SideDishes.forEach((bangdong1SideDish) => {
    bangdong1SideDish.quantity = 0
  })
  bangdong1TotalQuantity.value = 0
  bangdong1Arbitrarily.value = 0
  showbangdong1.value = false
}
// 修改欄位導入
const bangdong1EditMains = reactive([])
const bangdong1EditDrinks = reactive([])
const bangdong1EditSideDishes = reactive([])
const bangdong1EditBentoMains = reactive([])
const loadBangdong1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1001')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdong1EditMain = {
          id: value.id,
          name: value.name,
          shortname: value.short_name,
          quantity: 0,
          hidenquantity: 0
        }
        bangdong1EditMains.push(bangdong1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdong1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdong1EditDrinks.push(bangdong1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdong1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdong1EditSideDishes.push(bangdong1EditSideDish)
      }
    }
    // 修改修改欄位配菜跟著變
    bangdong1MainName.value = mainMeal.name
    bangdong1DrinkName.value = Drink.name
    bangdong1SideDishName.value = sideDish.name
    bangdong1Price.value = parseInt(response.data.price)
    bangdong1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 使用 setTimeout 來延遲配菜數量的更新
            // 配菜的數量跟著主餐的數量變化
            bangdong1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })

    bangdong1EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong1EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 招牌素便當
const bangdong6Mains = reactive([])
const bangdong6MainName = ref('')
const bangdong6Drinks = reactive([])
const bangdong6DrinkName = ref('')
const bangdong6SideDishes = reactive([])
const bangdong6SideDishName = ref('')
const bangdong6Name = ref('')
const bangdong6Price = ref(0)
const bangdong6ProductId = ref('')
const bangdong6MainMealId = ref('')
const bangdong6DrinkId = ref('')
const bangdong6SideDishId = ref('')
// const editDialog = ref(false)
// 抓取招牌素便當主餐形成 input
const loadBangdong6 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1658')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdong6Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdong6Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdong6SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化

    bangdong6Name.value = response.data.name
    bangdong6MainName.value = mainMeal.name
    bangdong6DrinkName.value = Drink.name
    bangdong6SideDishName.value = sideDish.name
    bangdong6Price.value = parseInt(response.data.price)
    bangdong6ProductId.value = response.data.id
    bangdong6MainMealId.value = mainMeal.id
    bangdong6DrinkId.value = Drink.id
    bangdong6SideDishId.value = sideDish.id
    bangdong6Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong6SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })
    bangdong6Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong6SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算任配

watch(bangdong6Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity || 0)
  }, 0)
  console.log(newMains)
  bangdong6Arbitrarily.value = Math.max(
    0,
    parseInt(bangdong6TotalQuantity.value || 0) - mainQuantityTotal
  )
})

// 計算總價格
const bangdong6TotalQuantityPrice = computed(() => {
  const totalPrice = bangdong6TotalQuantity.value * bangdong6Price.value
  return totalPrice
})
// 選項總計
const bangdong6optionPrice = computed(() => {
  let totalPrice = 0
  bangdong6Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong6SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
// 全部總計
const bangdong6finalTotal = computed(() => {
  const totalPrice =
    bangdong6optionPrice.value + bangdong6TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdong6 = () => {
  if (bangdong6TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong6Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong6TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(bangdong6TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 23,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong6finalTotal.value,
    optionPrice: bangdong6optionPrice.value,
    totalPrice: bangdong6TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong6Comment.value
  }
  row.quantity = bangdong6TotalQuantity.value

  const totalQuantity = bangdong6TotalQuantity.value
  for (const bangdong6Main of bangdong6Mains) {
    if (bangdong6Main.quantity > 0) {
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong6MainMealId.value,
        productTypeName: bangdong6MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      row.Main +=
        bangdong6Main.name +
        ' x ' +
        parseInt(bangdong6Main.quantity).toString() +
        '<br>'

      const input = {
        id: bangdong6Main.id,
        name: bangdong6Main.name,
        value: parseInt(bangdong6Main.quantity),
        type: 1
      }

      row.inputs.push(input)
      bangdong6Main.quantity = 0
      bangdong6TotalQuantity.value = 0
    }
  }
  for (const bangdong6Drink of bangdong6Drinks) {
    if (bangdong6Drink.quantity > 0) {
      row.drinks +=
        bangdong6Drink.name +
        '  x  ' +
        parseInt(bangdong6Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong6DrinkName.value,
        productTypeId: bangdong6DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong6Drink.id,
        name: bangdong6Drink.name,
        value: parseInt(bangdong6Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdong6Drink.quantity = 0
    }
  }

  for (const bangdong6SideDish of bangdong6SideDishes) {
    if (bangdong6SideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ','
      }
      row.sideDishes +=
        bangdong6SideDish.name +
        'x' +
        parseInt(bangdong6SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong6SideDishName.value,
        productTypeId: bangdong6SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong6SideDish.is_default + ' '
      const input = {
        id: bangdong6SideDish.id,
        name: bangdong6SideDish.name,
        value: parseInt(bangdong6SideDish.quantity),
        is_default: bangdong6SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdong6SideDish.quantity = 0
    }
  }
  // 保留 招牌素便當、1658、數量
  const productInput = {
    id: bangdong6ProductId.value,
    name: bangdong6Name.value,
    value: parseInt(totalQuantity),
    price: bangdong6Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong6Comment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong6Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong6Arbitrarily.value).toString()
    const input = {
      id: 'bangdong6Arbitrarily',
      value: bangdong6Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong6Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showbangdong6.value = false
  bangdong6Arbitrarily.value = 0
}
const Resetbangdong6 = () => {
  bangdong6Mains.forEach((bangdong6Main) => {
    bangdong6Main.quantity = 0
  })
  bangdong6Drinks.forEach((bangdong6Drink) => {
    bangdong6Drink.quantity = 0
  })
  bangdong6SideDishes.forEach((bangdong6SideDish) => {
    bangdong6SideDish.quantity = 0
  })
  bangdong6TotalQuantity.value = 0
  bangdong6Arbitrarily.value = 0
  showbangdong6.value = false
}
// 修改欄位導入
const bangdong6EditMains = reactive([])
const bangdong6EditDrinks = reactive([])
const bangdong6EditSideDishes = reactive([])
const bangdong6EditBentoMains = reactive([])
const loadBangdong6Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1658')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdong6EditMain = {
          id: value.id,
          name: value.name,
          shortname: value.short_name,
          quantity: 0,
          hidenquantity: 0
        }
        bangdong6EditMains.push(bangdong6EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdong6EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdong6EditDrinks.push(bangdong6EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdong6EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdong6EditSideDishes.push(bangdong6EditSideDish)
      }
    }
    // 修改修改欄位配菜跟著變
    bangdong6MainName.value = mainMeal.name
    bangdong6DrinkName.value = Drink.name
    bangdong6SideDishName.value = sideDish.name
    bangdong6Price.value = parseInt(response.data.price)
    bangdong6EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 使用 setTimeout 來延遲配菜數量的更新
            // 配菜的數量跟著主餐的數量變化
            bangdong6EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              console.log(diff)
              if (sideDish.is_default === 1) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
    })

    bangdong6EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong6EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 雞胸便當
const bangdong2Mains = reactive([])
const bangdong2MainName = ref('')
const bangdong2Drinks = reactive([])
const bangdong2DrinkName = ref('')
const bangdong2SideDishes = reactive([])
const bangdong2SideDishName = ref('')
const bangdong2BentoMains = reactive([])
const bangdong2BentoMainName = ref('')
const bangdong2Name = ref('')
const bangdong2ProductId = ref('')
const bangdong2MainMealId = ref('')
const bangdong2DrinkId = ref('')
const bangdong2SideDishId = ref('')
const bangdong2BentoMainId = ref('')
const bangdong2Price = ref(0)
// 抓取雞胸便當主餐形成 input
const loadBangdong2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1002')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdong2Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdong2Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdong2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // bangdong2BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, bangdong2BentoMainId.value)
      bangdong2BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    bangdong2Name.value = response.data.name
    bangdong2MainName.value = mainMeal.name
    bangdong2DrinkName.value = Drink.name
    bangdong2SideDishName.value = sideDish.name
    bangdong2BentoMainName.value = bentoMain.name
    bangdong2Price.value = parseInt(response.data.price)
    bangdong2ProductId.value = response.data.id
    bangdong2MainMealId.value = mainMeal.id
    bangdong2DrinkId.value = Drink.id
    bangdong2SideDishId.value = sideDish.id
    bangdong2BentoMainId.value = bentoMain.id
    bangdong2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong2SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong2BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong2Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong2BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(bangdong2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong2Arbitrarily.value = Math.max(
    0,
    parseInt(bangdong2TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const bangdong2TotalQuantityPrice = computed(() => {
  const totalPrice = bangdong2TotalQuantity.value * bangdong2Price.value
  return totalPrice
})
const bangdong2optionPrice = computed(() => {
  let totalPrice = 0
  bangdong2Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdong2finalTotal = computed(() => {
  const totalPrice =
    bangdong2optionPrice.value + bangdong2TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdong2 = () => {
  if (bangdong2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong2Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong2TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(bangdong2TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 2,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: bangdong2finalTotal.value,
    optionPrice: bangdong2optionPrice.value,
    totalPrice: bangdong2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong2Comment.value
  }
  row.quantity = bangdong2TotalQuantity.value
  const totalQuantity = bangdong2TotalQuantity.value
  // 主餐
  for (const bangdong2Main of bangdong2Mains) {
    if (bangdong2Main.quantity > 0) {
      row.Main +=
        bangdong2Main.name +
        '  x  ' +
        parseInt(bangdong2Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong2MainMealId.value,
        productTypeName: bangdong2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong2Main.id,
        name: bangdong2Main.name,
        value: parseInt(bangdong2Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdong2Main.quantity = 0
      bangdong2TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdong2Drink of bangdong2Drinks) {
    if (bangdong2Drink.quantity > 0) {
      row.drinks +=
        bangdong2Drink.name +
        'x' +
        parseInt(bangdong2Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong2DrinkName.value,
        productTypeId: bangdong2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong2Drink.id,
        name: bangdong2Drink.name,
        value: parseInt(bangdong2Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdong2Drink.quantity = 0
    }
  }
  // 配菜
  for (const bangdong2SideDish of bangdong2SideDishes) {
    if (bangdong2SideDish.quantity > 0) {
      row.sideDishes +=
        bangdong2SideDish.name +
        'x' +
        parseInt(bangdong2SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong2SideDishName.value,
        productTypeId: bangdong2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong2SideDish.is_default + ' '
      const input = {
        id: bangdong2SideDish.id,
        name: bangdong2SideDish.name,
        value: parseInt(bangdong2SideDish.quantity),
        is_default: bangdong2SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdong2SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdong2BentoMain of bangdong2BentoMains) {
    if (bangdong2BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong2BentoMain.name +
        ' x ' +
        parseInt(bangdong2BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdong2BentoMainName.value,
        productTypeId: bangdong2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong2BentoMain.id,
        name: bangdong2BentoMain.name,
        value: parseInt(bangdong2BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdong2BentoMain.quantity = 0
    }
  }
  // 保留 雞胸便當、1002、數量
  const productInput = {
    id: bangdong2ProductId.value,
    name: bangdong2Name.value,
    value: parseInt(totalQuantity),
    price: bangdong2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong2Arbitrarily.value).toString()
    const input = {
      id: 'bangdong2Arbitrarily',
      value: bangdong2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong2Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showbangdong2.value = false
  bangdong2Arbitrarily.value = 0
}
// -----------------------------------------
const Resetbangdong2 = () => {
  bangdong2Mains.forEach((bangdong2Main) => {
    bangdong2Main.quantity = 0
  })
  bangdong2Drinks.forEach((bangdong2Drink) => {
    bangdong2Drink.quantity = 0
  })
  bangdong2SideDishes.forEach((bangdong2SideDish) => {
    bangdong2SideDish.quantity = 0
  })
  bangdong2BentoMains.forEach((bangdong2BentoMain) => {
    bangdong2BentoMain.quantity = 0
  })
  bangdong2TotalQuantity.value = 0
  bangdong2Arbitrarily.value = 0
  showbangdong2.value = false
}
// 修改欄位
const bangdong2EditMains = reactive([])
const bangdong2EditDrinks = reactive([])
const bangdong2EditSideDishes = reactive([])
const bangdong2EditBentoMains = reactive([])
const loadBangdong2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1002')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdong2EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdong2EditMains.push(bangdong2EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdong2EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdong2EditDrinks.push(bangdong2EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdong2EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdong2EditSideDishes.push(bangdong2EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdong2EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdong2EditBentoMains.push(bangdong2EditBentoMain)
    }
    bangdong2MainName.value = mainMeal.name
    bangdong2DrinkName.value = Drink.name
    bangdong2SideDishName.value = sideDish.name
    bangdong2BentoMainName.value = bentoMain.name
    bangdong2Price.value = parseInt(response.data.price)
    bangdong2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong2EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong2EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong2EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong2EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 雞腿便當
const bangdong3Mains = reactive([])
const bangdong3MainName = ref('')
const bangdong3Drinks = reactive([])
const bangdong3DrinkName = ref('')
const bangdong3SideDishes = reactive([])
const bangdong3SideDishName = ref('')
const bangdong3BentoMains = reactive([])
const bangdong3BentoMainName = ref('')
const bangdong3Name = ref('')
const bangdong3Price = ref('')
const bangdong3ProductId = ref('')
const bangdong3MainMealId = ref('')
const bangdong3DrinkId = ref('')
const bangdong3SideDishId = ref('')
const bangdong3BentoMainId = ref('')
// 抓取雞腿便當主餐形成 input
const loadBangdong3 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1003')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdong3Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdong3Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdong3SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      bangdong3BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    bangdong3Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong3SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong3BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong3Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong3SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong3BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong3Name.value = response.data.name
    bangdong3MainName.value = mainMeal.name
    bangdong3DrinkName.value = Drink.name
    bangdong3SideDishName.value = sideDish.name
    bangdong3BentoMainName.value = bentoMain.name
    bangdong3Price.value = parseInt(response.data.price)
    bangdong3ProductId.value = response.data.id
    bangdong3MainMealId.value = mainMeal.id
    bangdong3DrinkId.value = Drink.id
    bangdong3SideDishId.value = sideDish.id
    bangdong3BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(bangdong3Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong3Arbitrarily.value = Math.max(
    0,
    parseInt(bangdong3TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const bangdong3TotalQuantityPrice = computed(() => {
  const totalPrice = bangdong3TotalQuantity.value * bangdong3Price.value
  return totalPrice
})
const bangdong3optionPrice = computed(() => {
  let totalPrice = 0
  bangdong3Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong3SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdong3finalTotal = computed(() => {
  const totalPrice =
    bangdong3optionPrice.value + bangdong3TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdong3 = () => {
  if (bangdong3TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong3Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong3TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(bangdong3TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 3,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong3finalTotal.value,
    optionPrice: bangdong3optionPrice.value,
    totalPrice: bangdong3TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong3Comment.value
  }

  const totalQuantity = bangdong3TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const bangdong3Main of bangdong3Mains) {
    if (bangdong3Main.quantity > 0) {
      row.Main +=
        bangdong3Main.name +
        '  x  ' +
        parseInt(bangdong3Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong3MainMealId.value,
        productTypeName: bangdong3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong3Main.id,
        name: bangdong3Main.name,
        value: parseInt(bangdong3Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdong3Main.quantity = 0
      bangdong3TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdong3Drink of bangdong3Drinks) {
    if (bangdong3Drink.quantity > 0) {
      row.drinks +=
        bangdong3Drink.name +
        'x' +
        parseInt(bangdong3Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong3DrinkName.value,
        productTypeId: bangdong3DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong3Drink.id,
        name: bangdong3Drink.name,
        value: parseInt(bangdong3Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdong3Drink.quantity = 0
    }
  }
  // 配菜
  for (const bangdong3SideDish of bangdong3SideDishes) {
    if (bangdong3SideDish.quantity > 0) {
      row.sideDishes +=
        bangdong3SideDish.name +
        '  x  ' +
        parseInt(bangdong3SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong3SideDishName.value,
        productTypeId: bangdong3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong3SideDish.is_default + ' '
      const input = {
        id: bangdong3SideDish.id,
        name: bangdong3SideDish.name,
        value: parseInt(bangdong3SideDish.quantity),
        is_default: bangdong3SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdong3SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdong3BentoMain of bangdong3BentoMains) {
    if (bangdong3BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong3BentoMain.name +
        'x' +
        parseInt(bangdong3BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdong3BentoMainName.value,
        productTypeId: bangdong3BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong3BentoMain.id,
        name: bangdong3BentoMain.name,
        value: parseInt(bangdong3BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdong3BentoMain.quantity = 0
    }
  }
  // 保留 雞腿便當、1003、數量
  const productInput = {
    id: bangdong3ProductId.value,
    name: bangdong3Name.value,
    value: parseInt(totalQuantity),
    price: bangdong3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong3Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong3Arbitrarily.value).toString()
    const input = {
      id: 'bangdong3Arbitrarily',
      value: bangdong3Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong3Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  meal.tableRows2.push(row)
  showbangdong3.value = false
  bangdong3Arbitrarily.value = 0
}
// --------------------------------------------
const Resetbangdong3 = () => {
  bangdong3Mains.forEach((bangdong3Main) => {
    bangdong3Main.quantity = 0
  })
  bangdong3Drinks.forEach((bangdong3Drink) => {
    bangdong3Drink.quantity = 0
  })
  bangdong3SideDishes.forEach((bangdong3SideDish) => {
    bangdong3SideDish.quantity = 0
  })
  bangdong3BentoMains.forEach((bangdong3BentoMain) => {
    bangdong3BentoMain.quantity = 0
  })
  bangdong3TotalQuantity.value = 0
  bangdong3Arbitrarily.value = 0
  showbangdong3.value = false
}
// 修改欄位
const bangdong3EditMains = reactive([])
const bangdong3EditDrinks = reactive([])
const bangdong3EditSideDishes = reactive([])
const bangdong3EditBentoMains = reactive([])
const loadBangdong3Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1003')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdong3EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdong3EditMains.push(bangdong3EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdong3EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdong3EditDrinks.push(bangdong3EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdong3EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdong3EditSideDishes.push(bangdong3EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdong3EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdong3EditBentoMains.push(bangdong3EditBentoMain)
    }
    bangdong3MainName.value = mainMeal.name
    bangdong3DrinkName.value = Drink.name
    bangdong3SideDishName.value = sideDish.name
    bangdong3BentoMainName.value = bentoMain.name
    bangdong3Price.value = parseInt(response.data.price)
    bangdong3EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong3EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong3EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong3EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong3EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong3EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 滷牛便當
const bangdong4Mains = reactive([])
const bangdong4MainName = ref('')
const bangdong4Drinks = reactive([])
const bangdong4DrinkName = ref('')
const bangdong4SideDishes = reactive([])
const bangdong4SideDishName = ref('')
const bangdong4BentoMains = reactive([])
const bangdong4BentoMainName = ref('')
const bangdong4Name = ref('')
const bangdong4ProductId = ref('')
const bangdong4Price = ref(0)
const bangdong4MainMealId = ref('')
const bangdong4DrinkId = ref('')
const bangdong4SideDishId = ref('')
const bangdong4BentoMainId = ref('')
// 抓取滷牛便當主餐形成 input
const loadBangdong4 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1004')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values
    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdong4Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      bangdong4Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdong4SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      bangdong4BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    bangdong4Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong4SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong4BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong4Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong4SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong4BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })

    bangdong4Name.value = response.data.name
    bangdong4MainName.value = mainMeal.name
    bangdong4DrinkName.value = Drink.name
    bangdong4SideDishName.value = sideDish.name
    bangdong4BentoMainName.value = bentoMain.name
    bangdong4Price.value = parseInt(response.data.price)
    bangdong4ProductId.value = response.data.id
    bangdong4MainMealId.value = mainMeal.id
    bangdong4DrinkId.value = Drink.id
    bangdong4SideDishId.value = sideDish.id
    bangdong4BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(bangdong4Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong4Arbitrarily.value = Math.max(
    0,
    parseInt(bangdong4TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const bangdong4TotalQuantityPrice = computed(() => {
  const totalPrice = bangdong4TotalQuantity.value * bangdong4Price.value
  return totalPrice
})
const bangdong4optionPrice = computed(() => {
  let totalPrice = 0
  bangdong4Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong4SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdong4finalTotal = computed(() => {
  const totalPrice =
    bangdong4optionPrice.value + bangdong4TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdong4 = () => {
  if (bangdong4TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong4Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong4TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(bangdong4TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 4,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong4finalTotal.value,
    optionPrice: bangdong4optionPrice.value,
    totalPrice: bangdong4TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong4Comment.value
  }

  const totalQuantity = bangdong4TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const bangdong4Main of bangdong4Mains) {
    if (bangdong4Main.quantity > 0) {
      if (row.Main !== '') {
        row.Main += ''
      }
      row.Main +=
        bangdong4Main.name +
        'x' +
        parseInt(bangdong4Main.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: bangdong4MainMealId.value,
        productTypeName: bangdong4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong4Main.id,
        name: bangdong4Main.name,
        value: parseInt(bangdong4Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdong4Main.quantity = 0
      bangdong4TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdong4Drink of bangdong4Drinks) {
    if (bangdong4Drink.quantity > 0) {
      row.drinks +=
        bangdong4Drink.name +
        'x' +
        parseInt(bangdong4Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong4DrinkName.value,
        productTypeId: bangdong4DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong4Drink.id,
        name: bangdong4Drink.name,
        value: parseInt(bangdong4Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdong4Drink.quantity = 0
    }
  }
  // 配菜
  for (const bangdong4SideDish of bangdong4SideDishes) {
    if (bangdong4SideDish.quantity > 0) {
      row.sideDishes +=
        bangdong4SideDish.name +
        'x' +
        parseInt(bangdong4SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong4SideDishName.value,
        productTypeId: bangdong4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong4SideDish.is_default + ' '
      const input = {
        id: bangdong4SideDish.id,
        name: bangdong4SideDish.name,
        value: parseInt(bangdong4SideDish.quantity),
        is_default: bangdong4SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdong4SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdong4BentoMain of bangdong4BentoMains) {
    if (bangdong4BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong4BentoMain.name +
        'x' +
        parseInt(bangdong4BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdong4BentoMainName.value,
        productTypeId: bangdong4BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong4BentoMain.id,
        name: bangdong4BentoMain.name,
        value: parseInt(bangdong4BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdong4BentoMain.quantity = 0
    }
  }
  const productInput = {
    id: bangdong4ProductId.value,
    name: bangdong4Name.value,
    value: parseInt(totalQuantity),
    price: bangdong4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong4Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong4Arbitrarily.value).toString()
    const input = {
      id: 'bangdong4Arbitrarily',
      value: bangdong4Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong4Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showbangdong4.value = false
  bangdong4Arbitrarily.value = 0
}
// -----------------------------------------
const Resetbangdong4 = () => {
  bangdong4Mains.forEach((bangdong4Main) => {
    bangdong4Main.quantity = 0
  })
  bangdong4Drinks.forEach((bangdong4Drink) => {
    bangdong4Drink.quantity = 0
  })
  bangdong4SideDishes.forEach((bangdong4SideDish) => {
    bangdong4SideDish.quantity = 0
  })
  bangdong4BentoMains.forEach((bangdong4BentoMain) => {
    bangdong4BentoMain.quantity = 0
  })
  bangdong4TotalQuantity.value = 0
  bangdong4Arbitrarily.value = 0
  showbangdong4.value = false
}
// 修改欄位
const bangdong4EditMains = reactive([])
const bangdong4EditDrinks = reactive([])
const bangdong4EditSideDishes = reactive([])
const bangdong4EditBentoMains = reactive([])
const loadBangdong4Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1004')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdong4EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdong4EditMains.push(bangdong4EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdong4EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdong4EditDrinks.push(bangdong4EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdong4EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdong4EditSideDishes.push(bangdong4EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdong4EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdong4EditBentoMains.push(bangdong4EditBentoMain)
    }

    bangdong4MainName.value = mainMeal.name
    bangdong4DrinkName.value = Drink.name
    bangdong4SideDishName.value = sideDish.name
    bangdong4BentoMainName.value = bentoMain.name
    bangdong4Price.value = parseInt(response.data.price)
    bangdong4EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong4EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong4EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong4EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong4EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong4EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}
// 鮭魚便當

const bangdongSalmonMains = reactive([])
const bangdongSalmonMainName = ref('')
const bangdongSalmonDrinks = reactive([])
const bangdongSalmonDrinkName = ref('')
const bangdongSalmonSideDishes = reactive([])
const bangdongSalmonSideDishName = ref('')
const bangdongSalmonBentoMains = reactive([])
const bangdongSalmonBentoMainName = ref('')
const bangdongSalmonName = ref('')
const bangdongSalmonProductId = ref('')
const bangdongSalmonPrice = ref(0)
const bangdongSalmonMainMealId = ref('')
const bangdongSalmonDrinkId = ref('')
const bangdongSalmonSideDishId = ref('')
const bangdongSalmonBentoMainId = ref('')
const loadBangdongSalmon = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100
    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1080')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values
    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdongSalmonMains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      bangdongSalmonDrinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdongSalmonSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      bangdongSalmonBentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    bangdongSalmonMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongSalmonSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdongSalmonBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdongSalmonDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongSalmonSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongSalmonBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })

    bangdongSalmonName.value = response.data.name
    bangdongSalmonMainName.value = mainMeal.name
    bangdongSalmonDrinkName.value = Drink.name
    bangdongSalmonSideDishName.value = sideDish.name
    bangdongSalmonBentoMainName.value = bentoMain.name
    bangdongSalmonPrice.value = parseInt(response.data.price)
    bangdongSalmonProductId.value = response.data.id
    bangdongSalmonMainMealId.value = mainMeal.id
    bangdongSalmonDrinkId.value = Drink.id
    bangdongSalmonSideDishId.value = sideDish.id
    bangdongSalmonBentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}
watch(bangdongSalmonMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdongSalmonArbitrarily.value = Math.max(
    0,
    parseInt(bangdongSalmonTotalQuantity.value) - mainQuantityTotal
  )
})
const bangdongSalmonTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdongSalmonTotalQuantity.value * bangdongSalmonPrice.value

  return totalPrice
})
const bangdongSalmonoptionPrice = computed(() => {
  let totalPrice = 0
  bangdongSalmonDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdongSalmonSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdongSalmonfinalTotal = computed(() => {
  const totalPrice =
    bangdongSalmonoptionPrice.value + bangdongSalmonTotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdongSalmon = () => {
  if (bangdongSalmonTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdongSalmonMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdongSalmonTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdongSalmonTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 13,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdongSalmonfinalTotal.value,
    optionPrice: bangdongSalmonoptionPrice.value,
    totalPrice: bangdongSalmonTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongSalmonComment.value
  }

  const totalQuantity = bangdongSalmonTotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const bangdongSalmonMain of bangdongSalmonMains) {
    if (bangdongSalmonMain.quantity > 0) {
      row.Main +=
        bangdongSalmonMain.name +
        'x' +
        parseInt(bangdongSalmonMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: bangdongSalmonMainMealId.value,
        productTypeName: bangdongSalmonMainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongSalmonMain.id,
        name: bangdongSalmonMain.name,
        value: parseInt(bangdongSalmonMain.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdongSalmonMain.quantity = 0
      bangdongSalmonTotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdongSalmonDrink of bangdongSalmonDrinks) {
    if (bangdongSalmonDrink.quantity > 0) {
      row.drinks +=
        bangdongSalmonDrink.name +
        'x' +
        parseInt(bangdongSalmonDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongSalmonDrinkName.value,
        productTypeId: bangdongSalmonDrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSalmonDrink.id,
        name: bangdongSalmonDrink.name,
        value: parseInt(bangdongSalmonDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdongSalmonDrink.quantity = 0
    }
  }
  // 配菜
  for (const bangdongSalmonSideDish of bangdongSalmonSideDishes) {
    if (bangdongSalmonSideDish.quantity > 0) {
      row.sideDishes +=
        bangdongSalmonSideDish.name +
        'x' +
        parseInt(bangdongSalmonSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdongSalmonSideDishName.value,
        productTypeId: bangdongSalmonSideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongSalmonSideDish.is_default + ' '
      const input = {
        id: bangdongSalmonSideDish.id,
        name: bangdongSalmonSideDish.name,
        value: parseInt(bangdongSalmonSideDish.quantity),
        is_default: bangdongSalmonSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdongSalmonSideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdongSalmonBentoMain of bangdongSalmonBentoMains) {
    if (bangdongSalmonBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongSalmonBentoMain.name +
        'x' +
        parseInt(bangdongSalmonBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdongSalmonBentoMainName.value,
        productTypeId: bangdongSalmonBentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongSalmonBentoMain.id,
        name: bangdongSalmonBentoMain.name,
        value: parseInt(bangdongSalmonBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdongSalmonBentoMain.quantity = 0
    }
  }
  const productInput = {
    id: bangdongSalmonProductId.value,
    name: bangdongSalmonName.value,
    value: parseInt(totalQuantity),
    price: bangdongSalmonPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongSalmonComment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongSalmonArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdongSalmonArbitrarily.value).toString()
    const input = {
      id: 'bangdongSalmonArbitrarily',
      value: bangdongSalmonArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongSalmonName.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showbangdongSalmon.value = false
  bangdongSalmonArbitrarily.value = 0
}

// 修改欄位

const bangdongSalmonEditMains = reactive([])
const bangdongSalmonEditDrinks = reactive([])
const bangdongSalmonEditSideDishes = reactive([])
const bangdongSalmonEditBentoMains = reactive([])
const loadBangdongSalmonEdit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1080')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdongSalmonEditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdongSalmonEditMains.push(bangdongSalmonEditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdongSalmonEditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdongSalmonEditDrinks.push(bangdongSalmonEditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdongSalmonEditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdongSalmonEditSideDishes.push(bangdongSalmonEditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdongSalmonEditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdongSalmonEditBentoMains.push(bangdongSalmonEditBentoMain)
    }

    bangdongSalmonMainName.value = mainMeal.name
    bangdongSalmonDrinkName.value = Drink.name
    bangdongSalmonSideDishName.value = sideDish.name
    bangdongSalmonBentoMainName.value = bentoMain.name
    bangdongSalmonPrice.value = parseInt(response.data.price)
    bangdongSalmonEditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongSalmonEditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdongSalmonEditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdongSalmonEditDrinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    bangdongSalmonEditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    bangdongSalmonEditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 牛肉丸便當
const bangdong5Mains = reactive([])
const bangdong5MainName = ref('')
const bangdong5Drinks = reactive([])
const bangdong5DrinkName = ref('')
const bangdong5SideDishes = reactive([])
const bangdong5SideDishName = ref('')
const bangdong5BentoMains = reactive([])
const bangdong5BentoMainName = ref('')
const bangdong5Name = ref('')
const bangdong5ProductId = ref('')
const bangdong5MainMealId = ref('')
const bangdong5DrinkId = ref('')
const bangdong5SideDishId = ref('')
const bangdong5BentoMainId = ref('')
const bangdong5Price = ref(0)
// 抓取牛肉丸便當主餐形成 input
const loadBangdong5 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1657')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdong5Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdong5Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdong5SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      // bangdong5BentoMainId.value = bentoMainValue.id;
      console.log(bentoMainValue.id, bangdong5BentoMainId.value)
      bangdong5BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化

    bangdong5Name.value = response.data.name
    bangdong5MainName.value = mainMeal.name
    bangdong5DrinkName.value = Drink.name
    bangdong5SideDishName.value = sideDish.name
    bangdong5BentoMainName.value = bentoMain.name
    bangdong5Price.value = parseInt(response.data.price)
    bangdong5ProductId.value = response.data.id
    bangdong5MainMealId.value = mainMeal.id
    bangdong5DrinkId.value = Drink.id
    bangdong5SideDishId.value = sideDish.id
    bangdong5BentoMainId.value = bentoMain.id
    bangdong5Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong5SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong5BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong5Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong5SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong5BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(bangdong5Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong5Arbitrarily.value = Math.max(
    0,
    parseInt(bangdong5TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const bangdong5TotalQuantityPrice = computed(() => {
  const totalPrice = bangdong5TotalQuantity.value * bangdong5Price.value
  return totalPrice
})
const bangdong5optionPrice = computed(() => {
  let totalPrice = 0
  bangdong5Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong5SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdong5finalTotal = computed(() => {
  const totalPrice =
    bangdong5optionPrice.value + bangdong5TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdong5 = () => {
  if (bangdong5TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong5Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong5TotalQuantity.value)
  if (calculatedTotalQuantity !== parseInt(bangdong5TotalQuantity.value, 10)) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 21,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: bangdong5finalTotal.value,
    optionPrice: bangdong5optionPrice.value,
    totalPrice: bangdong5TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong5Comment.value
  }
  row.quantity = bangdong5TotalQuantity.value
  const totalQuantity = bangdong5TotalQuantity.value
  // 主餐
  for (const bangdong5Main of bangdong5Mains) {
    if (bangdong5Main.quantity > 0) {
      row.Main +=
        bangdong5Main.name +
        '  x  ' +
        parseInt(bangdong5Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong5MainMealId.value,
        productTypeName: bangdong5MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong5Main.id,
        name: bangdong5Main.name,
        value: parseInt(bangdong5Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdong5Main.quantity = 0
      bangdong5TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdong5Drink of bangdong5Drinks) {
    if (bangdong5Drink.quantity > 0) {
      row.drinks +=
        bangdong5Drink.name +
        'x' +
        parseInt(bangdong5Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong5DrinkName.value,
        productTypeId: bangdong5DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong5Drink.id,
        name: bangdong5Drink.name,
        value: parseInt(bangdong5Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdong5Drink.quantity = 0
    }
  }
  // 配菜
  for (const bangdong5SideDish of bangdong5SideDishes) {
    if (bangdong5SideDish.quantity > 0) {
      row.sideDishes +=
        bangdong5SideDish.name +
        'x' +
        parseInt(bangdong5SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong5SideDishName.value,
        productTypeId: bangdong5SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong5SideDish.is_default + ' '
      const input = {
        id: bangdong5SideDish.id,
        name: bangdong5SideDish.name,
        value: parseInt(bangdong5SideDish.quantity),
        is_default: bangdong5SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdong5SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdong5BentoMain of bangdong5BentoMains) {
    if (bangdong5BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong5BentoMain.name +
        ' x ' +
        parseInt(bangdong5BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdong5BentoMainName.value,
        productTypeId: bangdong5BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdong5BentoMain.id,
        name: bangdong5BentoMain.name,
        value: parseInt(bangdong5BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdong5BentoMain.quantity = 0
    }
  }
  // 保留 牛肉丸便當、1657、數量
  const productInput = {
    id: bangdong5ProductId.value,
    name: bangdong5Name.value,
    value: parseInt(totalQuantity),
    price: bangdong5Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong5Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong5Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ' , '
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong5Arbitrarily.value).toString()
    const input = {
      id: 'bangdong5Arbitrarily',
      value: bangdong5Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong5Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  meal.tableRows2.push(row)
  showbangdong5.value = false
  bangdong5Arbitrarily.value = 0
}
// -----------------------------------------
const Resetbangdong5 = () => {
  bangdong5Mains.forEach((bangdong5Main) => {
    bangdong5Main.quantity = 0
  })
  bangdong5Drinks.forEach((bangdong5Drink) => {
    bangdong5Drink.quantity = 0
  })
  bangdong5SideDishes.forEach((bangdong5SideDish) => {
    bangdong5SideDish.quantity = 0
  })
  bangdong5BentoMains.forEach((bangdong5BentoMain) => {
    bangdong5BentoMain.quantity = 0
  })
  bangdong5TotalQuantity.value = 0
  bangdong5Arbitrarily.value = 0
  showbangdong5.value = false
}
// 修改欄位
const bangdong5EditMains = reactive([])
const bangdong5EditDrinks = reactive([])
const bangdong5EditSideDishes = reactive([])
const bangdong5EditBentoMains = reactive([])
const loadBangdong5Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1657')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdong5EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdong5EditMains.push(bangdong5EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdong5EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdong5EditDrinks.push(bangdong5EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdong5EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdong5EditSideDishes.push(bangdong5EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdong5EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdong5EditBentoMains.push(bangdong5EditBentoMain)
    }
    bangdong5MainName.value = mainMeal.name
    bangdong5DrinkName.value = Drink.name
    bangdong5SideDishName.value = sideDish.name
    bangdong5BentoMainName.value = bentoMain.name
    bangdong5Price.value = parseInt(response.data.price)
    bangdong5EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdong5EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdong5EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdong5EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong5EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdong5EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 素食便當 125
const bangdongVegetarian1Mains = reactive([])
const bangdongVegetarian1MainName = ref('')
const bangdongVegetarian1Drinks = reactive([])
const bangdongVegetarian1DrinkName = ref('')
const bangdongVegetarian1SideDishes = reactive([])
const bangdongVegetarian1SideDishName = ref('')
const bangdongVegetarian1BentoMains = reactive([])
const bangdongVegetarian1BentoMainName = ref('')
const bangdongVegetarian1Name = ref('')
const bangdongVegetarian1Price = ref('')
const bangdongVegetarian1ProductId = ref('')
const bangdongVegetarian1MainMealId = ref('')
const bangdongVegetarian1DrinkId = ref('')
const bangdongVegetarian1SideDishId = ref('')
const bangdongVegetarian1BentoMainId = ref('')
// 抓取素食便當 125 主餐形成 input
const loadBangdongVegetarian1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1066')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdongVegetarian1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdongVegetarian1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdongVegetarian1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      bangdongVegetarian1BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    bangdongVegetarian1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongVegetarian1SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdongVegetarian1BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdongVegetarian1Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian1SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian1BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian1Name.value = response.data.name
    bangdongVegetarian1MainName.value = mainMeal.name
    bangdongVegetarian1DrinkName.value = Drink.name
    bangdongVegetarian1SideDishName.value = sideDish.name
    bangdongVegetarian1BentoMainName.value = bentoMain.name
    bangdongVegetarian1Price.value = parseInt(response.data.price)
    bangdongVegetarian1ProductId.value = response.data.id
    bangdongVegetarian1MainMealId.value = mainMeal.id
    bangdongVegetarian1DrinkId.value = Drink.id
    bangdongVegetarian1SideDishId.value = sideDish.id
    bangdongVegetarian1BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(bangdongVegetarian1Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdongVegetarian1Arbitrarily.value = Math.max(
    0,
    parseInt(bangdongVegetarian1TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const bangdongVegetarian1TotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdongVegetarian1TotalQuantity.value * bangdongVegetarian1Price.value

  return totalPrice
})
const bangdongVegetarian1optionPrice = computed(() => {
  let totalPrice = 0
  bangdongVegetarian1Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdongVegetarian1SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdongVegetarian1finalTotal = computed(() => {
  const totalPrice =
    bangdongVegetarian1optionPrice.value +
    bangdongVegetarian1TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdongVegetarian1 = () => {
  if (bangdongVegetarian1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdongVegetarian1Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdongVegetarian1TotalQuantity.value)
  if (
    calculatedTotalQuantity !==
    parseInt(bangdongVegetarian1TotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 11,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: 0,
    price: bangdongVegetarian1finalTotal.value,
    optionPrice: bangdongVegetarian1optionPrice.value,
    totalPrice: bangdongVegetarian1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongVegetarian1Comment.value
  }

  const totalQuantity = bangdongVegetarian1TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const bangdongVegetarian1Main of bangdongVegetarian1Mains) {
    if (bangdongVegetarian1Main.quantity > 0) {
      row.Main +=
        bangdongVegetarian1Main.name +
        'x' +
        parseInt(bangdongVegetarian1Main.quantity) +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdongVegetarian1MainMealId.value,
        productTypeName: bangdongVegetarian1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongVegetarian1Main.id,
        name: bangdongVegetarian1Main.name,
        value: parseInt(bangdongVegetarian1Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdongVegetarian1Main.quantity = 0
      bangdongVegetarian1TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdongVegetarian1Drink of bangdongVegetarian1Drinks) {
    if (bangdongVegetarian1Drink.quantity > 0) {
      row.drinks +=
        bangdongVegetarian1Drink.name +
        'x' +
        parseInt(bangdongVegetarian1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongVegetarian1DrinkName.value,
        productTypeId: bangdongVegetarian1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian1Drink.id,
        name: bangdongVegetarian1Drink.name,
        value: parseInt(bangdongVegetarian1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdongVegetarian1Drink.quantity = 0
    }
  }
  // 配菜
  for (const bangdongVegetarian1SideDish of bangdongVegetarian1SideDishes) {
    if (bangdongVegetarian1SideDish.quantity > 0) {
      row.sideDishes +=
        bangdongVegetarian1SideDish.name +
        'x' +
        parseInt(bangdongVegetarian1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdongVegetarian1SideDishName.value,
        productTypeId: bangdongVegetarian1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongVegetarian1SideDish.is_default + ' '
      const input = {
        id: bangdongVegetarian1SideDish.id,
        name: bangdongVegetarian1SideDish.name,
        value: parseInt(bangdongVegetarian1SideDish.quantity),
        is_default: bangdongVegetarian1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdongVegetarian1SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdongVegetarian1BentoMain of bangdongVegetarian1BentoMains) {
    if (bangdongVegetarian1BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongVegetarian1BentoMain.name +
        'x' +
        parseInt(bangdongVegetarian1BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdongVegetarian1BentoMainName.value,
        productTypeId: bangdongVegetarian1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongVegetarian1BentoMain.id,
        name: bangdongVegetarian1BentoMain.name,
        value: parseInt(bangdongVegetarian1BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdongVegetarian1BentoMain.quantity = 0
    }
  }
  // 保留 素食便當 125、1003、數量
  const productInput = {
    id: bangdongVegetarian1ProductId.value,
    name: bangdongVegetarian1Name.value,
    value: parseInt(totalQuantity),
    price: bangdongVegetarian1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongVegetarian1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongVegetarian1Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdongVegetarian1Arbitrarily.value).toString()
    const input = {
      id: 'bangdongVegetarian1Arbitrarily',
      value: bangdongVegetarian1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongVegetarian1Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  console.log(row)
  showbangdongVegetarian1.value = false
  bangdongVegetarian1Arbitrarily.value = 0
}
// ------------------------------------------------------
const ResetbangdongVegetarian1 = () => {
  bangdongVegetarian1Mains.forEach((bangdongVegetarian1Main) => {
    bangdongVegetarian1Main.quantity = 0
  })
  bangdongVegetarian1Drinks.forEach((bangdongVegetarian1Drink) => {
    bangdongVegetarian1Drink.quantity = 0
  })
  bangdongVegetarian1SideDishes.forEach((bangdongVegetarian1SideDish) => {
    bangdongVegetarian1SideDish.quantity = 0
  })
  bangdongVegetarian1BentoMains.forEach((bangdongVegetarian1BentoMain) => {
    bangdongVegetarian1BentoMain.quantity = 0
  })
  bangdongVegetarian1TotalQuantity.value = 0
  bangdongVegetarian1Arbitrarily.value = 0
  showbangdongVegetarian1.value = false
}
// 修改欄位
const bangdongVegetarian1EditMains = reactive([])
const bangdongVegetarian1EditDrinks = reactive([])
const bangdongVegetarian1EditSideDishes = reactive([])
const bangdongVegetarian1EditBentoMains = reactive([])
const loadBangdongVegetarian1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1066')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdongVegetarian1EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdongVegetarian1EditMains.push(bangdongVegetarian1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdongVegetarian1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdongVegetarian1EditDrinks.push(bangdongVegetarian1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdongVegetarian1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdongVegetarian1EditSideDishes.push(bangdongVegetarian1EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdongVegetarian1EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdongVegetarian1EditBentoMains.push(bangdongVegetarian1EditBentoMain)
    }
    bangdongVegetarian1MainName.value = mainMeal.name
    bangdongVegetarian1DrinkName.value = Drink.name
    bangdongVegetarian1SideDishName.value = sideDish.name
    bangdongVegetarian1BentoMainName.value = bentoMain.name
    bangdongVegetarian1Price.value = parseInt(response.data.price)
    bangdongVegetarian1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongVegetarian1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdongVegetarian1EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdongVegetarian1EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian1EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian1EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 素食便當 150
const bangdongVegetarian2Mains = reactive([])
const bangdongVegetarian2MainName = ref('')
const bangdongVegetarian2Drinks = reactive([])
const bangdongVegetarian2DrinkName = ref('')
const bangdongVegetarian2SideDishes = reactive([])
const bangdongVegetarian2SideDishName = ref('')
const bangdongVegetarian2BentoMains = reactive([])
const bangdongVegetarian2BentoMainName = ref('')
const bangdongVegetarian2Name = ref('')
const bangdongVegetarian2Price = ref('')
const bangdongVegetarian2ProductId = ref('')
const bangdongVegetarian2MainMealId = ref('')
const bangdongVegetarian2DrinkId = ref('')
const bangdongVegetarian2SideDishId = ref('')
const bangdongVegetarian2BentoMainId = ref('')
// 抓取素食便當 125 主餐形成 input
const loadBangdongVegetarian2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1067')

    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdongVegetarian2Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdongVegetarian2Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdongVegetarian2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      bangdongVegetarian2BentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default
      })
    }
    // 監聽主餐的數量變化
    bangdongVegetarian2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongVegetarian2SideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdongVegetarian2BentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdongVegetarian2Drinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian2BentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian2Name.value = response.data.name
    bangdongVegetarian2MainName.value = mainMeal.name
    bangdongVegetarian2DrinkName.value = Drink.name
    bangdongVegetarian2SideDishName.value = sideDish.name
    bangdongVegetarian2BentoMainName.value = bentoMain.name
    bangdongVegetarian2Price.value = parseInt(response.data.price)
    bangdongVegetarian2ProductId.value = response.data.id
    bangdongVegetarian2MainMealId.value = mainMeal.id
    bangdongVegetarian2DrinkId.value = Drink.id
    bangdongVegetarian2SideDishId.value = sideDish.id
    bangdongVegetarian2BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}
// 計算總數量
watch(bangdongVegetarian2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdongVegetarian2Arbitrarily.value = Math.max(
    0,
    parseInt(bangdongVegetarian2TotalQuantity.value) - mainQuantityTotal
  )
})
// 計算總價格
const bangdongVegetarian2TotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdongVegetarian2TotalQuantity.value * bangdongVegetarian2Price.value
  return totalPrice
})
const bangdongVegetarian2optionPrice = computed(() => {
  let totalPrice = 0
  bangdongVegetarian2Drinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdongVegetarian2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdongVegetarian2finalTotal = computed(() => {
  const totalPrice =
    bangdongVegetarian2optionPrice.value +
    bangdongVegetarian2TotalQuantityPrice.value
  return totalPrice
})
// 將資料推進 tableRows
const submitBangdongVegetarian2 = () => {
  if (bangdongVegetarian2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdongVegetarian2Mains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdongVegetarian2TotalQuantity.value)
  if (
    calculatedTotalQuantity !==
    parseInt(bangdongVegetarian2TotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 12,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    price: bangdongVegetarian2finalTotal.value,
    optionPrice: bangdongVegetarian2optionPrice.value,
    totalPrice: bangdongVegetarian2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongVegetarian2Comment.value
  }

  const totalQuantity = bangdongVegetarian2TotalQuantity.value
  row.quantity = totalQuantity
  // 主餐
  for (const bangdongVegetarian2Main of bangdongVegetarian2Mains) {
    if (bangdongVegetarian2Main.quantity > 0) {
      if (row.Main !== '') {
        row.Main += ','
      }

      row.Main +=
        bangdongVegetarian2Main.name +
        'x' +
        parseInt(bangdongVegetarian2Main.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdongVegetarian2MainMealId.value,
        productTypeName: bangdongVegetarian2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongVegetarian2Main.id,
        name: bangdongVegetarian2Main.name,
        value: parseInt(bangdongVegetarian2Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdongVegetarian2Main.quantity = 0
      bangdongVegetarian2TotalQuantity.value = 0
    }
  }
  // 飲料
  for (const bangdongVegetarian2Drink of bangdongVegetarian2Drinks) {
    if (bangdongVegetarian2Drink.quantity > 0) {
      row.drinks +=
        bangdongVegetarian2Drink.name +
        'x' +
        parseInt(bangdongVegetarian2Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongVegetarian2DrinkName.value,
        productTypeId: bangdongVegetarian2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian2Drink.id,
        name: bangdongVegetarian2Drink.name,
        value: parseInt(bangdongVegetarian2Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdongVegetarian2Drink.quantity = 0
    }
  }
  // 配菜
  for (const bangdongVegetarian2SideDish of bangdongVegetarian2SideDishes) {
    if (bangdongVegetarian2SideDish.quantity > 0) {
      row.sideDishes +=
        bangdongVegetarian2SideDish.name +
        'x' +
        parseInt(bangdongVegetarian2SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdongVegetarian2SideDishName.value,
        productTypeId: bangdongVegetarian2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongVegetarian2SideDish.is_default + ' '
      const input = {
        id: bangdongVegetarian2SideDish.id,
        name: bangdongVegetarian2SideDish.name,
        value: parseInt(bangdongVegetarian2SideDish.quantity),
        is_default: bangdongVegetarian2SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdongVegetarian2SideDish.quantity = 0
    }
  }
  // 副主餐
  for (const bangdongVegetarian2BentoMain of bangdongVegetarian2BentoMains) {
    if (bangdongVegetarian2BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongVegetarian2BentoMain.name +
        'x' +
        parseInt(bangdongVegetarian2BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdongVegetarian2BentoMainName.value,
        productTypeId: bangdongVegetarian2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongVegetarian2BentoMain.id,
        name: bangdongVegetarian2BentoMain.name,
        value: parseInt(bangdongVegetarian2BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdongVegetarian2BentoMain.quantity = 0
    }
  }
  // 保留 素食便當 125、1003、數量
  const productInput = {
    id: bangdongVegetarian2ProductId.value,
    name: bangdongVegetarian2Name.value,
    value: parseInt(totalQuantity),
    price: bangdongVegetarian2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongVegetarian2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongVegetarian2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdongVegetarian2Arbitrarily.value).toString()
    const input = {
      id: 'bangdongVegetarian2Arbitrarily',
      value: bangdongVegetarian2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongVegetarian2Name.value + totalQuantity + '份'
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showbangdongVegetarian2.value = false
  bangdongVegetarian2Arbitrarily.value = 0
}
// ---------------------------------------------------
const ResetbangdongVegetarian2 = () => {
  bangdongVegetarian2Mains.forEach((bangdongVegetarian2Main) => {
    bangdongVegetarian2Main.quantity = 0
  })
  bangdongVegetarian2Drinks.forEach((bangdongVegetarian2Drink) => {
    bangdongVegetarian2Drink.quantity = 0
  })
  bangdongVegetarian2SideDishes.forEach((bangdongVegetarian2SideDish) => {
    bangdongVegetarian2SideDish.quantity = 0
  })
  bangdongVegetarian2BentoMains.forEach((bangdongVegetarian2BentoMain) => {
    bangdongVegetarian2BentoMain.quantity = 0
  })
  bangdongVegetarian1TotalQuantity.value = 0
  bangdongVegetarian1Arbitrarily.value = 0
  showbangdongVegetarian2.value = false
}
// 修改欄位
const bangdongVegetarian2EditMains = reactive([])
const bangdongVegetarian2EditDrinks = reactive([])
const bangdongVegetarian2EditSideDishes = reactive([])
const bangdongVegetarian2EditBentoMains = reactive([])
const loadBangdongVegetarian2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1067')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdongVegetarian2EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdongVegetarian2EditMains.push(bangdongVegetarian2EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdongVegetarian2EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0,
        price: DrinkValue.price
      }
      bangdongVegetarian2EditDrinks.push(bangdongVegetarian2EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdongVegetarian2EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        }
        bangdongVegetarian2EditSideDishes.push(bangdongVegetarian2EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdongVegetarian2EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdongVegetarian2EditBentoMains.push(bangdongVegetarian2EditBentoMain)
    }
    bangdongVegetarian2MainName.value = mainMeal.name
    bangdongVegetarian2DrinkName.value = Drink.name
    bangdongVegetarian2SideDishName.value = sideDish.name
    bangdongVegetarian2BentoMainName.value = bentoMain.name
    bangdongVegetarian2Price.value = parseInt(response.data.price)
    // 監聽主餐的數量變化
    bangdongVegetarian2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            // 配菜的數量跟著主餐的數量變化
            bangdongVegetarian1EditSideDishes.forEach((sideDish) => {
              const diff = Number(newVal) - Number(oldVal)
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
          // 副主餐的數量跟著主餐的數量變化
          bangdongVegetarian2EditBentoMains.forEach((bentoMain) => {
            const diff = Number(newVal) - Number(oldVal)
            if (bentoMain.is_default) {
              const newQuantity = Number(bentoMain.quantity) + diff
              // 確保副主餐數量不會變成負數
              bentoMain.quantity = newQuantity >= 0 ? newQuantity : 0
            }
          })
        }
      )
    })
    bangdongVegetarian2EditDrinks.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongVegetarian2EditBentoMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// ---------------------------------------------------------------------
// 刈包會議盒餐
const GuabaoLunchbox2Mains = reactive([])
const GuabaoLunchbox2SideDishes = reactive([])
const GuabaoLunchbox2SideDishName = ref('')
const GuabaoLunchbox2DrinkName = ref('')
const GuabaoLunchbox2MainName = ref('')
const GuabaoLunchbox2Name = ref('')
const GuabaoLunchbox2Price = ref(0)
const GuabaoLunchbox2MainMealId = ref('')
const GuabaoLunchbox2ProductId = ref('')
const GuabaoLunchbox2DrinkId = ref('')
const GuabaoLunchbox2SideDishId = ref('')

const loadGuabaoLunchbox2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1678')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        GuabaoLunchbox2Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoLunchbox2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    GuabaoLunchbox2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)

            GuabaoLunchbox2SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    GuabaoLunchbox2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoLunchbox2Name.value = response.data.name
    GuabaoLunchbox2MainName.value = mainMeal.name
    GuabaoLunchbox2DrinkName.value = drink.name
    GuabaoLunchbox2SideDishName.value = sideDish.name
    GuabaoLunchbox2Price.value = parseInt(response.data.price)
    GuabaoLunchbox2MainMealId.value = mainMeal.id
    GuabaoLunchbox2ProductId.value = response.data.id
    GuabaoLunchbox2DrinkId.value = drink.id
    GuabaoLunchbox2SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算任佩
watch(GuabaoLunchbox2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoLunchbox2Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoLunchbox2TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoLunchbox2TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoLunchbox2TotalQuantity.value * GuabaoLunchbox2Price.value
  return totalPrice
})
const GuabaoLunchbox2optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoLunchbox2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoLunchbox2finalTotal = computed(() => {
  const totalPrice =
    GuabaoLunchbox2TotalQuantityPrice.value + GuabaoLunchbox2optionPrice.value
  return totalPrice
})
const submitGuabaoLunchbox2 = () => {
  if (GuabaoLunchbox2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of GuabaoLunchbox2Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== GuabaoLunchbox2TotalQuantity.value ||
    totalDrinkQuantity !== GuabaoLunchbox2TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 33,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoLunchbox2finalTotal.value,
    optionPrice: GuabaoLunchbox2optionPrice.value,
    totalPrice: GuabaoLunchbox2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoLunchbox2Comment.value
  }
  const totalQuantity = GuabaoLunchbox2TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of GuabaoLunchbox2Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox2DrinkName.value,
            productTypeId: GuabaoLunchbox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox2MainMealId.value,
        productTypeName: GuabaoLunchbox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox2DrinkName.value,
            productTypeId: GuabaoLunchbox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox2MainMealId.value,
        productTypeName: GuabaoLunchbox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of GuabaoLunchbox2SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoLunchbox2SideDishName.value,
        productTypeId: GuabaoLunchbox2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 刈包會議盒餐、1005、數量
  const productInput = {
    id: GuabaoLunchbox2ProductId.value,
    name: GuabaoLunchbox2Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoLunchbox2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoLunchbox2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoLunchbox2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoLunchbox2Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoLunchbox2Arbitrarily',
      value: GuabaoLunchbox2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoLunchbox2Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showGuabaoLunchbox2.value = false
    GuabaoLunchbox2Arbitrarily.value = 0
    GuabaoLunchbox2TotalQuantity.value = 0
  }
}
// ----------------------------------------
const ResetGuabaoLunchbox2 = () => {
  for (const option of GuabaoLunchbox2Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of GuabaoLunchbox2SideDishes) {
    sideDish.quantity = 0
  }
  GuabaoLunchbox2TotalQuantity.value = 0
  GuabaoLunchbox2Arbitrarily.value = 0
  showGuabaoLunchbox2.value = false
}
// editDialog6 導入欄位
const GuabaoLunchbox2EditMains = reactive([])
const GuabaoLunchbox2EditSideDishes = reactive([])
const GuabaoLunchbox2EditSideDishName = ref('')
const GuabaoLunchbox2EditDrinkName = ref('')
const GuabaoLunchbox2EditMainName = ref('')
const GuabaoLunchbox2EditName = ref('')

const loadGuabaoLunchbox2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1678')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        GuabaoLunchbox2EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoLunchbox2EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    GuabaoLunchbox2EditName.value = response.data.name
    GuabaoLunchbox2EditMainName.value = mainMeal.name
    GuabaoLunchbox2EditDrinkName.value = drink.name
    GuabaoLunchbox2EditSideDishName.value = sideDish.name
    // 監聽主餐的數量變化
    GuabaoLunchbox2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            GuabaoLunchbox2EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    GuabaoLunchbox2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 刈包貴賓盒餐
const GuabaoLunchbox3Mains = reactive([])
const GuabaoLunchbox3SideDishes = reactive([])
const GuabaoLunchbox3SideDishName = ref('')
const GuabaoLunchbox3DrinkName = ref('')
const GuabaoLunchbox3MainName = ref('')
const GuabaoLunchbox3Name = ref('')
const GuabaoLunchbox3Price = ref(0)
const GuabaoLunchbox3ProductId = ref('')
const GuabaoLunchbox3MainMealId = ref('')
const GuabaoLunchbox3DrinkId = ref('')
const GuabaoLunchbox3SideDishId = ref('')

const loadGuabaoLunchbox3 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1679')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        GuabaoLunchbox3Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoLunchbox3SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    GuabaoLunchbox3Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)
            GuabaoLunchbox3SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    GuabaoLunchbox3SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoLunchbox3Name.value = response.data.name
    GuabaoLunchbox3MainName.value = mainMeal.name
    GuabaoLunchbox3DrinkName.value = drink.name
    GuabaoLunchbox3SideDishName.value = sideDish.name
    GuabaoLunchbox3Price.value = parseInt(response.data.price)
    GuabaoLunchbox3ProductId.value = response.data.id
    GuabaoLunchbox3MainMealId.value = mainMeal.id
    GuabaoLunchbox3DrinkId.value = drink.id
    GuabaoLunchbox3SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoLunchbox3Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoLunchbox3Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoLunchbox3TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoLunchbox3TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoLunchbox3TotalQuantity.value * GuabaoLunchbox3Price.value
  return totalPrice
})
const GuabaoLunchbox3optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoLunchbox3SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoLunchbox3finalTotal = computed(() => {
  const totalPrice =
    GuabaoLunchbox3TotalQuantityPrice.value + GuabaoLunchbox3optionPrice.value
  return totalPrice
})
const submitGuabaoLunchbox3 = () => {
  if (GuabaoLunchbox3TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of GuabaoLunchbox3Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== GuabaoLunchbox3TotalQuantity.value ||
    totalDrinkQuantity !== GuabaoLunchbox3TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 34,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: GuabaoLunchbox3finalTotal.value,
    optionPrice: GuabaoLunchbox3optionPrice.value,
    totalPrice: GuabaoLunchbox3TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoLunchbox3Comment.value
  }
  const totalQuantity = GuabaoLunchbox3TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of GuabaoLunchbox3Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox3DrinkName.value,
            productTypeId: GuabaoLunchbox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox3MainMealId.value,
        productTypeName: GuabaoLunchbox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox3DrinkName.value,
            productTypeId: GuabaoLunchbox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox3MainMealId.value,
        productTypeName: GuabaoLunchbox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of GuabaoLunchbox3SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoLunchbox3SideDishName.value,
        productTypeId: GuabaoLunchbox3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 刈包貴賓盒餐、1679、數量
  const productInput = {
    id: GuabaoLunchbox3ProductId.value,
    name: GuabaoLunchbox3Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoLunchbox3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoLunchbox3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoLunchbox3Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoLunchbox3Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoLunchbox3Arbitrarily',
      value: GuabaoLunchbox3Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoLunchbox3Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showGuabaoLunchbox3.value = false
    GuabaoLunchbox3Arbitrarily.value = 0
    GuabaoLunchbox3TotalQuantity.value = 0
  }
}
// reset-----------------------------------------
const ResetGuabaoLunchbox3 = () => {
  for (const option of GuabaoLunchbox3Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of GuabaoLunchbox3SideDishes) {
    sideDish.quantity = 0
  }
  GuabaoLunchbox3TotalQuantity.value = 0
  GuabaoLunchbox3Arbitrarily.value = 0
  showGuabaoLunchbox3.value = false
}
// editDialog7 導入欄位
const GuabaoLunchbox3EditMains = reactive([])
const GuabaoLunchbox3EditSideDishes = reactive([])
const GuabaoLunchbox3EditSideDishName = ref('')
const GuabaoLunchbox3EditDrinkName = ref('')
const GuabaoLunchbox3EditMainName = ref('')
const GuabaoLunchbox3EditName = ref('')

const loadGuabaoLunchbox3Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1679')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        GuabaoLunchbox3EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoLunchbox3EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    GuabaoLunchbox3EditName.value = response.data.name
    GuabaoLunchbox3EditMainName.value = mainMeal.name
    GuabaoLunchbox3EditDrinkName.value = drink.name
    GuabaoLunchbox3EditSideDishName.value = sideDish.name
    GuabaoLunchbox3EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            GuabaoLunchbox3EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
  } catch (error) {
    console.error(error)
  }
}

// 刈包首席盒餐
const GuabaoLunchbox4Mains = reactive([])
const GuabaoLunchbox4SideDishes = reactive([])
const GuabaoLunchbox4SideDishName = ref('')
const GuabaoLunchbox4DrinkName = ref('')
const GuabaoLunchbox4MainName = ref('')
const GuabaoLunchbox4Name = ref('')
const GuabaoLunchbox4Price = ref(0)
const GuabaoLunchbox4ProductId = ref('')
const GuabaoLunchbox4MainMealId = ref('')
const GuabaoLunchbox4DrinkId = ref('')
const GuabaoLunchbox4SideDishId = ref('')

const loadGuabaoLunchbox4 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1680')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        GuabaoLunchbox4Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoLunchbox4SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    GuabaoLunchbox4Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)
            GuabaoLunchbox4SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    GuabaoLunchbox4SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    GuabaoLunchbox4Name.value = response.data.name
    GuabaoLunchbox4MainName.value = mainMeal.name
    GuabaoLunchbox4DrinkName.value = drink.name
    GuabaoLunchbox4SideDishName.value = sideDish.name
    GuabaoLunchbox4Price.value = parseInt(response.data.price)
    GuabaoLunchbox4ProductId.value = response.data.id
    GuabaoLunchbox4MainMealId.value = mainMeal.id
    GuabaoLunchbox4DrinkId.value = drink.id
    GuabaoLunchbox4SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(GuabaoLunchbox4Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoLunchbox4Arbitrarily.value = Math.max(
    0,
    parseInt(GuabaoLunchbox4TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const GuabaoLunchbox4TotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoLunchbox4TotalQuantity.value * GuabaoLunchbox4Price.value

  return totalPrice
})
const GuabaoLunchbox4optionPrice = computed(() => {
  let totalPrice = 0
  GuabaoLunchbox4SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoLunchbox4finalTotal = computed(() => {
  const totalPrice =
    GuabaoLunchbox4TotalQuantityPrice.value + GuabaoLunchbox4optionPrice.value
  return totalPrice
})

const submitGuabaoLunchbox4 = () => {
  if (GuabaoLunchbox4TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of GuabaoLunchbox4Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== GuabaoLunchbox4TotalQuantity.value ||
    totalDrinkQuantity !== GuabaoLunchbox4TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 35,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoLunchbox4finalTotal.value,
    optionPrice: GuabaoLunchbox4optionPrice.value,
    totalPrice: GuabaoLunchbox4TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoLunchbox4Comment.value
  }
  const totalQuantity = GuabaoLunchbox4TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of GuabaoLunchbox4Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox4DrinkName.value,
            productTypeId: GuabaoLunchbox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox4MainMealId.value,
        productTypeName: GuabaoLunchbox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox4DrinkName.value,
            productTypeId: GuabaoLunchbox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox4MainMealId.value,
        productTypeName: GuabaoLunchbox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of GuabaoLunchbox4SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoLunchbox4SideDishName.value,
        productTypeId: GuabaoLunchbox4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 刈包首席盒餐、1680、數量
  const productInput = {
    id: GuabaoLunchbox4ProductId.value,
    name: GuabaoLunchbox4Name.value,
    value: parseInt(totalQuantity),
    price: GuabaoLunchbox4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoLunchbox4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoLunchbox4Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoLunchbox4Arbitrarily.value).toString()
    const input = {
      id: 'GuabaoLunchbox4Arbitrarily',
      value: GuabaoLunchbox4Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoLunchbox4Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showGuabaoLunchbox4.value = false
    GuabaoLunchbox4Arbitrarily.value = 0
    GuabaoLunchbox4TotalQuantity.value = 0
  }
}
// reset-----------------------------------------
const ResetGuabaoLunchbox4 = () => {
  for (const option of GuabaoLunchbox4Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of GuabaoLunchbox4SideDishes) {
    sideDish.quantity = 0
  }
  GuabaoLunchbox4TotalQuantity.value = 0
  GuabaoLunchbox4Arbitrarily.value = 0
  showGuabaoLunchbox4.value = false
}
// editDialog8 導入欄位
const GuabaoLunchbox4EditMains = reactive([])
const GuabaoLunchbox4EditSideDishes = reactive([])
const GuabaoLunchbox4EditSideDishName = ref('')
const GuabaoLunchbox4EditDrinkName = ref('')
const GuabaoLunchbox4EditMainName = ref('')
const GuabaoLunchbox4EditName = ref('')

const loadGuabaoLunchbox4Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1680')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        GuabaoLunchbox4EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        GuabaoLunchbox4EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    GuabaoLunchbox4EditName.value = response.data.name
    GuabaoLunchbox4EditMainName.value = mainMeal.name
    GuabaoLunchbox4EditDrinkName.value = drink.name
    GuabaoLunchbox4EditSideDishName.value = sideDish.name
    // 監聽主餐的數量變化
    GuabaoLunchbox4EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            GuabaoLunchbox4EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    GuabaoLunchbox4EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// ---------------------------------------------------------
// 經濟盒餐
const lunchBox1Mains = reactive([])
const lunchBox1SideDishes = reactive([])
// const lunchBox1SideDishName = ref('')
// const lunchBox1DrinkName = ref('')
const lunchBox1MainName = ref('')
const lunchBox1Name = ref('')
const lunchBox1Price = ref(0)
const lunchBox1ProductId = ref('')
const lunchBox1MainMealId = ref('')
// const lunchBox1DrinkId = ref('')
// const lunchBox1SideDishId = ref('')
const loadLunchBox1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1597')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    for (const mainMealValue of mainMealValues) {
      const main = {
        id: mainMealValue.id,
        name: mainMealValue.name,
        shortname: mainMealValue.short_name,
        quantity: 0
      }
      lunchBox1Mains.push(main)
    }
    // 配菜
    // 監聽主餐的數量變化
    // lunchBox1Mains.forEach((main) => {
    //   watch(
    //     () => main.quantity,
    //     (newVal, oldVal) => {
    //       if (newVal === "") {
    //         main.quantity = 0;
    //       }
    //       if (newVal !== oldVal) {
    //         const diff = Number(newVal) - Number(oldVal);
    //         lunchBox1SideDishes.forEach((sideDish) => {
    //           if (sideDish.is_default) {
    //             const newQuantity = Number(sideDish.quantity) + diff;
    //             sideDish.quantity = newQuantity > 0 ? newQuantity : 0;
    //           }
    //         });
    //       }
    //     }
    //   );
    //   main.drinks.forEach((drink) => {
    //     watch(
    //       () => drink.quantity,
    //       (newVal, oldVal) => {
    //         if (newVal === "" || newVal === null) {
    //           drink.quantity = 0;
    //         }
    //       }
    //     );
    //   });
    // });
    // lunchBox1SideDishes.forEach((main) => {
    //   watch(
    //     () => main.quantity,
    //     (newVal, oldVal) => {
    //       if (newVal === "") {
    //         main.quantity = 0;
    //       }
    //     }
    //   );
    // });
    lunchBox1Name.value = response.data.name
    lunchBox1MainName.value = mainMeal.name
    // lunchBox1DrinkName.value = drink.name;
    // lunchBox1SideDishName.value = sideDish.name;
    lunchBox1Price.value = parseInt(response.data.price)
    lunchBox1ProductId.value = response.data.id
    lunchBox1MainMealId.value = mainMeal.id
    // lunchBox1DrinkId.value = drink.id;
    // lunchBox1SideDishId.value = sideDish.id;
  } catch (error) {
    console.error(error)
  }
}

// 計算任配
watch(lunchBox1Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox1Arbitrarily.value = Math.max(
    0,
    parseInt(lunchBox1TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const lunchBox1TotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox1TotalQuantity.value * lunchBox1Price.value
  return totalPrice
})
const lunchBox1optionPrice = computed(() => {
  let totalPrice = 0
  lunchBox1SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox1finalTotal = computed(() => {
  const totalPrice =
    lunchBox1TotalQuantityPrice.value + lunchBox1optionPrice.value
  return totalPrice
})
const submitLunchbox1 = () => {
  if (lunchBox1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  // let totalDrinkQuantity = 0;

  for (const option of lunchBox1Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    //   for (const drink of option.drinks) {
    //     if (drink.quantity > 0) {
    //       totalDrinkQuantity += parseInt(drink.quantity);
    //     }
    //   }
  }
  // 分享餐
  if (totalMainQuantity / lunchBox1TotalQuantity.value !== 6) {
    alert('主餐數量有誤！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 5,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox1finalTotal.value,
    optionPrice: lunchBox1optionPrice.value,
    totalPrice: lunchBox1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox1Comment.value
  }

  const totalQuantity = lunchBox1TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of lunchBox1Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      const Main = option.name + 'x' + parseInt(option.quantity)
      // let drinkInfo = "";
      // for (const drink of option.drinks) {
      //   if (drink.quantity > 0) {
      //     drinkInfo += drink.name + "x" + parseInt(drink.quantity);
      //     // 保留飲料名稱、飲料 ID
      //     const productInput = {
      //       mainId: option.id,
      //       productTypeName: lunchBox1DrinkName.value,
      //       productTypeId: lunchBox1DrinkId.value,
      //       productType: "options_with_qty",
      //       type: 2,
      //     };
      //     row.productInputs.push(productInput);
      //     // 將帶有數值的 input 推進 inputs
      //     const input = {
      //       id: drink.id,
      //       mainId: option.id,
      //       name: drink.name,
      //       value: parseInt(drink.quantity),
      //       type: 2,
      //     };
      //     row.inputs.push(input);
      //     drink.quantity = 0;
      //   }
      // }
      // if (drinkInfo !== "") {
      //   Main += ` (${drinkInfo}<br>`;
      // }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox1MainMealId.value,
        productTypeName: lunchBox1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      const Main = option.name + 'x' + parseInt(option.quantity)
      // let Main = " ";
      // if (option.quantity !== 0) {
      //   Main = option.name + "x" + parseInt(option.quantity);
      // }
      // let drinkInfo = "";
      // for (const drink of option.drinks) {
      //   if (drink.quantity > 0) {
      //     drinkInfo += drink.name + "x" + parseInt(drink.quantity);
      //     // 保留飲料名稱、飲料 ID
      //     const productInput = {
      //       mainId: option.id,
      //       productTypeName: lunchBox1DrinkName.value,
      //       productTypeId: lunchBox1DrinkId.value,
      //       productType: "options_with_qty",
      //       type: 2,
      //     };
      //     row.productInputs.push(productInput);
      //     // 將帶有數值的 input 推進 inputs
      //     const input = {
      //       id: drink.id,
      //       mainId: option.id,
      //       name: drink.name,
      //       value: parseInt(drink.quantity),
      //       type: 2,
      //     };
      //     row.inputs.push(input);
      //     drink.quantity = 0;
      //   }
      // }
      // if (drinkInfo !== "") {
      //   Main += ` (${drinkInfo}<br>`;
      // }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox1MainMealId.value,
        productTypeName: lunchBox1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  // for (const sideDish of lunchBox1SideDishes) {
  //   if (sideDish.quantity > 0) {
  //     row.sideDishes +=
  //       sideDish.name + "x" + parseInt(sideDish.quantity) + "<br>";
  //     // 保留配菜名稱、配菜 ID
  //     const productInput = {
  //       productTypeName: lunchBox1SideDishName.value,
  //       productTypeId: lunchBox1SideDishId.value,
  //       productType: "options_with_qty",
  //       type: 3,
  //     };
  //     row.productInputs.push(productInput);
  //     // 將帶有數值的 input 推進 inputs
  //     const input = {
  //       id: sideDish.id,
  //       name: sideDish.name,
  //       value: parseInt(sideDish.quantity),
  //       is_default: sideDish.is_default,
  //       type: 3,
  //     };
  //     row.inputs.push(input);
  //     sideDish.quantity = 0;
  //   }
  // }
  // 保留 經濟盒餐、1005、數量
  const productInput = {
    id: lunchBox1ProductId.value,
    name: lunchBox1Name.value,
    value: parseInt(totalQuantity),
    price: lunchBox1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox1Comment.value
  }
  row.productInputs.push(productInput)

  // 保留任搭數量
  if (lunchBox1Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox1Arbitrarily.value).toString()
    const input = {
      id: 'lunchBox1Arbitrarily',
      value: lunchBox1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox1Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    meal.tableRows2.push(row)
    showlunchBox1.value = false
    lunchBox1Arbitrarily.value = 0
    lunchBox1TotalQuantity.value = 0
  }
}
// ---reset------------------------------
const Resetlunchbox1 = () => {
  for (const option of lunchBox1Mains) {
    option.quantity = 0
    // for (const drink of option.drinks) {
    //   drink.quantity = 0;
    // }
  }
  // for (const sideDish of lunchBox1SideDishes) {
  //   sideDish.quantity = 0;
  // }
  showlunchBox1.value = false
  lunchBox1Arbitrarily.value = 0
  lunchBox1TotalQuantity.value = 0
}
// editDialog5 導入欄位
const lunchBox1EditMains = reactive([])
const lunchBox1EditSideDishes = reactive([])
// const lunchBox1EditSideDishName = ref('')
// const lunchBox1EditDrinkName = ref('')
const lunchBox1EditMainName = ref('')
const lunchBox1EditName = ref('')

const loadLunchBox1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1597')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    /// / 飲料
    // const drink = productOptions.drink;
    // const drinkValues = drink.product_option_values;

    for (const mainMealValue of mainMealValues) {
      const main = {
        id: mainMealValue.id,
        name: mainMealValue.name,
        shortname: mainMealValue.short_name,
        quantity: 0
      }

      // main.drinks = drinkValues.map((drinkValue) => ({
      //   id: drinkValue.id,
      //   name: drinkValue.name,
      //   quantity: 0,
      // }));

      lunchBox1EditMains.push(main)
    }
    // 配菜
    // const sideDish = productOptions.side_dish;
    // const sideDishValues = sideDish.product_option_values;

    // for (const sideDishValue of sideDishValues) {
    //   lunchBox1EditSideDishes.push({
    //     id: sideDishValue.id,
    //     name: sideDishValue.name,
    //     quantity: 0,
    //     is_default: sideDishValue.is_default,
    //     price: sideDishValue.price,
    //   });
    // }
    lunchBox1EditName.value = response.data.name
    lunchBox1EditMainName.value = mainMeal.name
    // lunchBox1EditDrinkName.value = drink.name;
    // lunchBox1EditSideDishName.value = sideDish.name;
    // 監聽主餐的數量變化
    // lunchBox1EditMains.forEach((main) => {
    //   watch(
    //     () => main.quantity,
    //     (newVal, oldVal) => {
    //       if (newVal === "") {
    //         main.quantity = 0;
    //       }
    //       if (newVal !== oldVal) {
    //         lunchBox1EditSideDishes.forEach((sideDish) => {
    //           if (sideDish.is_default === 1) {
    //             const diff = Number(newVal) - Number(oldVal);
    //             const newQuantity = Number(sideDish.quantity) + diff;
    //             sideDish.quantity = newQuantity > 0 ? newQuantity : 0;
    //           }
    //         });
    //       }
    //     }
    //   );
    //   main.drinks.forEach((drink) => {
    //     watch(
    //       () => drink.quantity,
    //       (newVal, oldVal) => {
    //         if (newVal === "" || newVal === null) {
    //           drink.quantity = 0;
    //         }
    //       }
    //     );
    //   });
    // });
    // lunchBox1EditSideDishes.forEach((main) => {
    //   watch(
    //     () => main.quantity,
    //     (newVal, oldVal) => {
    //       if (newVal === "") {
    //         main.quantity = 0;
    //       }
    //     }
    //   );
    // });
  } catch (error) {
    console.error(error)
  }
}

// 會議盒餐
const lunchBox2Mains = reactive([])
const lunchBox2SideDishes = reactive([])
const lunchBox2SideDishName = ref('')
const lunchBox2DrinkName = ref('')
const lunchBox2MainName = ref('')
const lunchBox2Name = ref('')
const lunchBox2Price = ref(0)
const lunchBox2MainMealId = ref('')
const lunchBox2ProductId = ref('')
const lunchBox2DrinkId = ref('')
const lunchBox2SideDishId = ref('')

const loadLunchBox2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1006')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          shortname: mainMealValue.short_name,
          quantity: 0
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox2Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    lunchBox2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)

            lunchBox2SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox2SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    lunchBox2Name.value = response.data.name
    lunchBox2MainName.value = mainMeal.name
    lunchBox2DrinkName.value = drink.name
    lunchBox2SideDishName.value = sideDish.name
    lunchBox2Price.value = parseInt(response.data.price)
    lunchBox2MainMealId.value = mainMeal.id
    lunchBox2ProductId.value = response.data.id
    lunchBox2DrinkId.value = drink.id
    lunchBox2SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算任佩
watch(lunchBox2Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox2Arbitrarily.value = Math.max(
    0,
    parseInt(lunchBox2TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const lunchBox2TotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox2TotalQuantity.value * lunchBox2Price.value
  return totalPrice
})
const lunchBox2optionPrice = computed(() => {
  let totalPrice = 0
  lunchBox2SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox2finalTotal = computed(() => {
  const totalPrice =
    lunchBox2TotalQuantityPrice.value + lunchBox2optionPrice.value
  return totalPrice
})
const submitLunchbox2 = () => {
  if (lunchBox2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox2Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== lunchBox2TotalQuantity.value ||
    totalDrinkQuantity !== lunchBox2TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 6,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox2finalTotal.value,
    optionPrice: lunchBox2optionPrice.value,
    totalPrice: lunchBox2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox2Comment.value
  }
  const totalQuantity = lunchBox2TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of lunchBox2Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox2DrinkName.value,
            productTypeId: lunchBox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox2MainMealId.value,
        productTypeName: lunchBox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox2DrinkName.value,
            productTypeId: lunchBox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox2MainMealId.value,
        productTypeName: lunchBox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of lunchBox2SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox2SideDishName.value,
        productTypeId: lunchBox2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 會議盒餐、1005、數量
  const productInput = {
    id: lunchBox2ProductId.value,
    name: lunchBox2Name.value,
    value: parseInt(totalQuantity),
    price: lunchBox2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox2Arbitrarily.value).toString()
    const input = {
      id: 'lunchBox2Arbitrarily',
      value: lunchBox2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox2Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showlunchBox2.value = false
    lunchBox2Arbitrarily.value = 0
    lunchBox2TotalQuantity.value = 0
  }
}
// ----------------------------------------
const Resetlunchbox2 = () => {
  for (const option of lunchBox2Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of lunchBox2SideDishes) {
    sideDish.quantity = 0
  }
  lunchBox2TotalQuantity.value = 0
  lunchBox2Arbitrarily.value = 0
  showlunchBox2.value = false
}
// editDialog6 導入欄位
const lunchBox2EditMains = reactive([])
const lunchBox2EditSideDishes = reactive([])
const lunchBox2EditSideDishName = ref('')
const lunchBox2EditDrinkName = ref('')
const lunchBox2EditMainName = ref('')
const lunchBox2EditName = ref('')

const loadLunchBox2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1006')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox2EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox2EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    lunchBox2EditName.value = response.data.name
    lunchBox2EditMainName.value = mainMeal.name
    lunchBox2EditDrinkName.value = drink.name
    lunchBox2EditSideDishName.value = sideDish.name
    // 監聽主餐的數量變化
    lunchBox2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            lunchBox2EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox2EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}

// 貴賓盒餐
const lunchBox3Mains = reactive([])
const lunchBox3SideDishes = reactive([])
const lunchBox3SideDishName = ref('')
const lunchBox3DrinkName = ref('')
const lunchBox3MainName = ref('')
const lunchBox3Name = ref('')
const lunchBox3Price = ref(0)
const lunchBox3ProductId = ref('')
const lunchBox3MainMealId = ref('')
const lunchBox3DrinkId = ref('')
const lunchBox3SideDishId = ref('')

const loadLunchBox3 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1007')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox3Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox3SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    lunchBox3Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)
            lunchBox3SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox3SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    lunchBox3Name.value = response.data.name
    lunchBox3MainName.value = mainMeal.name
    lunchBox3DrinkName.value = drink.name
    lunchBox3SideDishName.value = sideDish.name
    lunchBox3Price.value = parseInt(response.data.price)
    lunchBox3ProductId.value = response.data.id
    lunchBox3MainMealId.value = mainMeal.id
    lunchBox3DrinkId.value = drink.id
    lunchBox3SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(lunchBox3Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox3Arbitrarily.value = Math.max(
    0,
    parseInt(lunchBox3TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const lunchBox3TotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox3TotalQuantity.value * lunchBox3Price.value
  return totalPrice
})
const lunchBox3optionPrice = computed(() => {
  let totalPrice = 0
  lunchBox3SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox3finalTotal = computed(() => {
  const totalPrice =
    lunchBox3TotalQuantityPrice.value + lunchBox3optionPrice.value
  return totalPrice
})
const submitLunchbox3 = () => {
  if (lunchBox3TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox3Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== lunchBox3TotalQuantity.value ||
    totalDrinkQuantity !== lunchBox3TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 7,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    quantity: '',
    sideDishDefault: '',
    price: lunchbox3finalTotal.value,
    optionPrice: lunchBox3optionPrice.value,
    totalPrice: lunchBox3TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox3Comment.value
  }
  const totalQuantity = lunchBox3TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of lunchBox3Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox3DrinkName.value,
            productTypeId: lunchBox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox3MainMealId.value,
        productTypeName: lunchBox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox3DrinkName.value,
            productTypeId: lunchBox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox3MainMealId.value,
        productTypeName: lunchBox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of lunchBox3SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox3SideDishName.value,
        productTypeId: lunchBox3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 貴賓盒餐、1007、數量
  const productInput = {
    id: lunchBox3ProductId.value,
    name: lunchBox3Name.value,
    value: parseInt(totalQuantity),
    price: lunchBox3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox3Arbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox3Arbitrarily.value).toString()
    const input = {
      id: 'lunchBox3Arbitrarily',
      value: lunchBox3Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox3Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showlunchBox3.value = false
    lunchBox3Arbitrarily.value = 0
    lunchBox3TotalQuantity.value = 0
  }
}
// reset-----------------------------------------
const Resetlunchbox3 = () => {
  for (const option of lunchBox3Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of lunchBox3SideDishes) {
    sideDish.quantity = 0
  }
  lunchBox3TotalQuantity.value = 0
  lunchBox3Arbitrarily.value = 0
  showlunchBox3.value = false
}
// editDialog7 導入欄位
const lunchBox3EditMains = reactive([])
const lunchBox3EditSideDishes = reactive([])
const lunchBox3EditSideDishName = ref('')
const lunchBox3EditDrinkName = ref('')
const lunchBox3EditMainName = ref('')
const lunchBox3EditName = ref('')

const loadLunchBox3Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1007')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox3EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox3EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    lunchBox3EditName.value = response.data.name
    lunchBox3EditMainName.value = mainMeal.name
    lunchBox3EditDrinkName.value = drink.name
    lunchBox3EditSideDishName.value = sideDish.name
    lunchBox3EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            lunchBox3EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
  } catch (error) {
    console.error(error)
  }
}

// 首席盒餐
const lunchBox4Mains = reactive([])
const lunchBox4SideDishes = reactive([])
const lunchBox4SideDishName = ref('')
const lunchBox4DrinkName = ref('')
const lunchBox4MainName = ref('')
const lunchBox4Name = ref('')
const lunchBox4Price = ref(0)
const lunchBox4ProductId = ref('')
const lunchBox4MainMealId = ref('')
const lunchBox4DrinkId = ref('')
const lunchBox4SideDishId = ref('')

const loadLunchBox4 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1008')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox4Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox4SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    lunchBox4Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)
            lunchBox4SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox4SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    lunchBox4Name.value = response.data.name
    lunchBox4MainName.value = mainMeal.name
    lunchBox4DrinkName.value = drink.name
    lunchBox4SideDishName.value = sideDish.name
    lunchBox4Price.value = parseInt(response.data.price)
    lunchBox4ProductId.value = response.data.id
    lunchBox4MainMealId.value = mainMeal.id
    lunchBox4DrinkId.value = drink.id
    lunchBox4SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(lunchBox4Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox4Arbitrarily.value = Math.max(
    0,
    parseInt(lunchBox4TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const lunchBox4TotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox4TotalQuantity.value * lunchBox4Price.value

  return totalPrice
})
const lunchBox4optionPrice = computed(() => {
  let totalPrice = 0
  lunchBox4SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox4finalTotal = computed(() => {
  const totalPrice =
    lunchBox4TotalQuantityPrice.value + lunchBox4optionPrice.value
  return totalPrice
})

const submitLunchbox4 = () => {
  if (lunchBox4TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox4Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== lunchBox4TotalQuantity.value ||
    totalDrinkQuantity !== lunchBox4TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 8,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox4finalTotal.value,
    optionPrice: lunchBox4optionPrice.value,
    totalPrice: lunchBox4TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox4Comment.value
  }
  const totalQuantity = lunchBox4TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of lunchBox4Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox4DrinkName.value,
            productTypeId: lunchBox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox4MainMealId.value,
        productTypeName: lunchBox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox4DrinkName.value,
            productTypeId: lunchBox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox4MainMealId.value,
        productTypeName: lunchBox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of lunchBox4SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox4SideDishName.value,
        productTypeId: lunchBox4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 首席盒餐、1008、數量
  const productInput = {
    id: lunchBox4ProductId.value,
    name: lunchBox4Name.value,
    value: parseInt(totalQuantity),
    price: lunchBox4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox4Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox4Arbitrarily.value).toString()
    const input = {
      id: 'lunchBox4Arbitrarily',
      value: lunchBox4Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox4Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showlunchBox4.value = false
    lunchBox4Arbitrarily.value = 0
    lunchBox4TotalQuantity.value = 0
  }
}
// reset-----------------------------------------
const Resetlunchbox4 = () => {
  for (const option of lunchBox4Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of lunchBox4SideDishes) {
    sideDish.quantity = 0
  }
  lunchBox4TotalQuantity.value = 0
  lunchBox4Arbitrarily.value = 0
  showlunchBox4.value = false
}
// editDialog8 導入欄位
const lunchBox4EditMains = reactive([])
const lunchBox4EditSideDishes = reactive([])
const lunchBox4EditSideDishName = ref('')
const lunchBox4EditDrinkName = ref('')
const lunchBox4EditMainName = ref('')
const lunchBox4EditName = ref('')

const loadLunchBox4Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1008')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox4EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox4EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    lunchBox4EditName.value = response.data.name
    lunchBox4EditMainName.value = mainMeal.name
    lunchBox4EditDrinkName.value = drink.name
    lunchBox4EditSideDishName.value = sideDish.name
    // 監聽主餐的數量變化
    lunchBox4EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            lunchBox4EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox4EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}
// 情人盒餐
const lunchBox214Mains = reactive([])
const lunchBox214SideDishes = reactive([])
const lunchBox214SideDishName = ref('')
const lunchBox214DrinkName = ref('')
const lunchBox214MainName = ref('')
const lunchBox214Name = ref('')
const lunchBox214Price = ref(0)
const lunchBox214ProductId = ref('')
const lunchBox214MainMealId = ref('')
const lunchBox214DrinkId = ref('')
const lunchBox214SideDishId = ref('')

const loadLunchBox214 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1650')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox214Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox214SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    // 監聽主餐的數量變化
    lunchBox214Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            const diff = Number(newVal) - Number(oldVal)
            lunchBox214SideDishes.forEach((sideDish) => {
              if (sideDish.is_default) {
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox214SideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    lunchBox214Name.value = response.data.name
    lunchBox214MainName.value = mainMeal.name
    lunchBox214DrinkName.value = drink.name
    lunchBox214SideDishName.value = sideDish.name
    lunchBox214Price.value = parseInt(response.data.price)
    lunchBox214ProductId.value = response.data.id
    lunchBox214MainMealId.value = mainMeal.id
    lunchBox214DrinkId.value = drink.id
    lunchBox214SideDishId.value = sideDish.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
watch(lunchBox214Mains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox214Arbitrarily.value = Math.max(
    0,
    parseInt(lunchBox214TotalQuantity.value) - mainQuantityTotal
  )
})

// 計算總價格
const lunchBox214TotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox214TotalQuantity.value * lunchBox214Price.value

  return totalPrice
})
const lunchBox214optionPrice = computed(() => {
  let totalPrice = 0
  lunchBox214SideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox214finalTotal = computed(() => {
  const totalPrice =
    lunchBox214TotalQuantityPrice.value + lunchBox214optionPrice.value
  return totalPrice
})

const submitLunchbox214 = () => {
  if (lunchBox214TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox214Mains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== lunchBox214TotalQuantity.value ||
    totalDrinkQuantity !== lunchBox214TotalQuantity.value
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  // ------------------------------------------------------------------
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 14,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox214finalTotal.value,
    optionPrice: lunchBox214optionPrice.value,
    totalPrice: lunchBox214TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox214Comment.value
  }
  const totalQuantity = lunchBox214TotalQuantity.value
  row.quantity = totalQuantity
  for (const option of lunchBox214Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox214DrinkName.value,
            productTypeId: lunchBox214DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox214MainMealId.value,
        productTypeName: lunchBox214MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox214DrinkName.value,
            productTypeId: lunchBox214DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox214MainMealId.value,
        productTypeName: lunchBox214MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of lunchBox214SideDishes) {
    if (sideDish.quantity > 0) {
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox214SideDishName.value,
        productTypeId: lunchBox214SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 首席盒餐、1008、數量
  const productInput = {
    id: lunchBox214ProductId.value,
    name: lunchBox214Name.value,
    value: parseInt(totalQuantity),
    price: lunchBox214Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox214Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox214Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox214Arbitrarily.value).toString()
    const input = {
      id: 'lunchBox214Arbitrarily',
      value: lunchBox214Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox214Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    console.log(row)
    showlunchBox214.value = false
    lunchBox214Arbitrarily.value = 0
    lunchBox214TotalQuantity.value = 0
  }
}
// reset-----------------------------------------
const Resetlunchbox214 = () => {
  for (const option of lunchBox214Mains) {
    option.quantity = 0
    for (const drink of option.drinks) {
      drink.quantity = 0
    }
  }
  for (const sideDish of lunchBox214SideDishes) {
    sideDish.quantity = 0
  }
  lunchBox214TotalQuantity.value = 0
  lunchBox214Arbitrarily.value = 0
  showlunchBox214.value = false
}
// editDialog214 導入欄位
const lunchBox214EditMains = reactive([])
const lunchBox214EditSideDishes = reactive([])
const lunchBox214EditSideDishName = ref('')
const lunchBox214EditDrinkName = ref('')
const lunchBox214EditMainName = ref('')
const lunchBox214EditName = ref('')

const loadLunchBox214Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1650')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBox214EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBox214EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default,
          price: sideDishValue.price
        })
      }
    }
    lunchBox214EditName.value = response.data.name
    lunchBox214EditMainName.value = mainMeal.name
    lunchBox214EditDrinkName.value = drink.name
    lunchBox214EditSideDishName.value = sideDish.name
    // 監聽主餐的數量變化
    lunchBox214EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
          if (newVal !== oldVal) {
            lunchBox214EditSideDishes.forEach((sideDish) => {
              if (sideDish.is_default === 1) {
                const diff = Number(newVal) - Number(oldVal)
                const newQuantity = Number(sideDish.quantity) + diff
                sideDish.quantity = newQuantity > 0 ? newQuantity : 0
              }
            })
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '' || newVal === null) {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBox214EditSideDishes.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
  } catch (error) {
    console.error(error)
  }
}
// ------------------------ 客製便當、盒餐、單點 ---------------------------------
// 客製便當
const bangdongCustom1Mains = reactive([])
const bangdongCustom1MainName = ref('')
const bangdongCustom1Drinks = reactive([])
const bangdongCustom1DrinkName = ref('')
const bangdongCustom1SideDishes = reactive([])
const bangdongCustom1SideDishName = ref('')
const bangdongCustom1Name = ref('')
const bangdongCustom1BentoMains = reactive([])
const bangdongCustom1BentoMainName = ref('')
const bangdongCustom1Price = ref(0)
const bangdongCustom1ProductId = ref('')
const bangdongCustom1MainMealId = ref('')
const bangdongCustom1DrinkId = ref('')
const bangdongCustom1SideDishId = ref('')
const bangdongCustom1BentoMainId = ref('')
const editDialog9 = ref(false)
// 抓取客製便當主餐形成 input
const loadBangdongCustom1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1043')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        bangdongCustom1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdongCustom1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdongCustom1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      if (bentoMainValue.is_active) {
        bangdongCustom1BentoMains.push({
          id: bentoMainValue.id,
          name: bentoMainValue.name,
          quantity: 0
        })
      }
    }
    bangdongCustom1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongCustom1Drinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    bangdongCustom1SideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    bangdongCustom1BentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    bangdongCustom1Name.value = response.data.name
    bangdongCustom1MainName.value = mainMeal.name
    bangdongCustom1DrinkName.value = Drink.name
    bangdongCustom1SideDishName.value = sideDish.name
    bangdongCustom1BentoMainName.value = bentoMain.name
    bangdongCustom1ProductId.value = response.data.id
    bangdongCustom1MainMealId.value = mainMeal.id
    bangdongCustom1DrinkId.value = Drink.id
    bangdongCustom1SideDishId.value = sideDish.id
    bangdongCustom1BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總價格
const bangdongCustom1TotalQuantityPrice = computed(() => {
  return bangdongCustom1TotalQuantity.value * bangdongCustom1Price.value
})
const bangdongCustom1optionPrice = ref(0)
const bangdongCustom1finaltotal = computed(() => {
  return (
    bangdongCustom1TotalQuantityPrice.value + bangdongCustom1optionPrice.value
  )
})
// 將資料推進 tableRows
const submitBangdongCustom1 = () => {
  if (bangdongCustom1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (bangdongCustom1Price.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 9,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    bentoMains: '',
    quantity: bangdongCustom1TotalQuantity.value,
    price: bangdongCustom1finaltotal.value,
    optionPrice: bangdongCustom1optionPrice.value,
    totalPrice: bangdongCustom1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongCustom1Comment.value
  }

  const totalQuantity = bangdongCustom1TotalQuantity.value
  console.log(totalQuantity)
  for (const bangdongCustom1Main of bangdongCustom1Mains) {
    if (bangdongCustom1Main.quantity > 0) {
      row.Main +=
        bangdongCustom1Main.name +
        'x' +
        parseInt(bangdongCustom1Main.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: bangdongCustom1MainMealId.value,
        productTypeName: bangdongCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongCustom1Main.id,
        name: bangdongCustom1Main.name,
        value: parseInt(bangdongCustom1Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      bangdongCustom1Main.quantity = 0
    }
  }
  for (const bangdongCustom1Drink of bangdongCustom1Drinks) {
    if (bangdongCustom1Drink.quantity > 0) {
      row.drinks +=
        bangdongCustom1Drink.name +
        'x' +
        parseInt(bangdongCustom1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongCustom1DrinkName.value,
        productTypeId: bangdongCustom1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongCustom1Drink.id,
        name: bangdongCustom1Drink.name,
        value: parseInt(bangdongCustom1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      bangdongCustom1Drink.quantity = 0
    }
  }

  for (const bangdongCustom1SideDish of bangdongCustom1SideDishes) {
    if (bangdongCustom1SideDish.quantity > 0) {
      row.sideDishes +=
        bangdongCustom1SideDish.name +
        'x' +
        parseInt(bangdongCustom1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdongCustom1SideDishName.value,
        productTypeId: bangdongCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongCustom1SideDish.is_default + ' '

      const input = {
        id: bangdongCustom1SideDish.id,
        name: bangdongCustom1SideDish.name,
        value: parseInt(bangdongCustom1SideDish.quantity),
        is_default: bangdongCustom1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      bangdongCustom1SideDish.quantity = 0
    }
  }

  // 副主餐
  for (const bangdongCustom1BentoMain of bangdongCustom1BentoMains) {
    if (bangdongCustom1BentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongCustom1BentoMain.name +
        'x' +
        parseInt(bangdongCustom1BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdongCustom1BentoMainName.value,
        productTypeId: bangdongCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: bangdongCustom1BentoMain.id,
        name: bangdongCustom1BentoMain.name,
        value: parseInt(bangdongCustom1BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      bangdongCustom1BentoMain.quantity = 0
    }
  }
  const productInput = {
    id: bangdongCustom1ProductId.value,
    name: bangdongCustom1Name.value,
    value: parseInt(totalQuantity),
    price: bangdongCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongCustom1Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdongCustom1Arbitrarily.value).toString()
    const input = {
      id: 'bangdongCustom1Arbitrarily',
      value: bangdongCustom1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongCustom1Name.value + totalQuantity + '份'
  checkVegetable(row)
  bangdongCustom1Price.value = 0
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showbangdongCustom1.value = false
  bangdongCustom1Arbitrarily.value = 0
  bangdongCustom1TotalQuantity.value = 0
}

// editDialog9 導入欄位
const bangdongCustom1EditMains = reactive([])
const bangdongCustom1EditDrinks = reactive([])
const bangdongCustom1EditSideDishes = reactive([])
const bangdongCustom1EditBentoMains = reactive([])
const loadBangdongCustom1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1043')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdongCustom1EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        bangdongCustom1EditMains.push(bangdongCustom1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdongCustom1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0
      }
      bangdongCustom1EditDrinks.push(bangdongCustom1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdongCustom1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default
        }
        bangdongCustom1EditSideDishes.push(bangdongCustom1EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdongCustom1EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      bangdongCustom1EditBentoMains.push(bangdongCustom1EditBentoMain)
    }
    bangdongCustom1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    bangdongCustom1EditDrinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    bangdongCustom1EditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    bangdongCustom1EditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })

    bangdongCustom1MainName.value = mainMeal.name
    bangdongCustom1DrinkName.value = Drink.name
    bangdongCustom1SideDishName.value = sideDish.name
    bangdongCustom1BentoMainName.value = bentoMain.name
  } catch (error) {
    console.error(error)
  }
}

// 客製盒餐
const lunchBoxCustom1Mains = reactive([])
const lunchBoxCustom1SideDishes = reactive([])
const lunchBoxCustom1SideDishName = ref('')
const lunchBoxCustom1DrinkName = ref('')
const lunchBoxCustom1MainName = ref('')
const lunchBoxCustom1Name = ref('')
const lunchBoxCustom1Price = ref(0)
const lunchBoxCustom1ProductId = ref('')
const lunchBoxCustom1BentoMains = reactive([])
const lunchBoxCustom1Burrito6inchs = reactive([])
const lunchBoxCustom1MainMealId = ref('')
const lunchBoxCustom1DrinkId = ref('')
const lunchBoxCustom1SideDishId = ref('')
const lunchBoxCustom1BentoMainName = ref('')
const lunchBoxCustom1BentoMainId = ref('')
const lunchBoxCustom1Burrito6inchName = ref('')
const lunchBoxCustom1Burrito6inchId = ref('')
const loadLunchBoxCustom1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1044')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBoxCustom1Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBoxCustom1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      if (bentoMainValue.is_active) {
        lunchBoxCustom1BentoMains.push({
          id: bentoMainValue.id,
          name: bentoMainValue.name,
          quantity: 0,
          hidenquantity: 0
        })
      }
    }
    // 6inch
    const Burrito6inch = productOptions.burrito_6inch
    const Burrito6inchValues = Burrito6inch.product_option_values
    for (const Burrito6inchValue of Burrito6inchValues) {
      lunchBoxCustom1Burrito6inchs.push({
        id: Burrito6inchValue.id,
        name: Burrito6inchValue.name,
        quantity: 0,
        hidenquantity: 0
      })
    }
    lunchBoxCustom1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '') {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBoxCustom1SideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    lunchBoxCustom1BentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    lunchBoxCustom1Name.value = response.data.name
    lunchBoxCustom1MainName.value = mainMeal.name
    lunchBoxCustom1DrinkName.value = drink.name
    lunchBoxCustom1SideDishName.value = sideDish.name
    lunchBoxCustom1ProductId.value = response.data.id
    lunchBoxCustom1MainMealId.value = mainMeal.id
    lunchBoxCustom1DrinkId.value = drink.id
    lunchBoxCustom1SideDishId.value = sideDish.id
    lunchBoxCustom1BentoMainId.value = bentoMain.id
    lunchBoxCustom1BentoMainName.value = bentoMain.name
    lunchBoxCustom1Burrito6inchId.value = Burrito6inch.id
    lunchBoxCustom1Burrito6inchName.value = Burrito6inch.name
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
const lunchBoxCustom1TotalQuantity = ref(0)
const lunchBoxCustom1optionPrice = ref(0)
// 計算總價格
const lunchBoxCustom1TotalQuantityPrice = computed(() => {
  return lunchBoxCustom1TotalQuantity.value * lunchBoxCustom1Price.value
})
const lunchBoxCustom1finaltotal = computed(() => {
  return (
    lunchBoxCustom1TotalQuantityPrice.value + lunchBoxCustom1optionPrice.value
  )
})
const submitLunchboxCustom1 = () => {
  if (lunchBoxCustom1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (lunchBoxCustom1Price.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 0,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: lunchBoxCustom1TotalQuantity.value,
    price: lunchBoxCustom1finaltotal.value,
    optionPrice: lunchBoxCustom1optionPrice.value,
    totalPrice: lunchBoxCustom1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchboxCustom1Comment.value
  }
  const totalQuantity = lunchBoxCustom1TotalQuantity.value
  for (const option of lunchBoxCustom1Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBoxCustom1DrinkName.value,
            productTypeId: lunchBoxCustom1DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBoxCustom1MainMealId.value,
        productTypeName: lunchBoxCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBoxCustom1DrinkName.value,
            productTypeId: lunchBoxCustom1DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBoxCustom1MainMealId.value,
        productTypeName: lunchBoxCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of lunchBoxCustom1SideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBoxCustom1SideDishName.value,
        productTypeId: lunchBoxCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 副主餐
  for (const lunchBoxCustom1BentoMain of lunchBoxCustom1BentoMains) {
    if (lunchBoxCustom1BentoMain.quantity > 0) {
      if (row.bentoMains !== '') {
        row.bentoMains += ','
      }
      row.bentoMains +=
        lunchBoxCustom1BentoMain.name +
        'x' +
        parseInt(lunchBoxCustom1BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: lunchBoxCustom1BentoMainName.value,
        productTypeId: lunchBoxCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: lunchBoxCustom1BentoMain.id,
        name: lunchBoxCustom1BentoMain.name,
        value: parseInt(lunchBoxCustom1BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      lunchBoxCustom1BentoMain.quantity = 0
    }
  }
  for (const lunchBoxCustom1Burrito6inch of lunchBoxCustom1Burrito6inchs) {
    if (lunchBoxCustom1Burrito6inch.quantity > 0) {
      if (row.bentoMains !== '') {
        row.bentoMains += ','
      }
      row.bentoMains +=
        lunchBoxCustom1Burrito6inch.name +
        'x' +
        parseInt(lunchBoxCustom1Burrito6inch.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: lunchBoxCustom1Burrito6inchName.value,
        productTypeId: lunchBoxCustom1Burrito6inchId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: lunchBoxCustom1Burrito6inch.id,
        name: lunchBoxCustom1Burrito6inch.name,
        value: parseInt(lunchBoxCustom1Burrito6inch.quantity),
        type: 4
      }
      row.inputs.push(input)
      lunchBoxCustom1Burrito6inch.quantity = 0
    }
  }
  // 保留 客製盒餐、數量、
  const productInput = {
    id: lunchBoxCustom1ProductId.value,
    name: lunchBoxCustom1Name.value,
    value: parseInt(totalQuantity),
    price: lunchBoxCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchboxCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBoxCustom1Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBoxCustom1Arbitrarily.value).toString()
    const input = {
      id: 'lunchBoxCustom1Arbitrarily',
      value: lunchBoxCustom1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBoxCustom1Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showLunchBoxCustom1.value = false
    lunchBoxCustom1Arbitrarily.value = 0
    lunchBoxCustom1TotalQuantity.value = 0
    lunchBoxCustom1Price.value = 0
  }
}
// editDialog0 導入欄位
const lunchBoxCustom1EditMains = reactive([])
const lunchBoxCustom1EditSideDishes = reactive([])
const lunchBoxCustom1EditSideDishName = ref('')
const lunchBoxCustom1EditDrinkName = ref('')
const lunchBoxCustom1EditMainName = ref('')
const lunchBoxCustom1EditName = ref('')
const lunchBoxCustom1EditBentoMains = reactive([])
const loadLunchBoxCustom1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1044')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        lunchBoxCustom1EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        lunchBoxCustom1EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // bentomains
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      lunchBoxCustom1EditBentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      })
    }
    // watch = 0
    lunchBoxCustom1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '') {
              drink.quantity = 0
            }
          }
        )
      })
    })
    lunchBoxCustom1EditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    lunchBoxCustom1EditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    lunchBoxCustom1EditName.value = response.data.name
    lunchBoxCustom1EditMainName.value = mainMeal.name
    lunchBoxCustom1EditDrinkName.value = drink.name
    lunchBoxCustom1EditSideDishName.value = sideDish.name
  } catch (error) {
    console.error(error)
  }
}
// 客製油飯
const riceBoxCustom1Mains = reactive([])
const riceBoxCustom1MainName = ref('')
const riceBoxCustom1Drinks = reactive([])
const riceBoxCustom1DrinkName = ref('')
const riceBoxCustom1SideDishes = reactive([])
const riceBoxCustom1SideDishName = ref('')
const riceBoxCustom1Name = ref('')
const riceBoxCustom1BentoMains = reactive([])
const riceBoxCustom1BentoMainName = ref('')
const riceBoxCustom1Price = ref(0)
const riceBoxCustom1ProductId = ref('')
const riceBoxCustom1MainMealId = ref('')
const riceBoxCustom1DrinkId = ref('')
const riceBoxCustom1SideDishId = ref('')
const riceBoxCustom1BentoMainId = ref('')
const editDialog34 = ref(false)
// 抓取客製油飯主餐形成 input
const loadRiceBoxCustom1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1697')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        riceBoxCustom1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      riceBoxCustom1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        riceBoxCustom1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      if (bentoMainValue.is_active) {
        riceBoxCustom1BentoMains.push({
          id: bentoMainValue.id,
          name: bentoMainValue.name,
          quantity: 0
        })
      }
    }
    riceBoxCustom1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1Drinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1SideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1BentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1Name.value = response.data.name
    riceBoxCustom1MainName.value = mainMeal.name
    riceBoxCustom1DrinkName.value = Drink.name
    riceBoxCustom1SideDishName.value = sideDish.name
    riceBoxCustom1BentoMainName.value = bentoMain.name
    riceBoxCustom1ProductId.value = response.data.id
    riceBoxCustom1MainMealId.value = mainMeal.id
    riceBoxCustom1DrinkId.value = Drink.id
    riceBoxCustom1SideDishId.value = sideDish.id
    riceBoxCustom1BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總價格
const riceBoxCustom1TotalQuantityPrice = computed(() => {
  return riceBoxCustom1TotalQuantity.value * riceBoxCustom1Price.value
})
const riceBoxCustom1optionPrice = ref(0)
const riceBoxCustom1finaltotal = computed(() => {
  return (
    riceBoxCustom1TotalQuantityPrice.value + riceBoxCustom1optionPrice.value
  )
})
// 將資料推進 tableRows
const submitRiceBoxCustom1 = () => {
  if (riceBoxCustom1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (riceBoxCustom1Price.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 37,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    bentoMains: '',
    quantity: riceBoxCustom1TotalQuantity.value,
    price: riceBoxCustom1finaltotal.value,
    optionPrice: riceBoxCustom1optionPrice.value,
    totalPrice: riceBoxCustom1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBoxCustom1Comment.value
  }

  const totalQuantity = riceBoxCustom1TotalQuantity.value
  console.log(totalQuantity)
  for (const riceBoxCustom1Main of riceBoxCustom1Mains) {
    if (riceBoxCustom1Main.quantity > 0) {
      row.Main +=
        riceBoxCustom1Main.name +
        'x' +
        parseInt(riceBoxCustom1Main.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: riceBoxCustom1MainMealId.value,
        productTypeName: riceBoxCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBoxCustom1Main.id,
        name: riceBoxCustom1Main.name,
        value: parseInt(riceBoxCustom1Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      riceBoxCustom1Main.quantity = 0
    }
  }
  for (const riceBoxCustom1Drink of riceBoxCustom1Drinks) {
    if (riceBoxCustom1Drink.quantity > 0) {
      row.drinks +=
        riceBoxCustom1Drink.name +
        'x' +
        parseInt(riceBoxCustom1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBoxCustom1DrinkName.value,
        productTypeId: riceBoxCustom1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBoxCustom1Drink.id,
        name: riceBoxCustom1Drink.name,
        value: parseInt(riceBoxCustom1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      riceBoxCustom1Drink.quantity = 0
    }
  }

  for (const riceBoxCustom1SideDish of riceBoxCustom1SideDishes) {
    if (riceBoxCustom1SideDish.quantity > 0) {
      row.sideDishes +=
        riceBoxCustom1SideDish.name +
        'x' +
        parseInt(riceBoxCustom1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBoxCustom1SideDishName.value,
        productTypeId: riceBoxCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBoxCustom1SideDish.is_default + ' '

      const input = {
        id: riceBoxCustom1SideDish.id,
        name: riceBoxCustom1SideDish.name,
        value: parseInt(riceBoxCustom1SideDish.quantity),
        is_default: riceBoxCustom1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      riceBoxCustom1SideDish.quantity = 0
    }
  }

  // 副主餐
  for (const riceBoxCustom1BentoMain of riceBoxCustom1BentoMains) {
    if (riceBoxCustom1BentoMain.quantity > 0) {
      row.bentoMains +=
        riceBoxCustom1BentoMain.name +
        'x' +
        parseInt(riceBoxCustom1BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBoxCustom1BentoMainName.value,
        productTypeId: riceBoxCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: riceBoxCustom1BentoMain.id,
        name: riceBoxCustom1BentoMain.name,
        value: parseInt(riceBoxCustom1BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      riceBoxCustom1BentoMain.quantity = 0
    }
  }
  const productInput = {
    id: riceBoxCustom1ProductId.value,
    name: riceBoxCustom1Name.value,
    value: parseInt(totalQuantity),
    price: riceBoxCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBoxCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBoxCustom1Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBoxCustom1Arbitrarily.value).toString()
    const input = {
      id: 'riceBoxCustom1Arbitrarily',
      value: riceBoxCustom1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBoxCustom1Name.value + totalQuantity + '份'
  checkVegetable(row)
  riceBoxCustom1Price.value = 0
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showriceBoxCustom1.value = false
  riceBoxCustom1Arbitrarily.value = 0
  riceBoxCustom1TotalQuantity.value = 0
}

// editDialog34 導入欄位
const riceBoxCustom1EditMains = reactive([])
const riceBoxCustom1EditDrinks = reactive([])
const riceBoxCustom1EditSideDishes = reactive([])
const riceBoxCustom1EditBentoMains = reactive([])
const loadRiceBoxCustom1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1697')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const riceBoxCustom1EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        riceBoxCustom1EditMains.push(riceBoxCustom1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const riceBoxCustom1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0
      }
      riceBoxCustom1EditDrinks.push(riceBoxCustom1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const riceBoxCustom1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default
        }
        riceBoxCustom1EditSideDishes.push(riceBoxCustom1EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const riceBoxCustom1EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      riceBoxCustom1EditBentoMains.push(riceBoxCustom1EditBentoMain)
    }
    riceBoxCustom1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1EditDrinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1EditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    riceBoxCustom1EditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })

    riceBoxCustom1MainName.value = mainMeal.name
    riceBoxCustom1DrinkName.value = Drink.name
    riceBoxCustom1SideDishName.value = sideDish.name
    riceBoxCustom1BentoMainName.value = bentoMain.name
  } catch (error) {
    console.error(error)
  }
}

// 客製刈包便當
const guabaoCustom1Mains = reactive([])
const guabaoCustom1MainName = ref('')
const guabaoCustom1Drinks = reactive([])
const guabaoCustom1DrinkName = ref('')
const guabaoCustom1SideDishes = reactive([])
const guabaoCustom1SideDishName = ref('')
const guabaoCustom1Name = ref('')
const guabaoCustom1BentoMains = reactive([])
const guabaoCustom1BentoMainName = ref('')
const guabaoCustom1Price = ref(0)
const guabaoCustom1ProductId = ref('')
const guabaoCustom1MainMealId = ref('')
const guabaoCustom1DrinkId = ref('')
const guabaoCustom1SideDishId = ref('')
const guabaoCustom1BentoMainId = ref('')
const editDialog35 = ref(false)
// 抓取客製油飯主餐形成 input
const loadGuabaoCustom1 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1698')
    const productOptions = response.data.product_options
    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        guabaoCustom1Mains.push({
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        })
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      guabaoCustom1Drinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        guabaoCustom1SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      if (bentoMainValue.is_active) {
        guabaoCustom1BentoMains.push({
          id: bentoMainValue.id,
          name: bentoMainValue.name,
          quantity: 0
        })
      }
    }
    guabaoCustom1Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    guabaoCustom1Drinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    guabaoCustom1SideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    guabaoCustom1BentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    guabaoCustom1Name.value = response.data.name
    guabaoCustom1MainName.value = mainMeal.name
    guabaoCustom1DrinkName.value = Drink.name
    guabaoCustom1SideDishName.value = sideDish.name
    guabaoCustom1BentoMainName.value = bentoMain.name
    guabaoCustom1ProductId.value = response.data.id
    guabaoCustom1MainMealId.value = mainMeal.id
    guabaoCustom1DrinkId.value = Drink.id
    guabaoCustom1SideDishId.value = sideDish.id
    guabaoCustom1BentoMainId.value = bentoMain.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總價格
const guabaoCustom1TotalQuantityPrice = computed(() => {
  return guabaoCustom1TotalQuantity.value * guabaoCustom1Price.value
})
const guabaoCustom1optionPrice = ref(0)
const guabaoCustom1finaltotal = computed(() => {
  return (
    guabaoCustom1TotalQuantityPrice.value + guabaoCustom1optionPrice.value
  )
})
// 將資料推進 tableRows
const submitGuabaoCustom1 = () => {
  if (guabaoCustom1TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (guabaoCustom1Price.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 38,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    bentoMains: '',
    quantity: guabaoCustom1TotalQuantity.value,
    price: guabaoCustom1finaltotal.value,
    optionPrice: guabaoCustom1optionPrice.value,
    totalPrice: guabaoCustom1TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: guabaoCustom1Comment.value
  }

  const totalQuantity = guabaoCustom1TotalQuantity.value
  console.log(totalQuantity)
  for (const guabaoCustom1Main of guabaoCustom1Mains) {
    if (guabaoCustom1Main.quantity > 0) {
      row.Main +=
        guabaoCustom1Main.name +
        'x' +
        parseInt(guabaoCustom1Main.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: guabaoCustom1MainMealId.value,
        productTypeName: guabaoCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: guabaoCustom1Main.id,
        name: guabaoCustom1Main.name,
        value: parseInt(guabaoCustom1Main.quantity),
        type: 1
      }
      row.inputs.push(input)
      guabaoCustom1Main.quantity = 0
    }
  }
  for (const guabaoCustom1Drink of guabaoCustom1Drinks) {
    if (guabaoCustom1Drink.quantity > 0) {
      row.drinks +=
        guabaoCustom1Drink.name +
        'x' +
        parseInt(guabaoCustom1Drink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: guabaoCustom1DrinkName.value,
        productTypeId: guabaoCustom1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: guabaoCustom1Drink.id,
        name: guabaoCustom1Drink.name,
        value: parseInt(guabaoCustom1Drink.quantity),
        type: 2
      }
      row.inputs.push(input)
      guabaoCustom1Drink.quantity = 0
    }
  }

  for (const guabaoCustom1SideDish of guabaoCustom1SideDishes) {
    if (guabaoCustom1SideDish.quantity > 0) {
      row.sideDishes +=
        guabaoCustom1SideDish.name +
        'x' +
        parseInt(guabaoCustom1SideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: guabaoCustom1SideDishName.value,
        productTypeId: guabaoCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += guabaoCustom1SideDish.is_default + ' '

      const input = {
        id: guabaoCustom1SideDish.id,
        name: guabaoCustom1SideDish.name,
        value: parseInt(guabaoCustom1SideDish.quantity),
        is_default: guabaoCustom1SideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      guabaoCustom1SideDish.quantity = 0
    }
  }

  // 副主餐
  for (const guabaoCustom1BentoMain of guabaoCustom1BentoMains) {
    if (guabaoCustom1BentoMain.quantity > 0) {
      row.bentoMains +=
        guabaoCustom1BentoMain.name +
        'x' +
        parseInt(guabaoCustom1BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: guabaoCustom1BentoMainName.value,
        productTypeId: guabaoCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: guabaoCustom1BentoMain.id,
        name: guabaoCustom1BentoMain.name,
        value: parseInt(guabaoCustom1BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      guabaoCustom1BentoMain.quantity = 0
    }
  }
  const productInput = {
    id: guabaoCustom1ProductId.value,
    name: guabaoCustom1Name.value,
    value: parseInt(totalQuantity),
    price: guabaoCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: guabaoCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (guabaoCustom1Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(guabaoCustom1Arbitrarily.value).toString()
    const input = {
      id: 'guabaoCustom1Arbitrarily',
      value: guabaoCustom1Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = guabaoCustom1Name.value + totalQuantity + '份'
  checkVegetable(row)
  guabaoCustom1Price.value = 0
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  showGuabaoCustom1.value = false
  guabaoCustom1Arbitrarily.value = 0
  guabaoCustom1TotalQuantity.value = 0
}

// editDialog35 導入欄位
const guabaoCustom1EditMains = reactive([])
const guabaoCustom1EditDrinks = reactive([])
const guabaoCustom1EditSideDishes = reactive([])
const guabaoCustom1EditBentoMains = reactive([])
const loadGuabaoCustom1Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1698')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const values = mainMeal.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const guabaoCustom1EditMain = {
          id: value.id,
          name: value.name,
          quantity: 0,
          hidenquantity: 0,
          shortname: value.short_name
        }
        guabaoCustom1EditMains.push(guabaoCustom1EditMain)
      }
    }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const guabaoCustom1EditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        hidenquantity: 0
      }
      guabaoCustom1EditDrinks.push(guabaoCustom1EditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const guabaoCustom1EditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          hidenquantity: 0,
          is_default: sideDishValue.is_default
        }
        guabaoCustom1EditSideDishes.push(guabaoCustom1EditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const guabaoCustom1EditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      }
      guabaoCustom1EditBentoMains.push(guabaoCustom1EditBentoMain)
    }
    guabaoCustom1EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
    })
    guabaoCustom1EditDrinks.forEach((drink) => {
      watch(
        () => drink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            drink.quantity = 0
          }
        }
      )
    })
    guabaoCustom1EditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    guabaoCustom1EditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })

    guabaoCustom1MainName.value = mainMeal.name
    guabaoCustom1DrinkName.value = Drink.name
    guabaoCustom1SideDishName.value = sideDish.name
    guabaoCustom1BentoMainName.value = bentoMain.name
  } catch (error) {
    console.error(error)
  }
}

// 客製刈包盒餐
const guabaoCustom2Mains = reactive([])
const guabaoCustom2SideDishes = reactive([])
const guabaoCustom2SideDishName = ref('')
const guabaoCustom2DrinkName = ref('')
const guabaoCustom2MainName = ref('')
const guabaoCustom2Name = ref('')
const guabaoCustom2Price = ref(0)
const guabaoCustom2ProductId = ref('')
const guabaoCustom2BentoMains = reactive([])
const guabaoCustom2Burrito6inchs = reactive([])
const guabaoCustom2MainMealId = ref('')
const guabaoCustom2DrinkId = ref('')
const guabaoCustom2SideDishId = ref('')
const guabaoCustom2BentoMainName = ref('')
const guabaoCustom2BentoMainId = ref('')
const guabaoCustom2Burrito6inchName = ref('')
const guabaoCustom2Burrito6inchId = ref('')
const loadGuabaoCustom2 = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1699')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        guabaoCustom2Mains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        guabaoCustom2SideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      if (bentoMainValue.is_active) {
        guabaoCustom2BentoMains.push({
          id: bentoMainValue.id,
          name: bentoMainValue.name,
          quantity: 0,
          hidenquantity: 0
        })
      }
    }
    // 6inch
    // const Burrito6inch = productOptions.burrito_6inch
    // const Burrito6inchValues = Burrito6inch.product_option_values
    // for (const Burrito6inchValue of Burrito6inchValues) {
    //   guabaoCustom2Burrito6inchs.push({
    //     id: Burrito6inchValue.id,
    //     name: Burrito6inchValue.name,
    //     quantity: 0,
    //     hidenquantity: 0
    //   })
    // }
    guabaoCustom2Mains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '') {
              drink.quantity = 0
            }
          }
        )
      })
    })
    guabaoCustom2SideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    guabaoCustom2BentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    guabaoCustom2Name.value = response.data.name
    console.log('明子從這裡', response.data.name)
    console.log('明子從這裡2', guabaoCustom2Name.value)
    guabaoCustom2MainName.value = mainMeal.name
    guabaoCustom2DrinkName.value = drink.name
    guabaoCustom2SideDishName.value = sideDish.name
    guabaoCustom2ProductId.value = response.data.id
    guabaoCustom2MainMealId.value = mainMeal.id
    guabaoCustom2DrinkId.value = drink.id
    guabaoCustom2SideDishId.value = sideDish.id
    guabaoCustom2BentoMainId.value = bentoMain.id
    guabaoCustom2BentoMainName.value = bentoMain.name
    // guabaoCustom2Burrito6inchId.value = Burrito6inch.id
    // guabaoCustom2Burrito6inchName.value = Burrito6inch.name
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
const guabaoCustom2TotalQuantity = ref(0)
const guabaoCustom2optionPrice = ref(0)
// 計算總價格
const guabaoCustom2TotalQuantityPrice = computed(() => {
  return guabaoCustom2TotalQuantity.value * guabaoCustom2Price.value
})
const guabaoCustom2finaltotal = computed(() => {
  return (
    guabaoCustom2TotalQuantityPrice.value + guabaoCustom2optionPrice.value
  )
})
const submitGuabaoCustom2 = () => {
  if (guabaoCustom2TotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (guabaoCustom2Price.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1
  const row = {
    bentoType: 39,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: guabaoCustom2TotalQuantity.value,
    price: guabaoCustom2finaltotal.value,
    optionPrice: guabaoCustom2optionPrice.value,
    totalPrice: guabaoCustom2TotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: guabaoCustom2Comment.value
  }
  const totalQuantity = guabaoCustom2TotalQuantity.value
  for (const option of guabaoCustom2Mains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: guabaoCustom2DrinkName.value,
            productTypeId: guabaoCustom2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: guabaoCustom2MainMealId.value,
        productTypeName: guabaoCustom2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: guabaoCustom2DrinkName.value,
            productTypeId: guabaoCustom2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: guabaoCustom2MainMealId.value,
        productTypeName: guabaoCustom2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // 推進配菜
  for (const sideDish of guabaoCustom2SideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: guabaoCustom2SideDishName.value,
        productTypeId: guabaoCustom2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 副主餐
  for (const guabaoCustom2BentoMain of guabaoCustom2BentoMains) {
    if (guabaoCustom2BentoMain.quantity > 0) {
      if (row.bentoMains !== '') {
        row.bentoMains += ','
      }
      row.bentoMains +=
        guabaoCustom2BentoMain.name +
        'x' +
        parseInt(guabaoCustom2BentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: guabaoCustom2BentoMainName.value,
        productTypeId: guabaoCustom2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: guabaoCustom2BentoMain.id,
        name: guabaoCustom2BentoMain.name,
        value: parseInt(guabaoCustom2BentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
      guabaoCustom2BentoMain.quantity = 0
    }
  }
  for (const guabaoCustom2Burrito6inch of guabaoCustom2Burrito6inchs) {
    if (guabaoCustom2Burrito6inch.quantity > 0) {
      if (row.bentoMains !== '') {
        row.bentoMains += ','
      }
      row.bentoMains +=
        guabaoCustom2Burrito6inch.name +
        'x' +
        parseInt(guabaoCustom2Burrito6inch.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: guabaoCustom2Burrito6inchName.value,
        productTypeId: guabaoCustom2Burrito6inchId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)

      const input = {
        id: guabaoCustom2Burrito6inch.id,
        name: guabaoCustom2Burrito6inch.name,
        value: parseInt(guabaoCustom2Burrito6inch.quantity),
        type: 4
      }
      row.inputs.push(input)
      guabaoCustom2Burrito6inch.quantity = 0
    }
  }
  // 保留 客製盒餐、數量、
  const productInput = {
    id: guabaoCustom2ProductId.value,
    name: guabaoCustom2Name.value,
    value: parseInt(totalQuantity),
    price: guabaoCustom2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: guabaoCustom2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (guabaoCustom2Arbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(guabaoCustom2Arbitrarily.value).toString()
    const input = {
      id: 'guabaoCustom2Arbitrarily',
      value: guabaoCustom2Arbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  console.log('名子呢', guabaoCustom2Name.value)
  row.name = guabaoCustom2Name.value + totalQuantity + '份'
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    // 如果 row.Main 或 row.sideDishes 不是空的，則添加到 tableRows
    tableRows.push(row)
    showGuabaoCustom2.value = false
    guabaoCustom2Arbitrarily.value = 0
    guabaoCustom2TotalQuantity.value = 0
    guabaoCustom2Price.value = 0
  }
}
// editDialog36 導入欄位
const guabaoCustom2EditMains = reactive([])
const guabaoCustom2EditSideDishes = reactive([])
const guabaoCustom2EditSideDishName = ref('')
const guabaoCustom2EditDrinkName = ref('')
const guabaoCustom2EditMainName = ref('')
const guabaoCustom2EditName = ref('')
const guabaoCustom2EditBentoMains = reactive([])
const loadGuabaoCustom2Edit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1699')
    const productOptions = response.data.product_options

    // 主餐
    const mainMeal = productOptions.main_meal
    const mainMealValues = mainMeal.product_option_values

    // 飲料
    const drink = productOptions.drink
    const drinkValues = drink.product_option_values

    for (const mainMealValue of mainMealValues) {
      if (mainMealValue.is_active) {
        const main = {
          id: mainMealValue.id,
          name: mainMealValue.name,
          quantity: 0,
          shortname: mainMealValue.short_name
        }

        main.drinks = drinkValues.map((drinkValue) => ({
          id: drinkValue.id,
          name: drinkValue.name,
          quantity: 0
        }))

        guabaoCustom2EditMains.push(main)
      }
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        guabaoCustom2EditSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // bentomains
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      guabaoCustom2EditBentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        hidenquantity: 0
      })
    }
    // watch = 0
    guabaoCustom2EditMains.forEach((main) => {
      watch(
        () => main.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            main.quantity = 0
          }
        }
      )
      main.drinks.forEach((drink) => {
        watch(
          () => drink.quantity,
          (newVal, oldVal) => {
            if (newVal === '') {
              drink.quantity = 0
            }
          }
        )
      })
    })
    guabaoCustom2EditSideDishes.forEach((sideDish) => {
      watch(
        () => sideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            sideDish.quantity = 0
          }
        }
      )
    })
    guabaoCustom2EditBentoMains.forEach((bentoMain) => {
      watch(
        () => bentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bentoMain.quantity = 0
          }
        }
      )
    })
    guabaoCustom2EditName.value = response.data.name
    guabaoCustom2EditMainName.value = mainMeal.name
    guabaoCustom2EditDrinkName.value = drink.name
    guabaoCustom2EditSideDishName.value = sideDish.name
  } catch (error) {
    console.error(error)
  }
}

// 單點
const bangdongSolo6inchs = reactive([])
const bangdongSolo6inchName = ref('')
const GuabaoSolos = reactive([])
const GuabaoSoloName = ref('')
const bangdongSolo3inchs = reactive([])
const bangdongSolo3inchName = ref('')
const bangdongSoloDrinks = reactive([])
const bangdongSoloDrinkName = ref('')
const bangdongSoloSideDishes = reactive([])
const bangdongSoloSideDishName = ref('')
const bangdongSoloBentoMains = reactive([])
const bangdongSoloBentoMainName = ref('')
const bangdongSoloEcoBags = reactive([])
const bangdongSoloEcoBagName = ref('')
const bangdongSoloName = ref('')
const bangdongSoloProductId = ref('')
const bangdongSolo6inchId = ref('')
const GuabaoSoloId = ref('')
// const bangdongSolo3inchId = ref('')
const bangdongSoloDrinkId = ref('')
const bangdongSoloSideDishId = ref('')
const bangdongSoloBentoMainId = ref('')
const bangdongSoloEcoBagId = ref('')
const editDialog10 = ref(false)
// 抓取單點商品形成 input
const loadBangdongSolo = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1062')
    const productOptions = response.data.product_options
    // 6 吋
    const burrito6inch = productOptions.burrito_6inch
    const burrito6inchValues = burrito6inch.product_option_values

    for (const burrito6inchValue of burrito6inchValues) {
      if (burrito6inchValue.is_active) {
        bangdongSolo6inchs.push({
          id: burrito6inchValue.id,
          name: burrito6inchValue.name,
          price: burrito6inchValue.price,
          quantity: 0
        })
      }
    }
    // 刈包
    const GuabaoSolo = productOptions.GuabaoSolo
    const GuabaoSoloValues = GuabaoSolo.product_option_values

    for (const GuabaoSoloValue of GuabaoSoloValues) {
      if (GuabaoSoloValue.is_active) {
        GuabaoSolos.push({
          id: GuabaoSoloValue.id,
          name: GuabaoSoloValue.name,
          price: GuabaoSoloValue.price,
          quantity: 0
        })
      }
    }
    /// / 3 吋
    // const burrito3inch = productOptions.burrito_3inch;
    // const burrito3inchValues = burrito3inch.product_option_values;

    // for (const burrito3inchValue of burrito3inchValues) {
    //   bangdongSolo3inchs.push({
    //     id: burrito3inchValue.id,
    //     name: burrito3inchValue.name,
    //     price: burrito3inchValue.price,
    //     quantity: 0,
    //   });
    // }
    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values

    for (const DrinkValue of DrinkValues) {
      bangdongSoloDrinks.push({
        id: DrinkValue.id,
        name: DrinkValue.name,
        price: DrinkValue.price,
        quantity: 0
      })
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values

    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        bangdongSoloSideDishes.push({
          id: sideDishValue.id,
          name: sideDishValue.name,
          price: sideDishValue.price,
          quantity: 0,
          is_default: sideDishValue.is_default
        })
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      bangdongSoloBentoMains.push({
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        price: bentoMainValue.price,
        quantity: 0
      })
    }
    // 環保袋
    const ecoBag = productOptions.eco_bag
    const ecoBagValues = ecoBag.product_option_values
    for (const ecoBagValue of ecoBagValues) {
      bangdongSoloEcoBags.push({
        id: ecoBagValue.id,
        name: ecoBagValue.name,
        price: ecoBagValue.price,
        quantity: 0
      })
    }

    // if = '' get 0
    bangdongSolo6inchs.forEach((bangdongSolo6inch) => {
      watch(
        () => bangdongSolo6inch.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSolo6inch.quantity = 0
          }
        }
      )
    })
    GuabaoSolos.forEach((GuabaoSolo) => {
      watch(
        () => GuabaoSolo.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            GuabaoSolo.quantity = 0
          }
        }
      )
    })
    bangdongSolo3inchs.forEach((bangdongSolo3inch) => {
      watch(
        () => bangdongSolo3inch.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSolo3inch.quantity = 0
          }
        }
      )
    })
    bangdongSoloDrinks.forEach((bangdongSoloDrink) => {
      watch(
        () => bangdongSoloDrink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloDrink.quantity = 0
          }
        }
      )
    })
    bangdongSoloSideDishes.forEach((bangdongSoloSideDish) => {
      watch(
        () => bangdongSoloSideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloSideDish.quantity = 0
          }
        }
      )
    })
    bangdongSoloBentoMains.forEach((bangdongSoloBentoMain) => {
      watch(
        () => bangdongSoloBentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloBentoMain.quantity = 0
          }
        }
      )
    })
    bangdongSoloEcoBags.forEach((bangdongSoloEcoBag) => {
      watch(
        () => bangdongSoloEcoBag.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloEcoBag.quantity = 0
          }
        }
      )
    })

    bangdongSoloName.value = response.data.name
    bangdongSolo6inchName.value = burrito6inch.name
    GuabaoSoloName.value = GuabaoSolo.name
    // bangdongSolo3inchName.value = burrito3inch.name;
    bangdongSoloDrinkName.value = Drink.name
    bangdongSoloSideDishName.value = sideDish.name
    bangdongSoloBentoMainName.value = bentoMain.name
    bangdongSoloEcoBagName.value = ecoBag.name
    bangdongSoloProductId.value = response.data.id
    bangdongSolo6inchId.value = burrito6inch.id
    GuabaoSoloId.value = GuabaoSolo.id
    // bangdongSolo3inchId.value = burrito3inch.id;
    bangdongSoloDrinkId.value = Drink.id
    bangdongSoloSideDishId.value = sideDish.id
    bangdongSoloBentoMainId.value = bentoMain.id
    bangdongSoloEcoBagId.value = ecoBag.id
  } catch (error) {
    console.error(error)
  }
}

// 計算總數量
const bangdongSoloTotalQuantity = computed(() => {
  let total = 0
  total += bangdongSolo6inchs.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += GuabaoSolos.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSolo3inchs.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloDrinks.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloSideDishes.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloBentoMains.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloEcoBags.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )

  return total
})
// 計算總價格
const bangdongSoloTotalQuantityPrice = computed(() => {
  let total = 0
  total += bangdongSolo6inchs.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += GuabaoSolos.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSolo3inchs.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloDrinks.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloSideDishes.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloBentoMains.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloEcoBags.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )

  return total
})
// 將資料推進 tableRows
const submitBangdongSolo = () => {
  const nextId =
    tableRows.length > 0 ? tableRows[tableRows.length - 1].id + 1 : 1

  const row = {
    bentoType: 10,
    id: nextId,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    price: bangdongSoloTotalQuantityPrice.value,
    optionPrice: 0,
    totalPrice: bangdongSoloTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongSoloComment.value
  }

  const totalQuantity = bangdongSoloTotalQuantity.value
  // 6 吋潤餅
  const bangdongSolo6inchCompositions = []
  for (const bangdongSolo6inch of bangdongSolo6inchs) {
    if (bangdongSolo6inch.quantity > 0) {
      const bangdongSolo6inchComposition =
        `${bangdongSolo6inch.name} x${bangdongSolo6inch.quantity}` + '<br>'
      bangdongSolo6inchCompositions.push(bangdongSolo6inchComposition)
      // 保留 6 吋潤餅名稱、ID
      const productInput = {
        productTypeName: bangdongSolo6inchName.value,
        productTypeId: bangdongSolo6inchId.value,
        productType: 'options_with_qty',
        type: 5
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSolo6inch.id,
        name: bangdongSolo6inch.name,
        value: parseInt(bangdongSolo6inch.quantity),
        type: 5
      }
      row.inputs.push(input)

      bangdongSolo6inch.quantity = 0
    }
  }
  if (bangdongSolo6inchCompositions.length > 0) {
    row.Main += `${
      bangdongSolo6inchName.value
    }  (${bangdongSolo6inchCompositions.join(', ')}`
  }
  // 刈包
  const GuabaoSoloCompositions = []
  for (const GuabaoSolo of GuabaoSolos) {
    if (GuabaoSolo.quantity > 0) {
      const GuabaoSoloComposition =
        `${GuabaoSolo.name} x${GuabaoSolo.quantity}` + '<br>'
      GuabaoSoloCompositions.push(GuabaoSoloComposition)
      // 保留 刈包名稱、ID
      const productInput = {
        productTypeName: GuabaoSoloName.value,
        productTypeId: GuabaoSoloId.value,
        productType: 'options_with_qty',
        type: 6
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoSolo.id,
        name: GuabaoSolo.name,
        value: parseInt(GuabaoSolo.quantity),
        type: 6
      }
      row.inputs.push(input)

      GuabaoSolo.quantity = 0
    }
  }
  if (GuabaoSoloCompositions.length > 0) {
    row.Main += `${
      GuabaoSoloName.value
    }  (${GuabaoSoloCompositions.join(', ')}`
  }
  // 飲料
  for (const bangdongSoloDrink of bangdongSoloDrinks) {
    if (bangdongSoloDrink.quantity > 0) {
      row.drinks +=
        bangdongSoloDrink.name +
        'x' +
        parseInt(bangdongSoloDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、ID
      const productInput = {
        productTypeName: bangdongSoloDrinkName.value,
        productTypeId: bangdongSoloDrinkId.value,
        productType: 'options_with_qty',
        type: 7
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloDrink.id,
        name: bangdongSoloDrink.name,
        price: bangdongSoloDrink.price,
        value: parseInt(bangdongSoloDrink.quantity),
        type: 7
      }
      row.inputs.push(input)
      bangdongSoloDrink.quantity = 0
    }
  }
  // 配菜
  const bangdongSoloSideDishCompositions = []
  for (const bangdongSoloSideDish of bangdongSoloSideDishes) {
    if (bangdongSoloSideDish.quantity > 0) {
      const bangdongSoloSideDishComposition =
        `${bangdongSoloSideDish.name} x ${bangdongSoloSideDish.quantity}` +
        '<br>'
      bangdongSoloSideDishCompositions.push(bangdongSoloSideDishComposition)
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: bangdongSoloSideDishName.value,
        productTypeId: bangdongSoloSideDishId.value,
        productType: 'options_with_qty',
        type: 8
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloSideDish.id,
        name: bangdongSoloSideDish.name,
        price: bangdongSoloSideDish.price,
        value: parseInt(bangdongSoloSideDish.quantity),
        is_default: bangdongSoloSideDish.is_default,
        type: 8
      }
      row.inputs.push(input)
      row.Main += `${bangdongSoloSideDishCompositions.join(', ')}`
      bangdongSoloSideDish.quantity = 0
    }
  }
  // 副主餐
  const bangdongSoloBentoMainCompositions = []
  for (const bangdongSoloBentoMain of bangdongSoloBentoMains) {
    if (bangdongSoloBentoMain.quantity > 0) {
      const bangdongSoloBentoMainComposition =
        `${bangdongSoloBentoMain.name} x${bangdongSoloBentoMain.quantity}` +
        '<br>'
      bangdongSoloBentoMainCompositions.push(bangdongSoloBentoMainComposition)
      // 保留副主餐名稱、ID
      const productInput = {
        productTypeName: bangdongSoloBentoMainName.value,
        productTypeId: bangdongSoloBentoMainId.value,
        productType: 'options_with_qty',
        type: 9
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloBentoMain.id,
        name: bangdongSoloBentoMain.name,
        price: bangdongSoloBentoMain.price,
        value: parseInt(bangdongSoloBentoMain.quantity),
        type: 9
      }
      row.inputs.push(input)
      row.Main += `${bangdongSoloBentoMainCompositions.join(', ')}`
      bangdongSoloBentoMain.quantity = 0
    }
  }

  if (bangdongSoloSideDishCompositions.length > 0) {
    row.sideDishes += `配菜 (${bangdongSoloSideDishCompositions.join(', ')})`
  }

  if (bangdongSoloBentoMainCompositions.length > 0) {
    if (bangdongSoloSideDishCompositions.length > 0) {
      row.sideDishes += ', '
    }
    row.sideDishes += ` 副主餐 (${bangdongSoloBentoMainCompositions.join(
      ', '
    )})`
  }
  row.name = bangdongSoloName.value + totalQuantity + '份'

  // 購物袋
  const ecoBagCompositions = []
  for (const bangdongSoloEcoBag of bangdongSoloEcoBags) {
    if (bangdongSoloEcoBag.quantity > 0) {
      const ecoBagComposition =
        `${bangdongSoloEcoBag.name} x${bangdongSoloEcoBag.quantity}` + '<br>'
      ecoBagCompositions.push(ecoBagComposition)
      // 保留購物袋名稱、ID
      const productInput = {
        productTypeName: bangdongSoloEcoBagName.value,
        productTypeId: bangdongSoloEcoBagId.value,
        productType: 'options_with_qty',
        type: 0
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloEcoBag.id,
        name: bangdongSoloEcoBag.name,
        price: bangdongSoloEcoBag.price,
        value: parseInt(bangdongSoloEcoBag.quantity),
        type: 0
      }
      row.inputs.push(input)
      bangdongSoloEcoBag.quantity = 0
    }
  }

  if (ecoBagCompositions.length > 0) {
    row.name += ` (${ecoBagCompositions.join(',')}`
  }
  const productInput = {
    id: bangdongSoloProductId.value,
    name: bangdongSoloName.value,
    value: parseInt(totalQuantity),
    price: 0,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongSoloComment.value
  }
  row.productInputs.push(productInput)
  // 將這個 row 推進 tableRows 中
  tableRows.push(row)
  meal.tableRows2.push(row)
  showbangdongSolo.value = false
}
// reset-----------------------------------------
const ResetbangdongSolo = () => {
  for (const bangdongSolo6inch of bangdongSolo6inchs) {
    bangdongSolo6inch.quantity = 0
  }
  for (const bangdongSolo3inch of bangdongSolo3inchs) {
    bangdongSolo3inch.quantity = 0
  }
  for (const bangdongSoloDrink of bangdongSoloDrinks) {
    bangdongSoloDrink.quantity = 0
  }
  for (const bangdongSoloSideDish of bangdongSoloSideDishes) {
    bangdongSoloSideDish.quantity = 0
  }
  for (const bangdongSoloBentoMain of bangdongSoloBentoMains) {
    bangdongSoloBentoMain.quantity = 0
  }
  for (const bangdongSoloEcoBag of bangdongSoloEcoBags) {
    bangdongSoloEcoBag.quantity = 0
  }
  showbangdongSolo.value = false
}
// editDialog10 導入欄位
const bangdongSoloEdit6inchs = reactive([])
const GuabaoSoloEdits = reactive([])
const bangdongSoloEdit3inchs = reactive([])
const bangdongSoloEditDrinks = reactive([])
const bangdongSoloEditSideDishes = reactive([])
const bangdongSoloEditBentoMains = reactive([])
const bangdongSoloEditEcoBags = reactive([])
const bangdongSoloEditName = ref('')
const loadBangdongSoloEdit = async () => {
  try {
    // 延遲請求的時間（以毫秒為單位）
    const delay = 100

    // 延遲指定的時間
    await new Promise((resolve) => setTimeout(resolve, delay))
    const response = await apiAuth.get('catalog/product/1062')
    const productOptions = response.data.product_options

    // 6 吋潤餅
    const burrito6inch = productOptions.burrito_6inch
    const values = burrito6inch.product_option_values

    for (const value of values) {
      if (value.is_active) {
        const bangdongSoloEdit6inch = {
          id: value.id,
          name: value.name,
          quantity: 0,
          price: value.price,
          hidenquantity: 0
        }
        bangdongSoloEdit6inchs.push(bangdongSoloEdit6inch)
      }
    }
    // 刈包
    const GuabaoSolo = productOptions.GuabaoSolo
    const GuabaoValues = GuabaoSolo.product_option_values

    for (const GuabaoValue of GuabaoValues) {
      if (GuabaoValue.is_active) {
        const GuabaoSoloEdit = {
          id: GuabaoValue.id,
          name: GuabaoValue.name,
          quantity: 0,
          price: GuabaoValue.price,
          hidenquantity: 0
        }
        GuabaoSoloEdits.push(GuabaoSoloEdit)
      }
    }

    // 飲料
    const Drink = productOptions.drink
    const DrinkValues = Drink.product_option_values
    for (const DrinkValue of DrinkValues) {
      const bangdongSoloEditDrink = {
        id: DrinkValue.id,
        name: DrinkValue.name,
        quantity: 0,
        price: DrinkValue.price,
        hidenquantity: 0
      }
      bangdongSoloEditDrinks.push(bangdongSoloEditDrink)
    }
    // 配菜
    const sideDish = productOptions.side_dish
    const sideDishValues = sideDish.product_option_values
    for (const sideDishValue of sideDishValues) {
      if (sideDishValue.is_active) {
        const bangdongSoloEditSideDish = {
          id: sideDishValue.id,
          name: sideDishValue.name,
          quantity: 0,
          price: sideDishValue.price,
          hidenquantity: 0,
          is_default: sideDishValue.is_default
        }
        bangdongSoloEditSideDishes.push(bangdongSoloEditSideDish)
      }
    }
    // 副主餐
    const bentoMain = productOptions.bento_main
    const bentoMainValues = bentoMain.product_option_values
    for (const bentoMainValue of bentoMainValues) {
      const bangdongSoloEditBentoMain = {
        id: bentoMainValue.id,
        name: bentoMainValue.name,
        quantity: 0,
        is_default: bentoMainValue.is_default,
        price: bentoMainValue.price,
        hidenquantity: 0
      }
      bangdongSoloEditBentoMains.push(bangdongSoloEditBentoMain)
    }
    // 環保袋
    const ecoBag = productOptions.eco_bag
    const ecoBagValues = ecoBag.product_option_values
    for (const ecoBagValue of ecoBagValues) {
      const bangdongSoloEditEcoBag = {
        id: ecoBagValue.id,
        name: ecoBagValue.name,
        price: ecoBagValue.price,
        quantity: 0,
        hidenquantity: 0
      }
      bangdongSoloEditEcoBags.push(bangdongSoloEditEcoBag)
    }
    // if got = '' get 0
    bangdongSoloEdit6inchs.forEach((bangdongSoloEdit6inch) => {
      watch(
        () => bangdongSoloEdit6inch.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloEdit6inch.quantity = 0
          }
        }
      )
    })
    GuabaoSoloEdits.forEach((GuabaoSoloEdit) => {
      watch(
        () => GuabaoSoloEdit.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            GuabaoSoloEdit.quantity = 0
          }
        }
      )
    })

    bangdongSoloEditDrinks.forEach((bangdongSoloEditDrink) => {
      watch(
        () => bangdongSoloEditDrink.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloEditDrink.quantity = 0
          }
        }
      )
    })
    bangdongSoloEditSideDishes.forEach((bangdongSoloEditSideDish) => {
      watch(
        () => bangdongSoloEditSideDish.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloEditSideDish.quantity = 0
          }
        }
      )
    })
    bangdongSoloEditBentoMains.forEach((bangdongSoloEditBentoMain) => {
      watch(
        () => bangdongSoloEditBentoMain.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloEditBentoMain.quantity = 0
          }
        }
      )
    })
    bangdongSoloEditEcoBags.forEach((bangdongSoloEditEcoBag) => {
      watch(
        () => bangdongSoloEditEcoBag.quantity,
        (newVal, oldVal) => {
          if (newVal === '') {
            bangdongSoloEditEcoBag.quantity = 0
          }
        }
      )
    })

    bangdongSolo6inchName.value = burrito6inch.name
    GuabaoSoloName.value = GuabaoSolo.name
    bangdongSoloDrinkName.value = Drink.name
    bangdongSoloSideDishName.value = sideDish.name
    bangdongSoloBentoMainName.value = bentoMain.name
    bangdongSoloEditName.value = response.data.name
  } catch (error) {
    console.error(error)
  }
}

// ------------------------------------- 刪除新增膗存 ----------------------

// 刪除該行
const deleteRow = (id) => {
  const index = tableRows.findIndex((row) => row.id === id)
  if (index >= 0) {
    tableRows.splice(index, 1)

    // 重新生成 ID
    for (let i = index; i < tableRows.length; i++) {
      tableRows[i].id = tableRows[i].id - 1
    }
  }
}

// 將 table 資料拆解放回修正欄位

let editingRow = null
let watchers = []
const timeout = 2000 // load delay
// 找到對應的 修改dialog
function editRowDialog (row) {
  console.log(row)
  if (row.bentoType === 1) {
    if (!isBangdong1Loaded.value) {
      loadBangdong1()
      loadBangdong1Edit()
      isBangdong1Loaded.value = true
    }
    setTimeout(function () {
      editBangdong1(row)
    }, timeout)
  } else if (row.bentoType === 2) {
    if (!isBangdong2Loaded.value) {
      loadBangdong2()
      loadBangdong2Edit()
      isBangdong2Loaded.value = true
    }
    setTimeout(function () {
      editBangdong2(row)
    }, timeout)
  } else if (row.bentoType === 3) {
    if (!isBangdong3Loaded.value) {
      loadBangdong3()
      loadBangdong3Edit()
      isBangdong3Loaded.value = true
    }
    setTimeout(function () {
      editBangdong3(row)
    }, timeout)
  } else if (row.bentoType === 4) {
    if (!isBangdong4Loaded.value) {
      loadBangdong4()
      loadBangdong4Edit()
      isBangdong4Loaded.value = true
    }
    setTimeout(function () {
      editBangdong4(row)
    }, timeout)
  } else if (row.bentoType === 5) {
    if (!isLunchBox1Loaded.value) {
      loadLunchBox1()
      loadLunchBox1Edit()
      isLunchBox1Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog5(row)
    }, timeout)
  } else if (row.bentoType === 6) {
    if (!isLunchBox2Loaded.value) {
      loadLunchBox2()
      loadLunchBox2Edit()
      isLunchBox2Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog6(row)
    }, timeout)
  } else if (row.bentoType === 7) {
    if (!isLunchBox3Loaded.value) {
      loadLunchBox3()
      loadLunchBox3Edit()
      isLunchBox3Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog7(row)
    }, timeout)
  } else if (row.bentoType === 8) {
    if (!isLunchBox4Loaded.value) {
      loadLunchBox4()
      loadLunchBox4Edit()
      isLunchBox4Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog8(row)
    }, timeout)
  } else if (row.bentoType === 9) {
    if (!isBangdongCustom1Loaded.value) {
      loadBangdongCustom1()
      loadBangdongCustom1Edit()
      isBangdongCustom1Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog9(row)
    }, timeout)
  } else if (row.bentoType === 0) {
    if (!isLunchBoxCustom1Loaded.value) {
      loadLunchBoxCustom1()
      loadLunchBoxCustom1Edit()
      isLunchBoxCustom1Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog0(row)
    }, timeout)
  } else if (row.bentoType === 10) {
    if (!isBangdongSoloLoaded.value) {
      loadBangdongSolo()
      loadBangdongSoloEdit()
      isBangdongSoloLoaded.value = true
    }
    setTimeout(function () {
      editBangdongSolo(row)
    }, timeout)
  } else if (row.bentoType === 11) {
    if (!isBangdongVegetarian1Loaded.value) {
      loadBangdongVegetarian1()
      loadBangdongVegetarian1Edit()
      isBangdongVegetarian1Loaded.value = true
    }
    setTimeout(function () {
      editBangdongVegetarian1(row)
    }, timeout)
  } else if (row.bentoType === 12) {
    if (!isBangdongVegetarian2Loaded.value) {
      loadBangdongVegetarian2()
      loadBangdongVegetarian2Edit()
      isBangdongVegetarian2Loaded.value = true
    }
    setTimeout(function () {
      editBangdongVegetarian2(row)
    }, timeout)
  } else if (row.bentoType === 13) {
    if (!isBangdongSalmonLoaded.value) {
      loadBangdongSalmon()
      loadBangdongSalmonEdit()
      isBangdongSalmonLoaded.value = true
    }
    setTimeout(function () {
      editBangdongSalmon(row)
    }, timeout)
  } else if (row.bentoType === 14) {
    if (!isLunchBox214Loaded.value) {
      loadLunchBox214()
      loadLunchBox214Edit()
      isLunchBox214Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog214(row)
    }, timeout)
  } else if (row.bentoType === 15) {
    if (!isRiceBox1Loaded.value) {
      loadRiceBox1()
      loadRiceBox1Edit()
      isRiceBox1Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox1(row)
    }, timeout)
  } else if (row.bentoType === 16) {
    if (!isRiceBox2Loaded.value) {
      loadRiceBox2()
      loadRiceBox2Edit()
      isRiceBox2Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox2(row)
    }, timeout)
  } else if (row.bentoType === 17) {
    if (!isRiceBox3Loaded.value) {
      loadRiceBox3()
      loadRiceBox3Edit()
      isRiceBox3Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox3(row)
    }, timeout)
  } else if (row.bentoType === 18) {
    if (!isRiceBox4Loaded.value) {
      loadRiceBox4()
      loadRiceBox4Edit()
      isRiceBox4Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox4(row)
    }, timeout)
  } else if (row.bentoType === 19) {
    if (!isRiceBox5Loaded.value) {
      loadRiceBox5()
      loadRiceBox5Edit()
      isRiceBox5Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox5(row)
    }, timeout)
  } else if (row.bentoType === 20) {
    if (!isRiceBox6Loaded.value) {
      loadRiceBox6()
      loadRiceBox6Edit()
      isRiceBox6Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox6(row)
    }, timeout)
  } else if (row.bentoType === 21) {
    if (!isBangdong5Loaded.value) {
      loadBangdong5()
      loadBangdong5Edit()
      isBangdong5Loaded.value = true
    }
    setTimeout(function () {
      editBangdong5(row)
    }, timeout)
  } else if (row.bentoType === 22) {
    if (!isRiceBox7Loaded.value) {
      loadRiceBox7()
      loadRiceBox7Edit()
      isRiceBox7Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox7(row)
    }, timeout)
  } else if (row.bentoType === 23) {
    if (!isBangdong6Loaded.value) {
      loadBangdong6()
      loadBangdong6Edit()
      isBangdong6Loaded.value = true
    }
    setTimeout(function () {
      editBangdong6(row)
    }, timeout)
  } else if (row.bentoType === 24) {
    if (!isGuabaoBangdong1Loaded.value) {
      loadGuabaoBangdong1()
      loadGuabaoBangdong1Edit()
      isGuabaoBangdong1Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdong1(row)
    }, timeout)
  } else if (row.bentoType === 25) {
    if (!isGuabaoBangdong6Loaded.value) {
      loadGuabaoBangdong6()
      loadGuabaoBangdong6Edit()
      isGuabaoBangdong6Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdong6(row)
    }, timeout)
  } else if (row.bentoType === 26) {
    if (!isGuabaoBangdong2Loaded.value) {
      loadGuabaoBangdong2()
      loadGuabaoBangdong2Edit()
      isGuabaoBangdong2Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdong2(row)
    }, timeout)
  } else if (row.bentoType === 27) {
    if (!isGuabaoBangdong3Loaded.value) {
      loadGuabaoBangdong3()
      loadGuabaoBangdong3Edit()
      isGuabaoBangdong3Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdong3(row)
    }, timeout)
  } else if (row.bentoType === 28) {
    if (!isGuabaoBangdong4Loaded.value) {
      loadGuabaoBangdong4()
      loadGuabaoBangdong4Edit()
      isGuabaoBangdong4Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdong4(row)
    }, timeout)
  } else if (row.bentoType === 29) {
    if (!isGuabaoBangdongSalmonLoaded.value) {
      loadGuabaoBangdongSalmon()
      loadGuabaoBangdongSalmonEdit()
      isGuabaoBangdongSalmonLoaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdongSalmon(row)
    }, timeout)
  } else if (row.bentoType === 30) {
    if (!isGuabaoBangdong5Loaded.value) {
      loadGuabaoBangdong5()
      loadGuabaoBangdong5Edit()
      isGuabaoBangdong5Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdong5(row)
    }, timeout)
  } else if (row.bentoType === 31) {
    if (!isGuabaoBangdongVegetarian1Loaded.value) {
      loadGuabaoBangdongVegetarian1()
      loadGuabaoBangdongVegetarian1Edit()
      isGuabaoBangdongVegetarian1Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdongVegetarian1(row)
    }, timeout)
  } else if (row.bentoType === 32) {
    if (!isGuabaoBangdongVegetarian2Loaded.value) {
      loadGuabaoBangdongVegetarian2()
      loadGuabaoBangdongVegetarian2Edit()
      isGuabaoBangdongVegetarian2Loaded.value = true
    }
    setTimeout(function () {
      editGuabaoBangdongVegetarian2(row)
    }, timeout)
  } else if (row.bentoType === 33) {
    if (!isGuabaoLunchbox2Loaded.value) {
      loadGuabaoLunchbox2()
      loadGuabaoLunchbox2Edit()
      isGuabaoLunchbox2Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog30(row)
    }, timeout)
  } else if (row.bentoType === 34) {
    if (!isGuabaoLunchbox3Loaded.value) {
      loadGuabaoLunchbox3()
      loadGuabaoLunchbox3Edit()
      isGuabaoLunchbox3Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog31(row)
    }, timeout)
  } else if (row.bentoType === 35) {
    if (!isGuabaoLunchbox4Loaded.value) {
      loadGuabaoLunchbox4()
      loadGuabaoLunchbox4Edit()
      isGuabaoLunchbox4Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog32(row)
    }, timeout)
  } else if (row.bentoType === 36) {
    if (!isRiceBox8Loaded.value) {
      loadRiceBox8()
      loadRiceBox8Edit()
      isRiceBox8Loaded.value = true
    }
    setTimeout(function () {
      editRiceBox8(row)
    }, timeout)
  } else if (row.bentoType === 37) {
    if (!isRiceBoxCustom1Loaded.value) {
      loadRiceBoxCustom1()
      loadRiceBoxCustom1Edit()
      isRiceBoxCustom1Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog34(row)
    }, timeout)
  } else if (row.bentoType === 38) {
    if (!isGuabaoCustom1Loaded.value) {
      loadGuabaoCustom1()
      loadGuabaoCustom1Edit()
      isGuabaoCustom1Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog35(row)
    }, timeout)
  } else if (row.bentoType === 39) {
    if (!isGuabaoCustom2Loaded.value) {
      loadGuabaoCustom2()
      loadGuabaoCustom2Edit()
      isGuabaoCustom2Loaded.value = true
    }
    setTimeout(function () {
      editRowDialog36(row)
    }, timeout)
  }
}
// 招牌油飯修改
// 招牌油飯修改

const editDialog15 = ref(false)
function editRiceBox1 (row) {
  // watchers.forEach((unwatch) => unwatch());
  // watchers = [];
  // 招牌油飯主餐歸零
  for (const riceBox1EditMain of riceBox1EditMains) {
    riceBox1EditMain.quantity = 0
  }
  // 招牌油飯飲料歸零
  for (const riceBox1EditDrink of riceBox1EditDrinks) {
    riceBox1EditDrink.quantity = 0
  }
  // 招牌油飯配菜歸零
  for (const riceBox1EditSideDish of riceBox1EditSideDishes) {
    riceBox1EditSideDish.quantity = 0
  }
  // 招牌油飯副主餐歸零
  for (const riceBox1EditBentoMain of riceBox1EditBentoMains) {
    riceBox1EditBentoMain.quantity = 0
  }
  // 招牌油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox1EditArbitrarily.value = input.value
    }
    // 招牌油飯  主餐  推入 input 數值
    const mainIndex = riceBox1EditMains.findIndex(
      (riceBox1EditMain) =>
        riceBox1EditMain.name === name || riceBox1EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 招牌油飯  飲料  推入 input 數值
    const drinkIndex = riceBox1EditDrinks.findIndex(
      (riceBox1EditDrink) => riceBox1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 招牌油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox1EditSideDishes.findIndex(
        (riceBox1EditSideDish) => riceBox1EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox1EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化
  editingRow = row
  riceBox1EditTotalQuantity.value = row.quantity
  riceBox1Comment.value = row.comment
  editDialog15.value = true
}

// 招牌油飯修正欄位總數量計算
watch(riceBox1EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox1EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox1EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 招牌油飯單價
const riceBox1EditPrice = computed(() => {
  return riceBox1Price.value
})

// 招牌油飯總價格
const riceBox1EditTotalQuantityPrice = computed(() => {
  const totalPrice =
  riceBox1EditTotalQuantity.value * riceBox1EditPrice.value
  return totalPrice
})
const riceBox1EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox1EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox1EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})

const riceBox1EditfinalTotal = computed(() => {
  const totalPrice =
  riceBox1EditoptionPrice.value + riceBox1EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog15 () {
  watchers.forEach((unwatch) => unwatch())
  // 清空 watchers 数组
  watchers = []
  editDialog15.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog15 () {
  if (riceBox1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox1EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox1EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox1EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 15,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    price: riceBox1EditfinalTotal.value,
    optionPrice: riceBox1EditoptionPrice.value,
    totalPrice: riceBox1EditTotalQuantityPrice.value,
    inputs: [],
    quantity: '',
    productInputs: [],
    comment: riceBox1Comment.value
  }

  const totalEditQuantity = riceBox1EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox1EditTotalQuantity.value
  for (const riceBox1EditMain of riceBox1EditMains) {
    if (riceBox1EditMain.quantity > 0) {
      row.Main +=
      riceBox1EditMain.name +
        'x' +
        parseInt(riceBox1EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox1MainMealId.value,
        productTypeName: riceBox1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox1EditMain.id,
        name: riceBox1EditMain.name,
        value: parseInt(riceBox1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const riceBox1EditDrink of riceBox1EditDrinks) {
    if (riceBox1EditDrink.quantity > 0) {
      row.drinks +=
      riceBox1EditDrink.name +
        'x' +
        parseInt(riceBox1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox1DrinkName.value,
        productTypeId: riceBox1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox1EditDrink.id,
        name: riceBox1EditDrink.name,
        value: parseInt(riceBox1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const riceBox1EditSideDish of riceBox1EditSideDishes) {
    if (riceBox1EditSideDish.quantity > 0) {
      row.sideDishes +=
      riceBox1EditSideDish.name +
        'x' +
        parseInt(riceBox1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox1SideDishName.value,
        productTypeId: riceBox1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox1EditSideDish.is_default + ' '
      const input = {
        id: riceBox1EditSideDish.id,
        name: riceBox1EditSideDish.name,
        value: parseInt(riceBox1EditSideDish.quantity),
        is_default: riceBox1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 保留 招牌油飯、1001、數量
  const productInput = {
    id: riceBox1ProductId.value,
    name: riceBox1Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox1EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox1EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox1EditArbitrarily',
      value: riceBox1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = riceBox1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog15.value = false
  riceBox1EditArbitrarily.value = 0
}
// 雞翅油飯修改

const editDialog22 = ref(false)
function editRiceBox7 (row) {
  // watchers.forEach((unwatch) => unwatch());
  // watchers = [];
  // 雞翅油飯主餐歸零
  for (const riceBox7EditMain of riceBox7EditMains) {
    riceBox7EditMain.quantity = 0
  }
  // 雞翅油飯飲料歸零
  for (const riceBox7EditDrink of riceBox7EditDrinks) {
    riceBox7EditDrink.quantity = 0
  }
  // 雞翅油飯配菜歸零
  for (const riceBox7EditSideDish of riceBox7EditSideDishes) {
    riceBox7EditSideDish.quantity = 0
  }
  // 雞翅油飯副主餐歸零
  for (const riceBox7EditBentoMain of riceBox7EditBentoMains) {
    riceBox7EditBentoMain.quantity = 0
  }
  // 雞翅油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox7EditArbitrarily.value = input.value
    }
    // 雞翅油飯  主餐  推入 input 數值
    const mainIndex = riceBox7EditMains.findIndex(
      (riceBox7EditMain) =>
        riceBox7EditMain.name === name || riceBox7EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox7EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞翅油飯  飲料  推入 input 數值
    const drinkIndex = riceBox7EditDrinks.findIndex(
      (riceBox7EditDrink) => riceBox7EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox7EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 雞翅油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox7EditSideDishes.findIndex(
        (riceBox7EditSideDish) => riceBox7EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox7EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化
  editingRow = row
  riceBox7EditTotalQuantity.value = row.quantity
  riceBox7Comment.value = row.comment
  editDialog22.value = true
}

// 雞翅油飯修正欄位總數量計算
watch(riceBox7EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox7EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox7EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 雞翅油飯單價
const riceBox7EditPrice = computed(() => {
  return riceBox7Price.value
})

// 雞翅油飯總價格
const riceBox7EditTotalQuantityPrice = computed(() => {
  const totalPrice =
  riceBox7EditTotalQuantity.value * riceBox7EditPrice.value
  return totalPrice
})
const riceBox7EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox7EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox7EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})

const riceBox7EditfinalTotal = computed(() => {
  const totalPrice =
  riceBox7EditoptionPrice.value + riceBox7EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog22 () {
  watchers.forEach((unwatch) => unwatch())
  // 清空 watchers 数组
  watchers = []
  editDialog22.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog22 () {
  if (riceBox7EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox7EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox7EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox7EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 22,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    price: riceBox7EditfinalTotal.value,
    optionPrice: riceBox7EditoptionPrice.value,
    totalPrice: riceBox7EditTotalQuantityPrice.value,
    inputs: [],
    quantity: '',
    productInputs: [],
    comment: riceBox7Comment.value
  }

  const totalEditQuantity = riceBox7EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox7EditTotalQuantity.value
  for (const riceBox7EditMain of riceBox7EditMains) {
    if (riceBox7EditMain.quantity > 0) {
      row.Main +=
      riceBox7EditMain.name +
        'x' +
        parseInt(riceBox7EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox7MainMealId.value,
        productTypeName: riceBox7MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox7EditMain.id,
        name: riceBox7EditMain.name,
        value: parseInt(riceBox7EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const riceBox7EditDrink of riceBox7EditDrinks) {
    if (riceBox7EditDrink.quantity > 0) {
      row.drinks +=
      riceBox7EditDrink.name +
        'x' +
        parseInt(riceBox7EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox7DrinkName.value,
        productTypeId: riceBox7DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox7EditDrink.id,
        name: riceBox7EditDrink.name,
        value: parseInt(riceBox7EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const riceBox7EditSideDish of riceBox7EditSideDishes) {
    if (riceBox7EditSideDish.quantity > 0) {
      row.sideDishes +=
      riceBox7EditSideDish.name +
        'x' +
        parseInt(riceBox7EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBox7SideDishName.value,
        productTypeId: riceBox7SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox7EditSideDish.is_default + ' '
      const input = {
        id: riceBox7EditSideDish.id,
        name: riceBox7EditSideDish.name,
        value: parseInt(riceBox7EditSideDish.quantity),
        is_default: riceBox7EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞翅油飯、1001、數量
  const productInput = {
    id: riceBox7ProductId.value,
    name: riceBox7Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox7EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox7Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox7EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox7EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox7EditArbitrarily',
      value: riceBox7EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = riceBox7Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog22.value = false
  riceBox7EditArbitrarily.value = 0
}

// 雞胸油飯修改

const editDialog16 = ref(false)

function editRiceBox2 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 雞胸油飯主餐歸零
  for (const riceBox2EditMain of riceBox2EditMains) {
    riceBox2EditMain.quantity = 0
  }
  // 雞胸油飯飲料歸零
  for (const riceBox2EditDrink of riceBox2EditDrinks) {
    riceBox2EditDrink.quantity = 0
  }
  // 雞胸油飯配菜歸零
  for (const riceBox2EditSideDish of riceBox2EditSideDishes) {
    riceBox2EditSideDish.quantity = 0
  }
  // 雞胸油飯副主餐歸零
  for (const riceBox2EditBentoMain of riceBox2EditBentoMains) {
    riceBox2EditBentoMain.quantity = 0
  }
  // 雞胸油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox2EditArbitrarily.value = input.value
    }
    // 雞胸油飯  主餐  推入 input 數值
    const mainIndex = riceBox2EditMains.findIndex(
      (riceBox2EditMain) =>
        riceBox2EditMain.name === name || riceBox2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox2EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞胸油飯  飲料  推入 input 數值
    const drinkIndex = riceBox2EditDrinks.findIndex(
      (riceBox2EditDrink) => riceBox2EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox2EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 雞胸油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox2EditSideDishes.findIndex(
        (riceBox2EditSideDish) => riceBox2EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox2EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 雞胸油飯  副主餐  推入 input 數值
      const bentoMainIndex = riceBox2EditBentoMains.findIndex(
        (riceBox2EditBentoMain) => riceBox2EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        riceBox2EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  riceBox2EditTotalQuantity.value = row.quantity
  riceBox2Comment.value = row.comment
  editDialog16.value = true
}

// 控肉油飯修改

const editDialog33 = ref(false)

function editRiceBox8 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 控肉油飯主餐歸零
  for (const riceBox8EditMain of riceBox8EditMains) {
    riceBox8EditMain.quantity = 0
  }
  // 控肉油飯飲料歸零
  for (const riceBox8EditDrink of riceBox8EditDrinks) {
    riceBox8EditDrink.quantity = 0
  }
  // 控肉油飯配菜歸零
  for (const riceBox8EditSideDish of riceBox8EditSideDishes) {
    riceBox8EditSideDish.quantity = 0
  }
  // 控肉油飯副主餐歸零
  for (const riceBox8EditBentoMain of riceBox8EditBentoMains) {
    riceBox8EditBentoMain.quantity = 0
  }
  // 控肉油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox8EditArbitrarily.value = input.value
    }
    // 控肉油飯  主餐  推入 input 數值
    const mainIndex = riceBox8EditMains.findIndex(
      (riceBox8EditMain) =>
        riceBox8EditMain.name === name || riceBox8EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox8EditMains[mainIndex].quantity = parseInt(value)
    }
    // 控肉油飯  飲料  推入 input 數值
    const drinkIndex = riceBox8EditDrinks.findIndex(
      (riceBox8EditDrink) => riceBox8EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox8EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 控肉油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox8EditSideDishes.findIndex(
        (riceBox8EditSideDish) => riceBox8EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox8EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 控肉油飯  副主餐  推入 input 數值
      const bentoMainIndex = riceBox8EditBentoMains.findIndex(
        (riceBox8EditBentoMain) => riceBox8EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        riceBox8EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  riceBox8EditTotalQuantity.value = row.quantity
  riceBox8Comment.value = row.comment
  editDialog33.value = true
}

// 控肉油飯總數量
watch(riceBox8EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox8EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox8EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 控肉油飯單價
const riceBox8EditPrice = computed(() => {
  return riceBox8Price.value
})
// 控肉油飯總價格
const riceBox8EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    riceBox8EditTotalQuantity.value * riceBox8EditPrice.value

  return totalPrice
})
const riceBox8EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox8EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox8EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const riceBox8EditfinalTotal = computed(() => {
  const totalPrice =
    riceBox8EditoptionPrice.value + riceBox8EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog33 () {
  editDialog33.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog33 () {
  if (riceBox8EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox8EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox8EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox8EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 36,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox8EditfinalTotal.value,
    optionPrice: riceBox8EditoptionPrice.value,
    totalPrice: riceBox8EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox8Comment.value
  }

  const totalEditQuantity = riceBox8EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox8EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const riceBox8EditMain of riceBox8EditMains) {
    if (riceBox8EditMain.quantity > 0) {
      row.Main +=
        riceBox8EditMain.name +
        'x' +
        parseInt(riceBox8EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox8MainMealId.value,
        productTypeName: riceBox8MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox8EditMain.id,
        name: riceBox8EditMain.name,
        value: parseInt(riceBox8EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const riceBox8EditDrink of riceBox8EditDrinks) {
    if (riceBox8EditDrink.quantity > 0) {
      row.drinks +=
        riceBox8EditDrink.name +
        'x' +
        parseInt(riceBox8EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox8DrinkName.value,
        productTypeId: riceBox8DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox8EditDrink.id,
        name: riceBox8EditDrink.name,
        value: parseInt(riceBox8EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const riceBox8EditSideDish of riceBox8EditSideDishes) {
    if (riceBox8EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBox8EditSideDish.name +
        'x' +
        parseInt(riceBox8EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: riceBox8SideDishName.value,
        productTypeId: riceBox8SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox8EditSideDish.is_default + ' '
      const input = {
        id: riceBox8EditSideDish.id,
        name: riceBox8EditSideDish.name,
        value: parseInt(riceBox8EditSideDish.quantity),
        is_default: riceBox8EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBox8EditBentoMain of riceBox8EditBentoMains) {
    if (riceBox8EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox8EditBentoMain.name +
        'x' +
        parseInt(riceBox8EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: riceBox8BentoMainName.value,
        productTypeId: riceBox8BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox8EditBentoMain.id,
        name: riceBox8EditBentoMain.name,
        value: parseInt(riceBox8EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 控肉油飯、1002、數量
  const productInput = {
    id: riceBox8ProductId.value,
    name: riceBox8Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox8EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox8Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox8EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox8EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox8EditArbitrarily',
      value: riceBox8EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox8Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog33.value = false
  riceBox8EditArbitrarily.value = 0
  console.log(row)
}

// 雞胸油飯總數量
watch(riceBox2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox2EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox2EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 雞胸油飯單價
const riceBox2EditPrice = computed(() => {
  return riceBox2Price.value
})
// 雞胸油飯總價格
const riceBox2EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    riceBox2EditTotalQuantity.value * riceBox2EditPrice.value

  return totalPrice
})
const riceBox2EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox2EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const riceBox2EditfinalTotal = computed(() => {
  const totalPrice =
    riceBox2EditoptionPrice.value + riceBox2EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog16 () {
  editDialog16.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog16 () {
  if (riceBox2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox2EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox2EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox2EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 16,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox2EditfinalTotal.value,
    optionPrice: riceBox2EditoptionPrice.value,
    totalPrice: riceBox2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox2Comment.value
  }

  const totalEditQuantity = riceBox2EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox2EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const riceBox2EditMain of riceBox2EditMains) {
    if (riceBox2EditMain.quantity > 0) {
      row.Main +=
        riceBox2EditMain.name +
        'x' +
        parseInt(riceBox2EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox2MainMealId.value,
        productTypeName: riceBox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox2EditMain.id,
        name: riceBox2EditMain.name,
        value: parseInt(riceBox2EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const riceBox2EditDrink of riceBox2EditDrinks) {
    if (riceBox2EditDrink.quantity > 0) {
      row.drinks +=
        riceBox2EditDrink.name +
        'x' +
        parseInt(riceBox2EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox2DrinkName.value,
        productTypeId: riceBox2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox2EditDrink.id,
        name: riceBox2EditDrink.name,
        value: parseInt(riceBox2EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const riceBox2EditSideDish of riceBox2EditSideDishes) {
    if (riceBox2EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBox2EditSideDish.name +
        'x' +
        parseInt(riceBox2EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: riceBox2SideDishName.value,
        productTypeId: riceBox2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox2EditSideDish.is_default + ' '
      const input = {
        id: riceBox2EditSideDish.id,
        name: riceBox2EditSideDish.name,
        value: parseInt(riceBox2EditSideDish.quantity),
        is_default: riceBox2EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBox2EditBentoMain of riceBox2EditBentoMains) {
    if (riceBox2EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox2EditBentoMain.name +
        'x' +
        parseInt(riceBox2EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: riceBox2BentoMainName.value,
        productTypeId: riceBox2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox2EditBentoMain.id,
        name: riceBox2EditBentoMain.name,
        value: parseInt(riceBox2EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞胸油飯、1002、數量
  const productInput = {
    id: riceBox2ProductId.value,
    name: riceBox2Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox2EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox2EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox2EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox2EditArbitrarily',
      value: riceBox2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog16.value = false
  riceBox2EditArbitrarily.value = 0
  console.log(row)
}

// 雞腿油飯修改

const editDialog17 = ref(false)

function editRiceBox3 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 雞腿油飯主餐歸零
  for (const riceBox3EditMain of riceBox3EditMains) {
    riceBox3EditMain.quantity = 0
  }
  // 雞腿油飯飲料歸零
  for (const riceBox3EditDrink of riceBox3EditDrinks) {
    riceBox3EditDrink.quantity = 0
  }
  // 雞腿油飯配菜歸零
  for (const riceBox3EditSideDish of riceBox3EditSideDishes) {
    riceBox3EditSideDish.quantity = 0
  }
  // 雞腿油飯副主餐歸零
  for (const riceBox3EditBentoMain of riceBox3EditBentoMains) {
    riceBox3EditBentoMain.quantity = 0
  }
  // 雞腿油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox3EditArbitrarily.value = input.value
    }
    // 雞腿油飯  主餐  推入 input 數值
    const mainIndex = riceBox3EditMains.findIndex(
      (riceBox3EditMain) =>
        riceBox3EditMain.name === name || riceBox3EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox3EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞腿油飯  飲料  推入 input 數值
    const drinkIndex = riceBox3EditDrinks.findIndex(
      (riceBox3EditDrink) => riceBox3EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox3EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 雞腿油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox3EditSideDishes.findIndex(
        (riceBox3EditSideDish) => riceBox3EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox3EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 雞腿油飯  副主餐  推入 input 數值
      const bentoMainIndex = riceBox3EditBentoMains.findIndex(
        (riceBox3EditBentoMain) => riceBox3EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        riceBox3EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  riceBox3EditTotalQuantity.value = row.quantity
  riceBox3Comment.value = row.comment
  editDialog17.value = true
}

// 雞腿油飯總數量
watch(riceBox3EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox3EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox3EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 雞腿油飯單價
const riceBox3EditPrice = computed(() => {
  return riceBox3Price.value
})
// 雞腿油飯總價格
const riceBox3EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    riceBox3EditTotalQuantity.value * riceBox3EditPrice.value

  return totalPrice
})
const riceBox3EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox3EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox3EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const riceBox3EditfinalTotal = computed(() => {
  const totalPrice =
    riceBox3EditoptionPrice.value + riceBox3EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog17 () {
  editDialog17.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog17 () {
  if (riceBox3EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox3EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox3EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox3EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 17,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox3EditfinalTotal.value,
    optionPrice: riceBox3EditoptionPrice.value,
    totalPrice: riceBox3EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox3Comment.value
  }

  const totalEditQuantity = riceBox3EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox3EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const riceBox3EditMain of riceBox3EditMains) {
    if (riceBox3EditMain.quantity > 0) {
      row.Main +=
        riceBox3EditMain.name +
        'x' +
        parseInt(riceBox3EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox3MainMealId.value,
        productTypeName: riceBox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox3EditMain.id,
        name: riceBox3EditMain.name,
        value: parseInt(riceBox3EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const riceBox3EditDrink of riceBox3EditDrinks) {
    if (riceBox3EditDrink.quantity > 0) {
      row.drinks +=
        riceBox3EditDrink.name +
        'x' +
        parseInt(riceBox3EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox3DrinkName.value,
        productTypeId: riceBox3DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox3EditDrink.id,
        name: riceBox3EditDrink.name,
        value: parseInt(riceBox3EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const riceBox3EditSideDish of riceBox3EditSideDishes) {
    if (riceBox3EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBox3EditSideDish.name +
        'x' +
        parseInt(riceBox3EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: riceBox3SideDishName.value,
        productTypeId: riceBox3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox3EditSideDish.is_default + ' '
      const input = {
        id: riceBox3EditSideDish.id,
        name: riceBox3EditSideDish.name,
        value: parseInt(riceBox3EditSideDish.quantity),
        is_default: riceBox3EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBox3EditBentoMain of riceBox3EditBentoMains) {
    if (riceBox3EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox3EditBentoMain.name +
        'x' +
        parseInt(riceBox3EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: riceBox3BentoMainName.value,
        productTypeId: riceBox3BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox3EditBentoMain.id,
        name: riceBox3EditBentoMain.name,
        value: parseInt(riceBox3EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞腿油飯、1002、數量
  const productInput = {
    id: riceBox3ProductId.value,
    name: riceBox3Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox3EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox3EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox3EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox3EditArbitrarily',
      value: riceBox3EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox3Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog17.value = false
  riceBox3EditArbitrarily.value = 0
  console.log(row)
}

// 滷牛油飯修改

const editDialog18 = ref(false)

function editRiceBox4 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 滷牛油飯主餐歸零
  for (const riceBox4EditMain of riceBox4EditMains) {
    riceBox4EditMain.quantity = 0
  }
  // 滷牛油飯飲料歸零
  for (const riceBox4EditDrink of riceBox4EditDrinks) {
    riceBox4EditDrink.quantity = 0
  }
  // 滷牛油飯配菜歸零
  for (const riceBox4EditSideDish of riceBox4EditSideDishes) {
    riceBox4EditSideDish.quantity = 0
  }
  // 滷牛油飯副主餐歸零
  for (const riceBox4EditBentoMain of riceBox4EditBentoMains) {
    riceBox4EditBentoMain.quantity = 0
  }
  // 滷牛油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox4EditArbitrarily.value = input.value
    }
    // 滷牛油飯  主餐  推入 input 數值
    const mainIndex = riceBox4EditMains.findIndex(
      (riceBox4EditMain) =>
        riceBox4EditMain.name === name || riceBox4EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox4EditMains[mainIndex].quantity = parseInt(value)
    }
    // 滷牛油飯  飲料  推入 input 數值
    const drinkIndex = riceBox4EditDrinks.findIndex(
      (riceBox4EditDrink) => riceBox4EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox4EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 滷牛油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox4EditSideDishes.findIndex(
        (riceBox4EditSideDish) => riceBox4EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox4EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 滷牛油飯  副主餐  推入 input 數值
      const bentoMainIndex = riceBox4EditBentoMains.findIndex(
        (riceBox4EditBentoMain) => riceBox4EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        riceBox4EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  riceBox4EditTotalQuantity.value = row.quantity
  riceBox4Comment.value = row.comment
  editDialog18.value = true
}

// 滷牛油飯總數量
watch(riceBox4EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox4EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox4EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 滷牛油飯單價
const riceBox4EditPrice = computed(() => {
  return riceBox4Price.value
})
// 滷牛油飯總價格
const riceBox4EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    riceBox4EditTotalQuantity.value * riceBox4EditPrice.value

  return totalPrice
})
const riceBox4EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox4EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox4EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const riceBox4EditfinalTotal = computed(() => {
  const totalPrice =
    riceBox4EditoptionPrice.value + riceBox4EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog18 () {
  editDialog18.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog18 () {
  if (riceBox4EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox4EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox4EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox4EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 18,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox4EditfinalTotal.value,
    optionPrice: riceBox4EditoptionPrice.value,
    totalPrice: riceBox4EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox4Comment.value
  }

  const totalEditQuantity = riceBox4EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox4EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const riceBox4EditMain of riceBox4EditMains) {
    if (riceBox4EditMain.quantity > 0) {
      row.Main +=
        riceBox4EditMain.name +
        'x' +
        parseInt(riceBox4EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox4MainMealId.value,
        productTypeName: riceBox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox4EditMain.id,
        name: riceBox4EditMain.name,
        value: parseInt(riceBox4EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const riceBox4EditDrink of riceBox4EditDrinks) {
    if (riceBox4EditDrink.quantity > 0) {
      row.drinks +=
        riceBox4EditDrink.name +
        'x' +
        parseInt(riceBox4EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox4DrinkName.value,
        productTypeId: riceBox4DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox4EditDrink.id,
        name: riceBox4EditDrink.name,
        value: parseInt(riceBox4EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const riceBox4EditSideDish of riceBox4EditSideDishes) {
    if (riceBox4EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBox4EditSideDish.name +
        'x' +
        parseInt(riceBox4EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: riceBox4SideDishName.value,
        productTypeId: riceBox4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox4EditSideDish.is_default + ' '
      const input = {
        id: riceBox4EditSideDish.id,
        name: riceBox4EditSideDish.name,
        value: parseInt(riceBox4EditSideDish.quantity),
        is_default: riceBox4EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBox4EditBentoMain of riceBox4EditBentoMains) {
    if (riceBox4EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox4EditBentoMain.name +
        'x' +
        parseInt(riceBox4EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: riceBox4BentoMainName.value,
        productTypeId: riceBox4BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox4EditBentoMain.id,
        name: riceBox4EditBentoMain.name,
        value: parseInt(riceBox4EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 滷牛油飯、1002、數量
  const productInput = {
    id: riceBox4ProductId.value,
    name: riceBox4Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox4EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox4EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox4EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox4EditArbitrarily',
      value: riceBox4EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox4Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog18.value = false
  riceBox4EditArbitrarily.value = 0
  console.log(row)
}

// 鮭魚油飯修改

const editDialog19 = ref(false)

function editRiceBox5 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 鮭魚油飯主餐歸零
  for (const riceBox5EditMain of riceBox5EditMains) {
    riceBox5EditMain.quantity = 0
  }
  // 鮭魚油飯飲料歸零
  for (const riceBox5EditDrink of riceBox5EditDrinks) {
    riceBox5EditDrink.quantity = 0
  }
  // 鮭魚油飯配菜歸零
  for (const riceBox5EditSideDish of riceBox5EditSideDishes) {
    riceBox5EditSideDish.quantity = 0
  }
  // 鮭魚油飯副主餐歸零
  for (const riceBox5EditBentoMain of riceBox5EditBentoMains) {
    riceBox5EditBentoMain.quantity = 0
  }
  // 鮭魚油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox5EditArbitrarily.value = input.value
    }
    // 鮭魚油飯  主餐  推入 input 數值
    const mainIndex = riceBox5EditMains.findIndex(
      (riceBox5EditMain) =>
        riceBox5EditMain.name === name || riceBox5EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox5EditMains[mainIndex].quantity = parseInt(value)
    }
    // 鮭魚油飯  飲料  推入 input 數值
    const drinkIndex = riceBox5EditDrinks.findIndex(
      (riceBox5EditDrink) => riceBox5EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox5EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 鮭魚油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox5EditSideDishes.findIndex(
        (riceBox5EditSideDish) => riceBox5EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox5EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 鮭魚油飯  副主餐  推入 input 數值
      const bentoMainIndex = riceBox5EditBentoMains.findIndex(
        (riceBox5EditBentoMain) => riceBox5EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        riceBox5EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  riceBox5EditTotalQuantity.value = row.quantity
  riceBox5Comment.value = row.comment
  editDialog19.value = true
}

// 鮭魚油飯總數量
watch(riceBox5EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox5EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox5EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 鮭魚油飯單價
const riceBox5EditPrice = computed(() => {
  return riceBox5Price.value
})
// 鮭魚油飯總價格
const riceBox5EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    riceBox5EditTotalQuantity.value * riceBox5EditPrice.value

  return totalPrice
})
const riceBox5EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox5EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox5EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const riceBox5EditfinalTotal = computed(() => {
  const totalPrice =
    riceBox5EditoptionPrice.value + riceBox5EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog19 () {
  editDialog19.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog19 () {
  if (riceBox5EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox5EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox5EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox5EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 19,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox5EditfinalTotal.value,
    optionPrice: riceBox5EditoptionPrice.value,
    totalPrice: riceBox5EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox5Comment.value
  }

  const totalEditQuantity = riceBox5EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox5EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const riceBox5EditMain of riceBox5EditMains) {
    if (riceBox5EditMain.quantity > 0) {
      row.Main +=
        riceBox5EditMain.name +
        'x' +
        parseInt(riceBox5EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox5MainMealId.value,
        productTypeName: riceBox5MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox5EditMain.id,
        name: riceBox5EditMain.name,
        value: parseInt(riceBox5EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const riceBox5EditDrink of riceBox5EditDrinks) {
    if (riceBox5EditDrink.quantity > 0) {
      row.drinks +=
        riceBox5EditDrink.name +
        'x' +
        parseInt(riceBox5EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox5DrinkName.value,
        productTypeId: riceBox5DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox5EditDrink.id,
        name: riceBox5EditDrink.name,
        value: parseInt(riceBox5EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const riceBox5EditSideDish of riceBox5EditSideDishes) {
    if (riceBox5EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBox5EditSideDish.name +
        'x' +
        parseInt(riceBox5EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: riceBox5SideDishName.value,
        productTypeId: riceBox5SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox5EditSideDish.is_default + ' '
      const input = {
        id: riceBox5EditSideDish.id,
        name: riceBox5EditSideDish.name,
        value: parseInt(riceBox5EditSideDish.quantity),
        is_default: riceBox5EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBox5EditBentoMain of riceBox5EditBentoMains) {
    if (riceBox5EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox5EditBentoMain.name +
        'x' +
        parseInt(riceBox5EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: riceBox5BentoMainName.value,
        productTypeId: riceBox5BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox5EditBentoMain.id,
        name: riceBox5EditBentoMain.name,
        value: parseInt(riceBox5EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 鮭魚油飯、1002、數量
  const productInput = {
    id: riceBox5ProductId.value,
    name: riceBox5Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox5EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox5Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox5EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox5EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox5EditArbitrarily',
      value: riceBox5EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox5Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog19.value = false
  riceBox5EditArbitrarily.value = 0
  console.log(row)
}
// 牛肉丸油飯修改

const editDialog20 = ref(false)

function editRiceBox6 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 牛肉丸油飯主餐歸零
  for (const riceBox6EditMain of riceBox6EditMains) {
    riceBox6EditMain.quantity = 0
  }
  // 牛肉丸油飯飲料歸零
  for (const riceBox6EditDrink of riceBox6EditDrinks) {
    riceBox6EditDrink.quantity = 0
  }
  // 牛肉丸油飯配菜歸零
  for (const riceBox6EditSideDish of riceBox6EditSideDishes) {
    riceBox6EditSideDish.quantity = 0
  }
  // 牛肉丸油飯副主餐歸零
  for (const riceBox6EditBentoMain of riceBox6EditBentoMains) {
    riceBox6EditBentoMain.quantity = 0
  }
  // 牛肉丸油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBox6EditArbitrarily.value = input.value
    }
    // 牛肉丸油飯  主餐  推入 input 數值
    const mainIndex = riceBox6EditMains.findIndex(
      (riceBox6EditMain) =>
        riceBox6EditMain.name === name || riceBox6EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      riceBox6EditMains[mainIndex].quantity = parseInt(value)
    }
    // 牛肉丸油飯  飲料  推入 input 數值
    const drinkIndex = riceBox6EditDrinks.findIndex(
      (riceBox6EditDrink) => riceBox6EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBox6EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 牛肉丸油飯  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = riceBox6EditSideDishes.findIndex(
        (riceBox6EditSideDish) => riceBox6EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        riceBox6EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 牛肉丸油飯  副主餐  推入 input 數值
      const bentoMainIndex = riceBox6EditBentoMains.findIndex(
        (riceBox6EditBentoMain) => riceBox6EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        riceBox6EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  riceBox6EditTotalQuantity.value = row.quantity
  riceBox6Comment.value = row.comment
  editDialog20.value = true
}

// 牛肉丸油飯總數量
watch(riceBox6EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  riceBox6EditArbitrarily.value = Math.max(
    0,
    parseInt(riceBox6EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 牛肉丸油飯單價
const riceBox6EditPrice = computed(() => {
  return riceBox6Price.value
})
// 牛肉丸油飯總價格
const riceBox6EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    riceBox6EditTotalQuantity.value * riceBox6EditPrice.value

  return totalPrice
})
const riceBox6EditoptionPrice = computed(() => {
  let totalPrice = 0
  riceBox6EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  riceBox6EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const riceBox6EditfinalTotal = computed(() => {
  const totalPrice =
    riceBox6EditoptionPrice.value + riceBox6EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog20 () {
  editDialog20.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog20 () {
  if (riceBox6EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = riceBox6EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, riceBox6EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(riceBox6EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 20,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: riceBox6EditfinalTotal.value,
    optionPrice: riceBox6EditoptionPrice.value,
    totalPrice: riceBox6EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBox6Comment.value
  }

  const totalEditQuantity = riceBox6EditTotalQuantity.value // 計算總數量
  row.quantity = riceBox6EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const riceBox6EditMain of riceBox6EditMains) {
    if (riceBox6EditMain.quantity > 0) {
      row.Main +=
        riceBox6EditMain.name +
        'x' +
        parseInt(riceBox6EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: riceBox6MainMealId.value,
        productTypeName: riceBox6MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox6EditMain.id,
        name: riceBox6EditMain.name,
        value: parseInt(riceBox6EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const riceBox6EditDrink of riceBox6EditDrinks) {
    if (riceBox6EditDrink.quantity > 0) {
      row.drinks +=
        riceBox6EditDrink.name +
        'x' +
        parseInt(riceBox6EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBox6DrinkName.value,
        productTypeId: riceBox6DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox6EditDrink.id,
        name: riceBox6EditDrink.name,
        value: parseInt(riceBox6EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const riceBox6EditSideDish of riceBox6EditSideDishes) {
    if (riceBox6EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBox6EditSideDish.name +
        'x' +
        parseInt(riceBox6EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: riceBox6SideDishName.value,
        productTypeId: riceBox6SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBox6EditSideDish.is_default + ' '
      const input = {
        id: riceBox6EditSideDish.id,
        name: riceBox6EditSideDish.name,
        value: parseInt(riceBox6EditSideDish.quantity),
        is_default: riceBox6EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBox6EditBentoMain of riceBox6EditBentoMains) {
    if (riceBox6EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBox6EditBentoMain.name +
        'x' +
        parseInt(riceBox6EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: riceBox6BentoMainName.value,
        productTypeId: riceBox6BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBox6EditBentoMain.id,
        name: riceBox6EditBentoMain.name,
        value: parseInt(riceBox6EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 牛肉丸油飯、1002、數量
  const productInput = {
    id: riceBox6ProductId.value,
    name: riceBox6Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBox6EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBox6Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBox6EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(riceBox6EditArbitrarily.value).toString()
    const input = {
      id: 'riceBox6EditArbitrarily',
      value: riceBox6EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBox6Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog20.value = false
  riceBox6EditArbitrarily.value = 0
  console.log(row)
}

// -------------------------------------------------
// 刈包便當修改
const editDialog24 = ref(false)
function editGuabaoBangdong1 (row) {
  // watchers.forEach((unwatch) => unwatch());
  // watchers = [];
  // 刈包便當主餐歸零
  for (const GuabaoBangdong1EditMain of GuabaoBangdong1EditMains) {
    GuabaoBangdong1EditMain.quantity = 0
  }
  // 刈包便當飲料歸零
  for (const GuabaoBangdong1EditDrink of GuabaoBangdong1EditDrinks) {
    GuabaoBangdong1EditDrink.quantity = 0
  }
  // 刈包便當配菜歸零
  for (const GuabaoBangdong1EditSideDish of GuabaoBangdong1EditSideDishes) {
    GuabaoBangdong1EditSideDish.quantity = 0
  }
  // 刈包便當副主餐歸零
  for (const GuabaoBangdong1EditBentoMain of GuabaoBangdong1EditBentoMains) {
    GuabaoBangdong1EditBentoMain.quantity = 0
  }
  // 刈包便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdong1EditArbitrarily.value = input.value
    }
    // 刈包便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdong1EditMains.findIndex(
      (GuabaoBangdong1EditMain) =>
        GuabaoBangdong1EditMain.name === name || GuabaoBangdong1EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdong1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 刈包便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdong1EditDrinks.findIndex(
      (GuabaoBangdong1EditDrink) => GuabaoBangdong1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdong1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 刈包便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = GuabaoBangdong1EditSideDishes.findIndex(
        (GuabaoBangdong1EditSideDish) => GuabaoBangdong1EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdong1EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化
  editingRow = row
  GuabaoBangdong1EditTotalQuantity.value = row.quantity
  GuabaoBangdong1Comment.value = row.comment
  editDialog24.value = true
}

// 刈包便當修正欄位總數量計算
watch(GuabaoBangdong1EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong1EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong1EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 刈包便當單價
const GuabaoBangdong1EditPrice = computed(() => {
  return GuabaoBangdong1Price.value
})

// 刈包便當總價格
const GuabaoBangdong1EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdong1EditTotalQuantity.value * GuabaoBangdong1EditPrice.value
  return totalPrice
})
const GuabaoBangdong1EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong1EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong1EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})

const GuabaoBangdong1EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong1EditoptionPrice.value + GuabaoBangdong1EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog24 () {
  watchers.forEach((unwatch) => unwatch())
  // 清空 watchers 数组
  watchers = []
  editDialog24.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog24 () {
  if (GuabaoBangdong1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong1EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong1EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdong1EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 24,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    price: GuabaoBangdong1EditfinalTotal.value,
    optionPrice: GuabaoBangdong1EditoptionPrice.value,
    totalPrice: GuabaoBangdong1EditTotalQuantityPrice.value,
    inputs: [],
    quantity: '',
    productInputs: [],
    comment: GuabaoBangdong1Comment.value
  }

  const totalEditQuantity = GuabaoBangdong1EditTotalQuantity.value // 計算總數量
  row.quantity = GuabaoBangdong1EditTotalQuantity.value
  for (const GuabaoBangdong1EditMain of GuabaoBangdong1EditMains) {
    if (GuabaoBangdong1EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdong1EditMain.name +
        'x' +
        parseInt(GuabaoBangdong1EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong1MainMealId.value,
        productTypeName: GuabaoBangdong1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong1EditMain.id,
        name: GuabaoBangdong1EditMain.name,
        value: parseInt(GuabaoBangdong1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const GuabaoBangdong1EditDrink of GuabaoBangdong1EditDrinks) {
    if (GuabaoBangdong1EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong1EditDrink.name +
        'x' +
        parseInt(GuabaoBangdong1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong1DrinkName.value,
        productTypeId: GuabaoBangdong1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong1EditDrink.id,
        name: GuabaoBangdong1EditDrink.name,
        value: parseInt(GuabaoBangdong1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const GuabaoBangdong1EditSideDish of GuabaoBangdong1EditSideDishes) {
    if (GuabaoBangdong1EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong1EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdong1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong1SideDishName.value,
        productTypeId: GuabaoBangdong1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong1EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong1EditSideDish.id,
        name: GuabaoBangdong1EditSideDish.name,
        value: parseInt(GuabaoBangdong1EditSideDish.quantity),
        is_default: GuabaoBangdong1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 保留 刈包便當、1001、數量
  const productInput = {
    id: GuabaoBangdong1ProductId.value,
    name: GuabaoBangdong1Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdong1EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong1EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong1EditArbitrarily',
      value: GuabaoBangdong1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = GuabaoBangdong1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog24.value = false
  GuabaoBangdong1EditArbitrarily.value = 0
}

// 招牌素便當修改
const editDialog25 = ref(false)
function editGuabaoBangdong6 (row) {
  // watchers.forEach((unwatch) => unwatch());
  // watchers = [];
  // 招牌素便當主餐歸零
  for (const GuabaoBangdong6EditMain of GuabaoBangdong6EditMains) {
    GuabaoBangdong6EditMain.quantity = 0
  }
  // 招牌素便當飲料歸零
  for (const GuabaoBangdong6EditDrink of GuabaoBangdong6EditDrinks) {
    GuabaoBangdong6EditDrink.quantity = 0
  }
  // 招牌素便當配菜歸零
  for (const GuabaoBangdong6EditSideDish of GuabaoBangdong6EditSideDishes) {
    GuabaoBangdong6EditSideDish.quantity = 0
  }
  // 招牌素便當副主餐歸零
  for (const GuabaoBangdong6EditBentoMain of GuabaoBangdong6EditBentoMains) {
    GuabaoBangdong6EditBentoMain.quantity = 0
  }
  // 招牌素便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdong6EditArbitrarily.value = input.value
    }
    // 招牌素便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdong6EditMains.findIndex(
      (GuabaoBangdong6EditMain) =>
        GuabaoBangdong6EditMain.name === name || GuabaoBangdong6EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdong6EditMains[mainIndex].quantity = parseInt(value)
    }
    // 招牌素便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdong6EditDrinks.findIndex(
      (GuabaoBangdong6EditDrink) => GuabaoBangdong6EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdong6EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 招牌素便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = GuabaoBangdong6EditSideDishes.findIndex(
        (GuabaoBangdong6EditSideDish) => GuabaoBangdong6EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdong6EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化
  editingRow = row
  GuabaoBangdong6EditTotalQuantity.value = row.quantity
  GuabaoBangdong6Comment.value = row.comment
  editDialog25.value = true
}

// 招牌素便當修正欄位總數量計算
watch(GuabaoBangdong6EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong6EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong6EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 招牌素便當單價
const GuabaoBangdong6EditPrice = computed(() => {
  return GuabaoBangdong6Price.value
})

// 招牌素便當總價格
const GuabaoBangdong6EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdong6EditTotalQuantity.value * GuabaoBangdong6EditPrice.value
  return totalPrice
})
const GuabaoBangdong6EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong6EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong6EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})

const GuabaoBangdong6EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong6EditoptionPrice.value + GuabaoBangdong6EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog25 () {
  watchers.forEach((unwatch) => unwatch())
  // 清空 watchers 数组
  watchers = []
  editDialog25.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog25 () {
  if (GuabaoBangdong6EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong6EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong6EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdong6EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 25,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    price: GuabaoBangdong6EditfinalTotal.value,
    optionPrice: GuabaoBangdong6EditoptionPrice.value,
    totalPrice: GuabaoBangdong6EditTotalQuantityPrice.value,
    inputs: [],
    quantity: '',
    productInputs: [],
    comment: GuabaoBangdong6Comment.value
  }

  const totalEditQuantity = GuabaoBangdong6EditTotalQuantity.value // 計算總數量
  row.quantity = GuabaoBangdong6EditTotalQuantity.value
  for (const GuabaoBangdong6EditMain of GuabaoBangdong6EditMains) {
    if (GuabaoBangdong6EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdong6EditMain.name +
        'x' +
        parseInt(GuabaoBangdong6EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong6MainMealId.value,
        productTypeName: GuabaoBangdong6MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong6EditMain.id,
        name: GuabaoBangdong6EditMain.name,
        value: parseInt(GuabaoBangdong6EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const GuabaoBangdong6EditDrink of GuabaoBangdong6EditDrinks) {
    if (GuabaoBangdong6EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong6EditDrink.name +
        'x' +
        parseInt(GuabaoBangdong6EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong6DrinkName.value,
        productTypeId: GuabaoBangdong6DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong6EditDrink.id,
        name: GuabaoBangdong6EditDrink.name,
        value: parseInt(GuabaoBangdong6EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const GuabaoBangdong6EditSideDish of GuabaoBangdong6EditSideDishes) {
    if (GuabaoBangdong6EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong6EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdong6EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong6SideDishName.value,
        productTypeId: GuabaoBangdong6SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong6EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong6EditSideDish.id,
        name: GuabaoBangdong6EditSideDish.name,
        value: parseInt(GuabaoBangdong6EditSideDish.quantity),
        is_default: GuabaoBangdong6EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 保留 招牌素便當、1001、數量
  const productInput = {
    id: GuabaoBangdong6ProductId.value,
    name: GuabaoBangdong6Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdong6EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong6Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong6EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong6EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong6EditArbitrarily',
      value: GuabaoBangdong6EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = GuabaoBangdong6Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog25.value = false
  GuabaoBangdong6EditArbitrarily.value = 0
}

// 雞胸刈包便當修改

const editDialog26 = ref(false)

function editGuabaoBangdong2 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 雞胸刈包便當主餐歸零
  for (const GuabaoBangdong2EditMain of GuabaoBangdong2EditMains) {
    GuabaoBangdong2EditMain.quantity = 0
  }
  // 雞胸刈包便當飲料歸零
  for (const GuabaoBangdong2EditDrink of GuabaoBangdong2EditDrinks) {
    GuabaoBangdong2EditDrink.quantity = 0
  }
  // 雞胸刈包便當配菜歸零
  for (const GuabaoBangdong2EditSideDish of GuabaoBangdong2EditSideDishes) {
    GuabaoBangdong2EditSideDish.quantity = 0
  }
  // 雞胸刈包便當副主餐歸零
  for (const GuabaoBangdong2EditBentoMain of GuabaoBangdong2EditBentoMains) {
    GuabaoBangdong2EditBentoMain.quantity = 0
  }
  // 雞胸刈包便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdong2EditArbitrarily.value = input.value
    }
    // 雞胸刈包便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdong2EditMains.findIndex(
      (GuabaoBangdong2EditMain) =>
        GuabaoBangdong2EditMain.name === name || GuabaoBangdong2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdong2EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞胸刈包便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdong2EditDrinks.findIndex(
      (GuabaoBangdong2EditDrink) => GuabaoBangdong2EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdong2EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 雞胸刈包便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = GuabaoBangdong2EditSideDishes.findIndex(
        (GuabaoBangdong2EditSideDish) => GuabaoBangdong2EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdong2EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 雞胸刈包便當  副主餐  推入 input 數值
      const bentoMainIndex = GuabaoBangdong2EditBentoMains.findIndex(
        (GuabaoBangdong2EditBentoMain) => GuabaoBangdong2EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdong2EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoBangdong2EditTotalQuantity.value = row.quantity
  GuabaoBangdong2Comment.value = row.comment
  editDialog26.value = true
}

// 雞胸刈包便當總數量
watch(GuabaoBangdong2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong2EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong2EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 雞胸刈包便當單價
const GuabaoBangdong2EditPrice = computed(() => {
  return GuabaoBangdong2Price.value
})
// 雞胸刈包便當總價格
const GuabaoBangdong2EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdong2EditTotalQuantity.value * GuabaoBangdong2EditPrice.value

  return totalPrice
})
const GuabaoBangdong2EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong2EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const GuabaoBangdong2EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong2EditoptionPrice.value + GuabaoBangdong2EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog26 () {
  editDialog26.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog26 () {
  if (GuabaoBangdong2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong2EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong2EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdong2EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 26,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong2EditfinalTotal.value,
    optionPrice: GuabaoBangdong2EditoptionPrice.value,
    totalPrice: GuabaoBangdong2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong2Comment.value
  }

  const totalEditQuantity = GuabaoBangdong2EditTotalQuantity.value // 計算總數量
  row.quantity = GuabaoBangdong2EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const GuabaoBangdong2EditMain of GuabaoBangdong2EditMains) {
    if (GuabaoBangdong2EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdong2EditMain.name +
        'x' +
        parseInt(GuabaoBangdong2EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong2MainMealId.value,
        productTypeName: GuabaoBangdong2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong2EditMain.id,
        name: GuabaoBangdong2EditMain.name,
        value: parseInt(GuabaoBangdong2EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdong2EditDrink of GuabaoBangdong2EditDrinks) {
    if (GuabaoBangdong2EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong2EditDrink.name +
        'x' +
        parseInt(GuabaoBangdong2EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong2DrinkName.value,
        productTypeId: GuabaoBangdong2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong2EditDrink.id,
        name: GuabaoBangdong2EditDrink.name,
        value: parseInt(GuabaoBangdong2EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdong2EditSideDish of GuabaoBangdong2EditSideDishes) {
    if (GuabaoBangdong2EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong2EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdong2EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: GuabaoBangdong2SideDishName.value,
        productTypeId: GuabaoBangdong2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong2EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong2EditSideDish.id,
        name: GuabaoBangdong2EditSideDish.name,
        value: parseInt(GuabaoBangdong2EditSideDish.quantity),
        is_default: GuabaoBangdong2EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdong2EditBentoMain of GuabaoBangdong2EditBentoMains) {
    if (GuabaoBangdong2EditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong2EditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdong2EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: GuabaoBangdong2BentoMainName.value,
        productTypeId: GuabaoBangdong2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong2EditBentoMain.id,
        name: GuabaoBangdong2EditBentoMain.name,
        value: parseInt(GuabaoBangdong2EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞胸刈包便當、1002、數量
  const productInput = {
    id: GuabaoBangdong2ProductId.value,
    name: GuabaoBangdong2Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdong2EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong2EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong2EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong2EditArbitrarily',
      value: GuabaoBangdong2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog26.value = false
  GuabaoBangdong2EditArbitrarily.value = 0
  console.log(row)
}
// 雞腿刈包便當修改
const editDialog27 = ref(false)
function editGuabaoBangdong3 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 雞腿刈包便當主餐歸零
  for (const GuabaoBangdong3EditMain of GuabaoBangdong3EditMains) {
    GuabaoBangdong3EditMain.quantity = 0
  }
  // 雞腿刈包便當飲料歸零
  for (const GuabaoBangdong3EditDrink of GuabaoBangdong3EditDrinks) {
    GuabaoBangdong3EditDrink.quantity = 0
  }
  // 雞腿刈包便當配菜歸零
  for (const GuabaoBangdong3EditSideDish of GuabaoBangdong3EditSideDishes) {
    GuabaoBangdong3EditSideDish.quantity = 0
  }
  // 雞腿刈包便當副主餐歸零
  for (const GuabaoBangdong3EditBentoMain of GuabaoBangdong3EditBentoMains) {
    GuabaoBangdong3EditBentoMain.quantity = 0
  }
  // 雞腿刈包便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdong3EditArbitrarily.value = input.value
    }
    // 雞腿刈包便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdong3EditMains.findIndex(
      (GuabaoBangdong3EditMain) =>
        GuabaoBangdong3EditMain.name === name || GuabaoBangdong3EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdong3EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞腿刈包便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdong3EditDrinks.findIndex(
      (GuabaoBangdong3EditDrink) => GuabaoBangdong3EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdong3EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 雞腿刈包便當  配菜  推入 input 數值
      const sideDishIndex = GuabaoBangdong3EditSideDishes.findIndex(
        (GuabaoBangdong3EditSideDish) => GuabaoBangdong3EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdong3EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 雞腿刈包便當  副主餐  推入 input 數值
      const bentoMainIndex = GuabaoBangdong3EditBentoMains.findIndex(
        (GuabaoBangdong3EditBentoMain) => GuabaoBangdong3EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdong3EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoBangdong3EditTotalQuantity.value = row.quantity
  GuabaoBangdong3Comment.value = row.comment
  editDialog27.value = true
}

// 雞腿刈包便當修正區總數量
watch(GuabaoBangdong3EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong3EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong3EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 雞腿刈包便當單價
const GuabaoBangdong3EditPrice = computed(() => {
  return GuabaoBangdong3Price.value
})
// 雞腿刈包便當總價格
const GuabaoBangdong3EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdong3EditTotalQuantity.value * GuabaoBangdong3EditPrice.value
  return totalPrice
})
const GuabaoBangdong3EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong3EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong3EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdong3EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong3EditoptionPrice.value + GuabaoBangdong3EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog27 () {
  editDialog27.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog27 () {
  if (GuabaoBangdong3EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong3EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong3EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdong3EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 27,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong3EditfinalTotal.value,
    optionPrice: GuabaoBangdong3EditoptionPrice.value,
    totalPrice: GuabaoBangdong3EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong3Comment.value
  }

  const totalEditQuantity = GuabaoBangdong3EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const GuabaoBangdong3EditMain of GuabaoBangdong3EditMains) {
    if (GuabaoBangdong3EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdong3EditMain.name +
        ' x ' +
        parseInt(GuabaoBangdong3EditMain.quantity).toString() +
        '<br>'
      // 保留 雞腿刈包便當、1003、數量、主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong3MainMealId.value,
        productTypeName: GuabaoBangdong3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong3EditMain.id,
        name: GuabaoBangdong3EditMain.name,
        value: parseInt(GuabaoBangdong3EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdong3EditDrink of GuabaoBangdong3EditDrinks) {
    if (GuabaoBangdong3EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong3EditDrink.name +
        ' x ' +
        parseInt(GuabaoBangdong3EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong3DrinkName.value,
        productTypeId: GuabaoBangdong3DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong3EditDrink.id,
        name: GuabaoBangdong3EditDrink.name,
        value: parseInt(GuabaoBangdong3EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdong3EditSideDish of GuabaoBangdong3EditSideDishes) {
    if (GuabaoBangdong3EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong3EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdong3EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong3SideDishName.value,
        productTypeId: GuabaoBangdong3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong3EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong3EditSideDish.id,
        name: GuabaoBangdong3EditSideDish.name,
        value: parseInt(GuabaoBangdong3EditSideDish.quantity),
        is_default: GuabaoBangdong3EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdong3EditBentoMain of GuabaoBangdong3EditBentoMains) {
    if (GuabaoBangdong3EditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong3EditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdong3EditBentoMain.quantity).toString()
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdong3BentoMainName.value,
        productTypeId: GuabaoBangdong3BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong3EditBentoMain.id,
        name: GuabaoBangdong3EditBentoMain.name,
        value: parseInt(GuabaoBangdong3EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞腿刈包便當、1003、數量
  const productInput = {
    id: GuabaoBangdong3ProductId.value,
    name: GuabaoBangdong3Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdong3EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong3EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(GuabaoBangdong3EditArbitrarily.value).toString() +
      '<br>'
    const input = {
      id: 'GuabaoBangdong3EditArbitrarily',
      value: GuabaoBangdong3EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong3Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }

  editDialog27.value = false
  GuabaoBangdong3EditArbitrarily.value = 0
  console.log(row)
}

// 滷牛刈包便當修改
const editDialog28 = ref(false)
function editGuabaoBangdong4 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 滷牛刈包便當主餐歸零
  for (const GuabaoBangdong4EditMain of GuabaoBangdong4EditMains) {
    GuabaoBangdong4EditMain.quantity = 0
  }
  // 滷牛刈包便當飲料歸零
  for (const GuabaoBangdong4EditDrink of GuabaoBangdong4EditDrinks) {
    GuabaoBangdong4EditDrink.quantity = 0
  }
  // 滷牛刈包便當配菜歸零
  for (const GuabaoBangdong4EditSideDish of GuabaoBangdong4EditSideDishes) {
    GuabaoBangdong4EditSideDish.quantity = 0
  }
  // 滷牛刈包便當副主餐歸零
  for (const GuabaoBangdong4EditBentoMain of GuabaoBangdong4EditBentoMains) {
    GuabaoBangdong4EditBentoMain.quantity = 0
  }
  // 滷牛刈包便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdong4EditArbitrarily.value = input.value
    }
    // 滷牛刈包便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdong4EditMains.findIndex(
      (GuabaoBangdong4EditMain) =>
        GuabaoBangdong4EditMain.name === name || GuabaoBangdong4EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdong4EditMains[mainIndex].quantity = parseInt(value)
    }
    // 滷牛刈包便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdong4EditDrinks.findIndex(
      (GuabaoBangdong4EditDrink) => GuabaoBangdong4EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdong4EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 滷牛刈包便當  配菜  推入 input 數值
      const sideDishIndex = GuabaoBangdong4EditSideDishes.findIndex(
        (GuabaoBangdong4EditSideDish) => GuabaoBangdong4EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdong4EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 滷牛刈包便當  副主餐  推入 input 數值
      const bentoMainIndex = GuabaoBangdong4EditBentoMains.findIndex(
        (GuabaoBangdong4EditBentoMain) => GuabaoBangdong4EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdong4EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoBangdong4EditTotalQuantity.value = row.quantity
  GuabaoBangdong4Comment.value = row.comment
  editDialog28.value = true
}
// 滷牛刈包便當總數量
watch(GuabaoBangdong4EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong4EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong4EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 滷牛刈包便當單價
const GuabaoBangdong4EditPrice = computed(() => {
  return GuabaoBangdong4Price.value
})
// 滷牛刈包便當總價格
const GuabaoBangdong4EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdong4EditTotalQuantity.value * GuabaoBangdong4EditPrice.value
  return totalPrice
})
const GuabaoBangdong4EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong4EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong4EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdong4EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong4EditoptionPrice.value + GuabaoBangdong4EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog28 () {
  editDialog28.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog28 () {
  if (GuabaoBangdong4EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong4EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong4EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdong4EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 28,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong4EditfinalTotal.value,
    optionPrice: GuabaoBangdong4EditoptionPrice.value,
    totalPrice: GuabaoBangdong4EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong4Comment.value
  }

  const totalEditQuantity = GuabaoBangdong4EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const GuabaoBangdong4EditMain of GuabaoBangdong4EditMains) {
    if (GuabaoBangdong4EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdong4EditMain.name +
        'x' +
        parseInt(GuabaoBangdong4EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong4MainMealId.value,
        productTypeName: GuabaoBangdong4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong4EditMain.id,
        name: GuabaoBangdong4EditMain.name,
        value: parseInt(GuabaoBangdong4EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdong4EditDrink of GuabaoBangdong4EditDrinks) {
    if (GuabaoBangdong4EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong4EditDrink.name +
        'x' +
        parseInt(GuabaoBangdong4EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong4DrinkName.value,
        productTypeId: GuabaoBangdong4DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong4EditDrink.id,
        name: GuabaoBangdong4EditDrink.name,
        value: parseInt(GuabaoBangdong4EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdong4EditSideDish of GuabaoBangdong4EditSideDishes) {
    if (GuabaoBangdong4EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong4EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdong4EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdong4SideDishName.value,
        productTypeId: GuabaoBangdong4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong4EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong4EditSideDish.id,
        name: GuabaoBangdong4EditSideDish.name,
        value: parseInt(GuabaoBangdong4EditSideDish.quantity),
        is_default: GuabaoBangdong4EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdong4EditBentoMain of GuabaoBangdong4EditBentoMains) {
    if (GuabaoBangdong4EditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong4EditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdong4EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdong4BentoMainName.value,
        productTypeId: GuabaoBangdong4BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong4EditBentoMain.id,
        name: GuabaoBangdong4EditBentoMain.name,
        value: parseInt(GuabaoBangdong4EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 滷牛刈包便當、1004、數量
  const productInput = {
    id: GuabaoBangdong4ProductId.value,
    name: GuabaoBangdong4Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdong4EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong4EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong4EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong4EditArbitrarily',
      value: GuabaoBangdong4EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong4Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog28.value = false
  GuabaoBangdong4EditArbitrarily.value = 0
}
// 鮭魚刈包修改
const editDialogGuabaoSalmon = ref(false)
function editGuabaoBangdongSalmon (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const GuabaoBangdongSalmonEditMain of GuabaoBangdongSalmonEditMains) {
    GuabaoBangdongSalmonEditMain.quantity = 0
  }
  for (const GuabaoBangdongSalmonEditDrink of GuabaoBangdongSalmonEditDrinks) {
    GuabaoBangdongSalmonEditDrink.quantity = 0
  }
  for (const GuabaoBangdongSalmonEditSideDish of GuabaoBangdongSalmonEditSideDishes) {
    GuabaoBangdongSalmonEditSideDish.quantity = 0
  }
  for (const GuabaoBangdongSalmonEditBentoMain of GuabaoBangdongSalmonEditBentoMains) {
    GuabaoBangdongSalmonEditBentoMain.quantity = 0
  }
  // 滷牛便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdongSalmonEditArbitrarily.value = input.value
    }
    // 滷牛便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdongSalmonEditMains.findIndex(
      (GuabaoBangdongSalmonEditMain) =>
        GuabaoBangdongSalmonEditMain.name === name ||
        GuabaoBangdongSalmonEditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdongSalmonEditMains[mainIndex].quantity = parseInt(value)
    }
    // 滷牛便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdongSalmonEditDrinks.findIndex(
      (GuabaoBangdongSalmonEditDrink) => GuabaoBangdongSalmonEditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdongSalmonEditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // salmon  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = GuabaoBangdongSalmonEditSideDishes.findIndex(
        (GuabaoBangdongSalmonEditSideDish) => GuabaoBangdongSalmonEditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdongSalmonEditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // salmon  副主餐  推入 input 數值
      const bentoMainIndex = GuabaoBangdongSalmonEditBentoMains.findIndex(
        (GuabaoBangdongSalmonEditBentoMain) =>
          GuabaoBangdongSalmonEditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdongSalmonEditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoBangdongSalmonEditTotalQuantity.value = row.quantity
  GuabaoBangdongSalmonComment.value = row.comment
  editDialogGuabaoSalmon.value = true
}

watch(GuabaoBangdongSalmonEditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdongSalmonEditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdongSalmonEditTotalQuantity.value) - mainQuantityTotal
  )
})

const GuabaoBangdongSalmonEditPrice = computed(() => {
  return GuabaoBangdongSalmonPrice.value
})
const GuabaoBangdongSalmonEditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdongSalmonEditTotalQuantity.value * GuabaoBangdongSalmonEditPrice.value
  return totalPrice
})
const GuabaoBangdongSalmonEditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdongSalmonEditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdongSalmonEditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdongSalmonEditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdongSalmonEditoptionPrice.value +
    GuabaoBangdongSalmonEditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialogGuabaoSalmon () {
  editDialogGuabaoSalmon.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialogGuabaoSalmon () {
  if (GuabaoBangdongSalmonEditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdongSalmonEditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdongSalmonEditTotalQuantity.value)
  if (
    calculatedTotalQuantity !==
    parseInt(GuabaoBangdongSalmonEditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 29,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdongSalmonEditfinalTotal.value,
    optionPrice: GuabaoBangdongSalmonEditoptionPrice.value,
    totalPrice: GuabaoBangdongSalmonEditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdongSalmonComment.value
  }

  const totalEditQuantity = GuabaoBangdongSalmonEditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const GuabaoBangdongSalmonEditMain of GuabaoBangdongSalmonEditMains) {
    if (GuabaoBangdongSalmonEditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdongSalmonEditMain.name +
        'x' +
        parseInt(GuabaoBangdongSalmonEditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdongSalmonMainMealId.value,
        productTypeName: GuabaoBangdongSalmonMainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongSalmonEditMain.id,
        name: GuabaoBangdongSalmonEditMain.name,
        value: parseInt(GuabaoBangdongSalmonEditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdongSalmonEditDrink of GuabaoBangdongSalmonEditDrinks) {
    if (GuabaoBangdongSalmonEditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdongSalmonEditDrink.name +
        'x' +
        parseInt(GuabaoBangdongSalmonEditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdongSalmonDrinkName.value,
        productTypeId: GuabaoBangdongSalmonDrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongSalmonEditDrink.id,
        name: GuabaoBangdongSalmonEditDrink.name,
        value: parseInt(GuabaoBangdongSalmonEditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdongSalmonEditSideDish of GuabaoBangdongSalmonEditSideDishes) {
    if (GuabaoBangdongSalmonEditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdongSalmonEditSideDish.name +
        'x' +
        parseInt(GuabaoBangdongSalmonEditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoBangdongSalmonSideDishName.value,
        productTypeId: GuabaoBangdongSalmonSideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdongSalmonEditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdongSalmonEditSideDish.id,
        name: GuabaoBangdongSalmonEditSideDish.name,
        value: parseInt(GuabaoBangdongSalmonEditSideDish.quantity),
        is_default: GuabaoBangdongSalmonEditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdongSalmonEditBentoMain of GuabaoBangdongSalmonEditBentoMains) {
    if (GuabaoBangdongSalmonEditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdongSalmonEditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdongSalmonEditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: GuabaoBangdongSalmonBentoMainName.value,
        productTypeId: GuabaoBangdongSalmonBentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongSalmonEditBentoMain.id,
        name: GuabaoBangdongSalmonEditBentoMain.name,
        value: parseInt(GuabaoBangdongSalmonEditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 滷牛便當、1004、數量
  const productInput = {
    id: GuabaoBangdongSalmonProductId.value,
    name: GuabaoBangdongSalmonName.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdongSalmonEditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdongSalmonComment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdongSalmonEditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(GuabaoBangdongSalmonEditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdongSalmonEditArbitrarily',
      value: GuabaoBangdongSalmonEditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdongSalmonName.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialogGuabaoSalmon.value = false
  GuabaoBangdongSalmonEditArbitrarily.value = 0
  console.log(row)
}
const ResetGuabaoBangdongSalmon = () => {
  GuabaoBangdongSalmonMains.forEach((GuabaoBangdongSalmonMain) => {
    GuabaoBangdongSalmonMain.quantity = 0
  })
  GuabaoBangdongSalmonDrinks.forEach((GuabaoBangdongSalmonDrink) => {
    GuabaoBangdongSalmonDrink.quantity = 0
  })
  GuabaoBangdongSalmonSideDishes.forEach((GuabaoBangdongSalmonSideDish) => {
    GuabaoBangdongSalmonSideDish.quantity = 0
  })
  GuabaoBangdongSalmonBentoMains.forEach((GuabaoBangdongSalmonBentoMain) => {
    GuabaoBangdongSalmonBentoMain.quantity = 0
  })
  showGuabaoBangdongSalmon.value = false
  GuabaoBangdongSalmonTotalQuantity.value = 0
  GuabaoBangdongSalmonArbitrarily.value = 0
}

// 牛肉丸刈包便當修改

const editDialog29 = ref(false)

function editGuabaoBangdong5 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 牛肉丸刈包便當主餐歸零
  for (const GuabaoBangdong5EditMain of GuabaoBangdong5EditMains) {
    GuabaoBangdong5EditMain.quantity = 0
  }
  // 牛肉丸刈包便當飲料歸零
  for (const GuabaoBangdong5EditDrink of GuabaoBangdong5EditDrinks) {
    GuabaoBangdong5EditDrink.quantity = 0
  }
  // 牛肉丸刈包便當配菜歸零
  for (const GuabaoBangdong5EditSideDish of GuabaoBangdong5EditSideDishes) {
    GuabaoBangdong5EditSideDish.quantity = 0
  }
  // 牛肉丸刈包便當副主餐歸零
  for (const GuabaoBangdong5EditBentoMain of GuabaoBangdong5EditBentoMains) {
    GuabaoBangdong5EditBentoMain.quantity = 0
  }
  // 牛肉丸刈包便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdong5EditArbitrarily.value = input.value
    }
    // 牛肉丸刈包便當  主餐  推入 input 數值
    const mainIndex = GuabaoBangdong5EditMains.findIndex(
      (GuabaoBangdong5EditMain) =>
        GuabaoBangdong5EditMain.name === name || GuabaoBangdong5EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdong5EditMains[mainIndex].quantity = parseInt(value)
    }
    // 牛肉丸刈包便當  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdong5EditDrinks.findIndex(
      (GuabaoBangdong5EditDrink) => GuabaoBangdong5EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdong5EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 牛肉丸刈包便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = GuabaoBangdong5EditSideDishes.findIndex(
        (GuabaoBangdong5EditSideDish) => GuabaoBangdong5EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdong5EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 牛肉丸刈包便當  副主餐  推入 input 數值
      const bentoMainIndex = GuabaoBangdong5EditBentoMains.findIndex(
        (GuabaoBangdong5EditBentoMain) => GuabaoBangdong5EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdong5EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoBangdong5EditTotalQuantity.value = row.quantity
  GuabaoBangdong5Comment.value = row.comment
  editDialog29.value = true
}

// 牛肉丸刈包便當總數量
watch(GuabaoBangdong5EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdong5EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdong5EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 牛肉丸刈包便當單價
const GuabaoBangdong5EditPrice = computed(() => {
  return GuabaoBangdong5Price.value
})
// 牛肉丸刈包便當總價格
const GuabaoBangdong5EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdong5EditTotalQuantity.value * GuabaoBangdong5EditPrice.value

  return totalPrice
})
const GuabaoBangdong5EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdong5EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdong5EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const GuabaoBangdong5EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdong5EditoptionPrice.value + GuabaoBangdong5EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog29 () {
  editDialog29.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog29 () {
  if (GuabaoBangdong5EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdong5EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, GuabaoBangdong5EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(GuabaoBangdong5EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 30,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdong5EditfinalTotal.value,
    optionPrice: GuabaoBangdong5EditoptionPrice.value,
    totalPrice: GuabaoBangdong5EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdong5Comment.value
  }

  const totalEditQuantity = GuabaoBangdong5EditTotalQuantity.value // 計算總數量
  row.quantity = GuabaoBangdong5EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const GuabaoBangdong5EditMain of GuabaoBangdong5EditMains) {
    if (GuabaoBangdong5EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdong5EditMain.name +
        'x' +
        parseInt(GuabaoBangdong5EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdong5MainMealId.value,
        productTypeName: GuabaoBangdong5MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong5EditMain.id,
        name: GuabaoBangdong5EditMain.name,
        value: parseInt(GuabaoBangdong5EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdong5EditDrink of GuabaoBangdong5EditDrinks) {
    if (GuabaoBangdong5EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdong5EditDrink.name +
        'x' +
        parseInt(GuabaoBangdong5EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdong5DrinkName.value,
        productTypeId: GuabaoBangdong5DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong5EditDrink.id,
        name: GuabaoBangdong5EditDrink.name,
        value: parseInt(GuabaoBangdong5EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdong5EditSideDish of GuabaoBangdong5EditSideDishes) {
    if (GuabaoBangdong5EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdong5EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdong5EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: GuabaoBangdong5SideDishName.value,
        productTypeId: GuabaoBangdong5SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdong5EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdong5EditSideDish.id,
        name: GuabaoBangdong5EditSideDish.name,
        value: parseInt(GuabaoBangdong5EditSideDish.quantity),
        is_default: GuabaoBangdong5EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdong5EditBentoMain of GuabaoBangdong5EditBentoMains) {
    if (GuabaoBangdong5EditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdong5EditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdong5EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: GuabaoBangdong5BentoMainName.value,
        productTypeId: GuabaoBangdong5BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdong5EditBentoMain.id,
        name: GuabaoBangdong5EditBentoMain.name,
        value: parseInt(GuabaoBangdong5EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 牛肉丸刈包便當、1002、數量
  const productInput = {
    id: GuabaoBangdong5ProductId.value,
    name: GuabaoBangdong5Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdong5EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdong5Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdong5EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoBangdong5EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoBangdong5EditArbitrarily',
      value: GuabaoBangdong5EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdong5Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog29.value = false
  GuabaoBangdong5EditArbitrarily.value = 0
  console.log(row)
}

// 素食刈包便當 125 修改

const editDialogGuabaoV1 = ref(false)

function editGuabaoBangdongVegetarian1 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 素食刈包便當 125 主餐歸零
  for (const GuabaoBangdongVegetarian1EditMain of GuabaoBangdongVegetarian1EditMains) {
    GuabaoBangdongVegetarian1EditMain.quantity = 0
  }
  // 素食刈包便當 125 飲料歸零
  for (const GuabaoBangdongVegetarian1EditDrink of GuabaoBangdongVegetarian1EditDrinks) {
    GuabaoBangdongVegetarian1EditDrink.quantity = 0
  }
  // 素食刈包便當 125 配菜歸零
  for (const GuabaoBangdongVegetarian1EditSideDish of GuabaoBangdongVegetarian1EditSideDishes) {
    GuabaoBangdongVegetarian1EditSideDish.quantity = 0
  }
  // 素食刈包便當 125 副主餐歸零
  for (const GuabaoBangdongVegetarian1EditBentoMain of GuabaoBangdongVegetarian1EditBentoMains) {
    GuabaoBangdongVegetarian1EditBentoMain.quantity = 0
  }
  // 素食刈包便當 125 主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdongVegetarian1EditArbitrarily.value = input.value
    }
    // 素食刈包便當 125  主餐  推入 input 數值
    const mainIndex = GuabaoBangdongVegetarian1EditMains.findIndex(
      (GuabaoBangdongVegetarian1EditMain) =>
        GuabaoBangdongVegetarian1EditMain.name === name ||
        GuabaoBangdongVegetarian1EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdongVegetarian1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 素食刈包便當 125  飲料  推入 input 數值
    const drinkIndex = GuabaoBangdongVegetarian1EditDrinks.findIndex(
      (GuabaoBangdongVegetarian1EditDrink) =>
        GuabaoBangdongVegetarian1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdongVegetarian1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 素食刈包便當 125  配菜  推入 input 數值
      const sideDishIndex = GuabaoBangdongVegetarian1EditSideDishes.findIndex(
        (GuabaoBangdongVegetarian1EditSideDish) =>
          GuabaoBangdongVegetarian1EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdongVegetarian1EditSideDishes[sideDishIndex].quantity =
          parseInt(value)
      }
      // 素食刈包便當 125  副主餐  推入 input 數值
      const bentoMainIndex = GuabaoBangdongVegetarian1EditBentoMains.findIndex(
        (GuabaoBangdongVegetarian1EditBentoMain) =>
          GuabaoBangdongVegetarian1EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdongVegetarian1EditBentoMains[bentoMainIndex].quantity =
          parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoBangdongVegetarian1EditTotalQuantity.value = row.quantity
  GuabaoBangdongVegetarian1Comment.value = row.comment
  editDialogGuabaoV1.value = true
}

// 素食刈包便當 125 總數量
watch(GuabaoBangdongVegetarian1EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdongVegetarian1EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdongVegetarian1EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 素食刈包便當 125 單價
const GuabaoBangdongVegetarian1EditPrice = computed(() => {
  return GuabaoBangdongVegetarian1Price.value
})
// 素食刈包便當 125 總價格
const GuabaoBangdongVegetarian1EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian1EditTotalQuantity.value *
    GuabaoBangdongVegetarian1EditPrice.value
  return totalPrice
})

const GuabaoBangdongVegetarian1EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdongVegetarian1EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdongVegetarian1EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdongVegetarian1EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian1EditoptionPrice.value +
    GuabaoBangdongVegetarian1EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialogGuabaoV1 () {
  editDialogGuabaoV1.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialogGuabaoV1 () {
  if (GuabaoBangdongVegetarian1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdongVegetarian1EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(
    calculatedTotalQuantity,
    GuabaoBangdongVegetarian1EditTotalQuantity.value
  )
  if (
    calculatedTotalQuantity !==
    parseInt(GuabaoBangdongVegetarian1EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 31,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdongVegetarian1EditfinalTotal.value,
    optionPrice: GuabaoBangdongVegetarian1EditoptionPrice.value,
    totalPrice: GuabaoBangdongVegetarian1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdongVegetarian1Comment.value
  }

  const totalEditQuantity = GuabaoBangdongVegetarian1EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const GuabaoBangdongVegetarian1EditMain of GuabaoBangdongVegetarian1EditMains) {
    if (GuabaoBangdongVegetarian1EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdongVegetarian1EditMain.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdongVegetarian1MainMealId.value,
        productTypeName: GuabaoBangdongVegetarian1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian1EditMain.id,
        name: GuabaoBangdongVegetarian1EditMain.name,
        value: parseInt(GuabaoBangdongVegetarian1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdongVegetarian1EditDrink of GuabaoBangdongVegetarian1EditDrinks) {
    if (GuabaoBangdongVegetarian1EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdongVegetarian1EditDrink.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian1DrinkName.value,
        productTypeId: GuabaoBangdongVegetarian1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian1EditDrink.id,
        name: GuabaoBangdongVegetarian1EditDrink.name,
        value: parseInt(GuabaoBangdongVegetarian1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdongVegetarian1EditSideDish of GuabaoBangdongVegetarian1EditSideDishes) {
    if (GuabaoBangdongVegetarian1EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdongVegetarian1EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian1SideDishName.value,
        productTypeId: GuabaoBangdongVegetarian1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdongVegetarian1EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdongVegetarian1EditSideDish.id,
        name: GuabaoBangdongVegetarian1EditSideDish.name,
        value: parseInt(GuabaoBangdongVegetarian1EditSideDish.quantity),
        is_default: GuabaoBangdongVegetarian1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdongVegetarian1EditBentoMain of GuabaoBangdongVegetarian1EditBentoMains) {
    if (GuabaoBangdongVegetarian1EditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdongVegetarian1EditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian1EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian1BentoMainName.value,
        productTypeId: GuabaoBangdongVegetarian1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian1EditBentoMain.id,
        name: GuabaoBangdongVegetarian1EditBentoMain.name,
        value: parseInt(GuabaoBangdongVegetarian1EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留素食刈包便當 125、1002、數量
  const productInput = {
    id: GuabaoBangdongVegetarian1ProductId.value,
    name: GuabaoBangdongVegetarian1Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdongVegetarian1EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdongVegetarian1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdongVegetarian1EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(GuabaoBangdongVegetarian1EditArbitrarily.value).toString() +
      '<br>'
    const input = {
      id: 'GuabaoBangdongVegetarian1EditArbitrarily',
      value: GuabaoBangdongVegetarian1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdongVegetarian1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialogGuabaoV1.value = false
  GuabaoBangdongVegetarian1EditArbitrarily.value = 0
}

// 素食刈包便當 150 修改

const editDialogGuabaoV2 = ref(false)

function editGuabaoBangdongVegetarian2 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 素食刈包便當 150 主餐歸零
  for (const GuabaoBangdongVegetarian2EditMain of GuabaoBangdongVegetarian2EditMains) {
    GuabaoBangdongVegetarian2EditMain.quantity = 0
  }
  // 素食刈包便當 150 飲料歸零
  for (const GuabaoBangdongVegetarian2EditDrink of GuabaoBangdongVegetarian2EditDrinks) {
    GuabaoBangdongVegetarian2EditDrink.quantity = 0
  }
  // 素食刈包便當 150 配菜歸零
  for (const GuabaoBangdongVegetarian2EditSideDish of GuabaoBangdongVegetarian2EditSideDishes) {
    GuabaoBangdongVegetarian2EditSideDish.quantity = 0
  }
  // 素食刈包便當 150 副主餐歸零
  for (const GuabaoBangdongVegetarian2EditBentoMain of GuabaoBangdongVegetarian2EditBentoMains) {
    GuabaoBangdongVegetarian2EditBentoMain.quantity = 0
  }
  // 素食刈包便當 150 主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoBangdongVegetarian2EditArbitrarily.value = input.value
    }
    // 素食刈包便當 150 主餐 推入 input 數值
    const mainIndex = GuabaoBangdongVegetarian2EditMains.findIndex(
      (GuabaoBangdongVegetarian2EditMain) =>
        GuabaoBangdongVegetarian2EditMain.name === name ||
        GuabaoBangdongVegetarian2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoBangdongVegetarian2EditMains[mainIndex].quantity = parseInt(value)
    }
    // 素食刈包便當 150 飲料 推入 input 數值
    const drinkIndex = GuabaoBangdongVegetarian2EditDrinks.findIndex(
      (GuabaoBangdongVegetarian2EditDrink) =>
        GuabaoBangdongVegetarian2EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      GuabaoBangdongVegetarian2EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 素食刈包便當 150 配菜 推入 input 數值
      const sideDishIndex = GuabaoBangdongVegetarian2EditSideDishes.findIndex(
        (GuabaoBangdongVegetarian2EditSideDish) =>
          GuabaoBangdongVegetarian2EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoBangdongVegetarian2EditSideDishes[sideDishIndex].quantity =
          parseInt(value)
      }
      // 素食刈包便當 150 副主餐 推入 input 數值
      const bentoMainIndex = GuabaoBangdongVegetarian2EditBentoMains.findIndex(
        (GuabaoBangdongVegetarian2EditBentoMain) =>
          GuabaoBangdongVegetarian2EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        GuabaoBangdongVegetarian2EditBentoMains[bentoMainIndex].quantity =
          parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  GuabaoBangdongVegetarian2EditTotalQuantity.value = row.quantity
  GuabaoBangdongVegetarian2Comment.value = row.comment
  editDialogGuabaoV2.value = true
}

// 素食刈包便當 150 總數量
watch(GuabaoBangdongVegetarian2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoBangdongVegetarian2EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoBangdongVegetarian2EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 素食刈包便當 150 單價
const GuabaoBangdongVegetarian2EditPrice = computed(() => {
  return GuabaoBangdongVegetarian2Price.value
})
// 素食刈包便當 150 總價格
const GuabaoBangdongVegetarian2EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian2EditTotalQuantity.value *
    GuabaoBangdongVegetarian2EditPrice.value
  return totalPrice
})
const GuabaoBangdongVegetarian2EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoBangdongVegetarian2EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  GuabaoBangdongVegetarian2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoBangdongVegetarian2EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoBangdongVegetarian2EditoptionPrice.value +
    GuabaoBangdongVegetarian2EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialogGuabaoV2 () {
  editDialogGuabaoV2.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialogGuabaoV2 () {
  if (GuabaoBangdongVegetarian2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = GuabaoBangdongVegetarian2EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  if (
    calculatedTotalQuantity !==
    parseInt(GuabaoBangdongVegetarian2EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 32,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoBangdongVegetarian2EditfinalTotal.value,
    optionPrice: GuabaoBangdongVegetarian2EditoptionPrice.value,
    totalPrice: GuabaoBangdongVegetarian2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoBangdongVegetarian2Comment.value
  }

  const totalEditQuantity = GuabaoBangdongVegetarian2EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const GuabaoBangdongVegetarian2EditMain of GuabaoBangdongVegetarian2EditMains) {
    if (GuabaoBangdongVegetarian2EditMain.quantity > 0) {
      row.Main +=
        GuabaoBangdongVegetarian2EditMain.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoBangdongVegetarian2MainMealId.value,
        productTypeName: GuabaoBangdongVegetarian2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian2EditMain.id,
        name: GuabaoBangdongVegetarian2EditMain.name,
        value: parseInt(GuabaoBangdongVegetarian2EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const GuabaoBangdongVegetarian2EditDrink of GuabaoBangdongVegetarian2EditDrinks) {
    if (GuabaoBangdongVegetarian2EditDrink.quantity > 0) {
      row.drinks +=
        GuabaoBangdongVegetarian2EditDrink.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian2DrinkName.value,
        productTypeId: GuabaoBangdongVegetarian2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian2EditDrink.id,
        name: GuabaoBangdongVegetarian2EditDrink.name,
        value: parseInt(GuabaoBangdongVegetarian2EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const GuabaoBangdongVegetarian2EditSideDish of GuabaoBangdongVegetarian2EditSideDishes) {
    if (GuabaoBangdongVegetarian2EditSideDish.quantity > 0) {
      row.sideDishes +=
        GuabaoBangdongVegetarian2EditSideDish.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian2SideDishName.value,
        productTypeId: GuabaoBangdongVegetarian2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += GuabaoBangdongVegetarian2EditSideDish.is_default + ' '
      const input = {
        id: GuabaoBangdongVegetarian2EditSideDish.id,
        name: GuabaoBangdongVegetarian2EditSideDish.name,
        value: parseInt(GuabaoBangdongVegetarian2EditSideDish.quantity),
        is_default: GuabaoBangdongVegetarian2EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const GuabaoBangdongVegetarian2EditBentoMain of GuabaoBangdongVegetarian2EditBentoMains) {
    if (GuabaoBangdongVegetarian2EditBentoMain.quantity > 0) {
      row.bentoMains +=
        GuabaoBangdongVegetarian2EditBentoMain.name +
        'x' +
        parseInt(GuabaoBangdongVegetarian2EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: GuabaoBangdongVegetarian2BentoMainName.value,
        productTypeId: GuabaoBangdongVegetarian2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoBangdongVegetarian2EditBentoMain.id,
        name: GuabaoBangdongVegetarian2EditBentoMain.name,
        value: parseInt(GuabaoBangdongVegetarian2EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留素食刈包便當 150、1002、數量
  const productInput = {
    id: GuabaoBangdongVegetarian2ProductId.value,
    name: GuabaoBangdongVegetarian2Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoBangdongVegetarian2EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoBangdongVegetarian2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoBangdongVegetarian2EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(GuabaoBangdongVegetarian2EditArbitrarily.value).toString() +
      '<br>'
    const input = {
      id: 'GuabaoBangdongVegetarian2EditArbitrarily',
      value: GuabaoBangdongVegetarian2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoBangdongVegetarian2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialogGuabaoV2.value = false
  GuabaoBangdongVegetarian2EditArbitrarily.value = 0
}

// -------------------------------------------------
// 招牌便當修改
const editDialog1 = ref(false)
function editBangdong1 (row) {
  // watchers.forEach((unwatch) => unwatch());
  // watchers = [];
  // 招牌便當主餐歸零
  for (const bangdong1EditMain of bangdong1EditMains) {
    bangdong1EditMain.quantity = 0
  }
  // 招牌便當飲料歸零
  for (const bangdong1EditDrink of bangdong1EditDrinks) {
    bangdong1EditDrink.quantity = 0
  }
  // 招牌便當配菜歸零
  for (const bangdong1EditSideDish of bangdong1EditSideDishes) {
    bangdong1EditSideDish.quantity = 0
  }
  // 招牌便當副主餐歸零
  for (const bangdong1EditBentoMain of bangdong1EditBentoMains) {
    bangdong1EditBentoMain.quantity = 0
  }
  // 招牌便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdong1EditArbitrarily.value = input.value
    }
    // 招牌便當  主餐  推入 input 數值
    const mainIndex = bangdong1EditMains.findIndex(
      (bangdong1EditMain) =>
        bangdong1EditMain.name === name || bangdong1EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdong1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 招牌便當  飲料  推入 input 數值
    const drinkIndex = bangdong1EditDrinks.findIndex(
      (bangdong1EditDrink) => bangdong1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdong1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 招牌便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = bangdong1EditSideDishes.findIndex(
        (bangdong1EditSideDish) => bangdong1EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdong1EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化
  editingRow = row
  bangdong1EditTotalQuantity.value = row.quantity
  bangdong1Comment.value = row.comment
  editDialog1.value = true
}

// 招牌便當修正欄位總數量計算
watch(bangdong1EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong1EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdong1EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 招牌便當單價
const bangdong1EditPrice = computed(() => {
  return bangdong1Price.value
})

// 招牌便當總價格
const bangdong1EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdong1EditTotalQuantity.value * bangdong1EditPrice.value
  return totalPrice
})
const bangdong1EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdong1EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong1EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})

const bangdong1EditfinalTotal = computed(() => {
  const totalPrice =
    bangdong1EditoptionPrice.value + bangdong1EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog1 () {
  watchers.forEach((unwatch) => unwatch())
  // 清空 watchers 数组
  watchers = []
  editDialog1.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog1 () {
  if (bangdong1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong1EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong1EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdong1EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 1,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    price: bangdong1EditfinalTotal.value,
    optionPrice: bangdong1EditoptionPrice.value,
    totalPrice: bangdong1EditTotalQuantityPrice.value,
    inputs: [],
    quantity: '',
    productInputs: [],
    comment: bangdong1Comment.value
  }

  const totalEditQuantity = bangdong1EditTotalQuantity.value // 計算總數量
  row.quantity = bangdong1EditTotalQuantity.value
  for (const bangdong1EditMain of bangdong1EditMains) {
    if (bangdong1EditMain.quantity > 0) {
      row.Main +=
        bangdong1EditMain.name +
        'x' +
        parseInt(bangdong1EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong1MainMealId.value,
        productTypeName: bangdong1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong1EditMain.id,
        name: bangdong1EditMain.name,
        value: parseInt(bangdong1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const bangdong1EditDrink of bangdong1EditDrinks) {
    if (bangdong1EditDrink.quantity > 0) {
      row.drinks +=
        bangdong1EditDrink.name +
        'x' +
        parseInt(bangdong1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong1DrinkName.value,
        productTypeId: bangdong1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong1EditDrink.id,
        name: bangdong1EditDrink.name,
        value: parseInt(bangdong1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const bangdong1EditSideDish of bangdong1EditSideDishes) {
    if (bangdong1EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdong1EditSideDish.name +
        'x' +
        parseInt(bangdong1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong1SideDishName.value,
        productTypeId: bangdong1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong1EditSideDish.is_default + ' '
      const input = {
        id: bangdong1EditSideDish.id,
        name: bangdong1EditSideDish.name,
        value: parseInt(bangdong1EditSideDish.quantity),
        is_default: bangdong1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 保留 招牌便當、1001、數量
  const productInput = {
    id: bangdong1ProductId.value,
    name: bangdong1Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdong1EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong1EditArbitrarily.value).toString()
    const input = {
      id: 'bangdong1EditArbitrarily',
      value: bangdong1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = bangdong1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog1.value = false
  bangdong1EditArbitrarily.value = 0
}

// 招牌素便當修改
const editDialog23 = ref(false)
function editBangdong6 (row) {
  // watchers.forEach((unwatch) => unwatch());
  // watchers = [];
  // 招牌素便當主餐歸零
  for (const bangdong6EditMain of bangdong6EditMains) {
    bangdong6EditMain.quantity = 0
  }
  // 招牌素便當飲料歸零
  for (const bangdong6EditDrink of bangdong6EditDrinks) {
    bangdong6EditDrink.quantity = 0
  }
  // 招牌素便當配菜歸零
  for (const bangdong6EditSideDish of bangdong6EditSideDishes) {
    bangdong6EditSideDish.quantity = 0
  }
  // 招牌素便當副主餐歸零
  for (const bangdong6EditBentoMain of bangdong6EditBentoMains) {
    bangdong6EditBentoMain.quantity = 0
  }
  // 招牌素便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdong6EditArbitrarily.value = input.value
    }
    // 招牌素便當  主餐  推入 input 數值
    const mainIndex = bangdong6EditMains.findIndex(
      (bangdong6EditMain) =>
        bangdong6EditMain.name === name || bangdong6EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdong6EditMains[mainIndex].quantity = parseInt(value)
    }
    // 招牌素便當  飲料  推入 input 數值
    const drinkIndex = bangdong6EditDrinks.findIndex(
      (bangdong6EditDrink) => bangdong6EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdong6EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 招牌素便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = bangdong6EditSideDishes.findIndex(
        (bangdong6EditSideDish) => bangdong6EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdong6EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化
  editingRow = row
  bangdong6EditTotalQuantity.value = row.quantity
  bangdong6Comment.value = row.comment
  editDialog23.value = true
}

// 招牌素便當修正欄位總數量計算
watch(bangdong6EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong6EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdong6EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 招牌素便當單價
const bangdong6EditPrice = computed(() => {
  return bangdong6Price.value
})

// 招牌素便當總價格
const bangdong6EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdong6EditTotalQuantity.value * bangdong6EditPrice.value
  return totalPrice
})
const bangdong6EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdong6EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong6EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})

const bangdong6EditfinalTotal = computed(() => {
  const totalPrice =
    bangdong6EditoptionPrice.value + bangdong6EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog23 () {
  watchers.forEach((unwatch) => unwatch())
  // 清空 watchers 数组
  watchers = []
  editDialog23.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog23 () {
  if (bangdong6EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong6EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong6EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdong6EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 23,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    price: bangdong6EditfinalTotal.value,
    optionPrice: bangdong6EditoptionPrice.value,
    totalPrice: bangdong6EditTotalQuantityPrice.value,
    inputs: [],
    quantity: '',
    productInputs: [],
    comment: bangdong6Comment.value
  }

  const totalEditQuantity = bangdong6EditTotalQuantity.value // 計算總數量
  row.quantity = bangdong6EditTotalQuantity.value
  for (const bangdong6EditMain of bangdong6EditMains) {
    if (bangdong6EditMain.quantity > 0) {
      row.Main +=
        bangdong6EditMain.name +
        'x' +
        parseInt(bangdong6EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong6MainMealId.value,
        productTypeName: bangdong6MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong6EditMain.id,
        name: bangdong6EditMain.name,
        value: parseInt(bangdong6EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const bangdong6EditDrink of bangdong6EditDrinks) {
    if (bangdong6EditDrink.quantity > 0) {
      row.drinks +=
        bangdong6EditDrink.name +
        'x' +
        parseInt(bangdong6EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong6DrinkName.value,
        productTypeId: bangdong6DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong6EditDrink.id,
        name: bangdong6EditDrink.name,
        value: parseInt(bangdong6EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const bangdong6EditSideDish of bangdong6EditSideDishes) {
    if (bangdong6EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdong6EditSideDish.name +
        'x' +
        parseInt(bangdong6EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong6SideDishName.value,
        productTypeId: bangdong6SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong6EditSideDish.is_default + ' '
      const input = {
        id: bangdong6EditSideDish.id,
        name: bangdong6EditSideDish.name,
        value: parseInt(bangdong6EditSideDish.quantity),
        is_default: bangdong6EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 保留 招牌素便當、1001、數量
  const productInput = {
    id: bangdong6ProductId.value,
    name: bangdong6Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdong6EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong6Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong6EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong6EditArbitrarily.value).toString()
    const input = {
      id: 'bangdong6EditArbitrarily',
      value: bangdong6EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = bangdong6Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog23.value = false
  bangdong6EditArbitrarily.value = 0
}

// 雞胸便當修改

const editDialog2 = ref(false)

function editBangdong2 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 雞胸便當主餐歸零
  for (const bangdong2EditMain of bangdong2EditMains) {
    bangdong2EditMain.quantity = 0
  }
  // 雞胸便當飲料歸零
  for (const bangdong2EditDrink of bangdong2EditDrinks) {
    bangdong2EditDrink.quantity = 0
  }
  // 雞胸便當配菜歸零
  for (const bangdong2EditSideDish of bangdong2EditSideDishes) {
    bangdong2EditSideDish.quantity = 0
  }
  // 雞胸便當副主餐歸零
  for (const bangdong2EditBentoMain of bangdong2EditBentoMains) {
    bangdong2EditBentoMain.quantity = 0
  }
  // 雞胸便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdong2EditArbitrarily.value = input.value
    }
    // 雞胸便當  主餐  推入 input 數值
    const mainIndex = bangdong2EditMains.findIndex(
      (bangdong2EditMain) =>
        bangdong2EditMain.name === name || bangdong2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdong2EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞胸便當  飲料  推入 input 數值
    const drinkIndex = bangdong2EditDrinks.findIndex(
      (bangdong2EditDrink) => bangdong2EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdong2EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 雞胸便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = bangdong2EditSideDishes.findIndex(
        (bangdong2EditSideDish) => bangdong2EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdong2EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 雞胸便當  副主餐  推入 input 數值
      const bentoMainIndex = bangdong2EditBentoMains.findIndex(
        (bangdong2EditBentoMain) => bangdong2EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdong2EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  bangdong2EditTotalQuantity.value = row.quantity
  bangdong2Comment.value = row.comment
  editDialog2.value = true
}

// 雞胸便當總數量
watch(bangdong2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong2EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdong2EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 雞胸便當單價
const bangdong2EditPrice = computed(() => {
  return bangdong2Price.value
})
// 雞胸便當總價格
const bangdong2EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdong2EditTotalQuantity.value * bangdong2EditPrice.value

  return totalPrice
})
const bangdong2EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdong2EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const bangdong2EditfinalTotal = computed(() => {
  const totalPrice =
    bangdong2EditoptionPrice.value + bangdong2EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog2 () {
  editDialog2.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog2 () {
  if (bangdong2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong2EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong2EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdong2EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 2,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong2EditfinalTotal.value,
    optionPrice: bangdong2EditoptionPrice.value,
    totalPrice: bangdong2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong2Comment.value
  }

  const totalEditQuantity = bangdong2EditTotalQuantity.value // 計算總數量
  row.quantity = bangdong2EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const bangdong2EditMain of bangdong2EditMains) {
    if (bangdong2EditMain.quantity > 0) {
      row.Main +=
        bangdong2EditMain.name +
        'x' +
        parseInt(bangdong2EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong2MainMealId.value,
        productTypeName: bangdong2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong2EditMain.id,
        name: bangdong2EditMain.name,
        value: parseInt(bangdong2EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdong2EditDrink of bangdong2EditDrinks) {
    if (bangdong2EditDrink.quantity > 0) {
      row.drinks +=
        bangdong2EditDrink.name +
        'x' +
        parseInt(bangdong2EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong2DrinkName.value,
        productTypeId: bangdong2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong2EditDrink.id,
        name: bangdong2EditDrink.name,
        value: parseInt(bangdong2EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdong2EditSideDish of bangdong2EditSideDishes) {
    if (bangdong2EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdong2EditSideDish.name +
        'x' +
        parseInt(bangdong2EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: bangdong2SideDishName.value,
        productTypeId: bangdong2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong2EditSideDish.is_default + ' '
      const input = {
        id: bangdong2EditSideDish.id,
        name: bangdong2EditSideDish.name,
        value: parseInt(bangdong2EditSideDish.quantity),
        is_default: bangdong2EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdong2EditBentoMain of bangdong2EditBentoMains) {
    if (bangdong2EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong2EditBentoMain.name +
        'x' +
        parseInt(bangdong2EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: bangdong2BentoMainName.value,
        productTypeId: bangdong2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong2EditBentoMain.id,
        name: bangdong2EditBentoMain.name,
        value: parseInt(bangdong2EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞胸便當、1002、數量
  const productInput = {
    id: bangdong2ProductId.value,
    name: bangdong2Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdong2EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong2EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong2EditArbitrarily.value).toString()
    const input = {
      id: 'bangdong2EditArbitrarily',
      value: bangdong2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog2.value = false
  bangdong2EditArbitrarily.value = 0
  console.log(row)
}
// 雞腿便當修改
const editDialog3 = ref(false)
function editBangdong3 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 雞腿便當主餐歸零
  for (const bangdong3EditMain of bangdong3EditMains) {
    bangdong3EditMain.quantity = 0
  }
  // 雞腿便當飲料歸零
  for (const bangdong3EditDrink of bangdong3EditDrinks) {
    bangdong3EditDrink.quantity = 0
  }
  // 雞腿便當配菜歸零
  for (const bangdong3EditSideDish of bangdong3EditSideDishes) {
    bangdong3EditSideDish.quantity = 0
  }
  // 雞腿便當副主餐歸零
  for (const bangdong3EditBentoMain of bangdong3EditBentoMains) {
    bangdong3EditBentoMain.quantity = 0
  }
  // 雞腿便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdong3EditArbitrarily.value = input.value
    }
    // 雞腿便當  主餐  推入 input 數值
    const mainIndex = bangdong3EditMains.findIndex(
      (bangdong3EditMain) =>
        bangdong3EditMain.name === name || bangdong3EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdong3EditMains[mainIndex].quantity = parseInt(value)
    }
    // 雞腿便當  飲料  推入 input 數值
    const drinkIndex = bangdong3EditDrinks.findIndex(
      (bangdong3EditDrink) => bangdong3EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdong3EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 雞腿便當  配菜  推入 input 數值
      const sideDishIndex = bangdong3EditSideDishes.findIndex(
        (bangdong3EditSideDish) => bangdong3EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdong3EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 雞腿便當  副主餐  推入 input 數值
      const bentoMainIndex = bangdong3EditBentoMains.findIndex(
        (bangdong3EditBentoMain) => bangdong3EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdong3EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  bangdong3EditTotalQuantity.value = row.quantity
  bangdong3Comment.value = row.comment
  editDialog3.value = true
}

// 雞腿便當修正區總數量
watch(bangdong3EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong3EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdong3EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 雞腿便當單價
const bangdong3EditPrice = computed(() => {
  return bangdong3Price.value
})
// 雞腿便當總價格
const bangdong3EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdong3EditTotalQuantity.value * bangdong3EditPrice.value
  return totalPrice
})
const bangdong3EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdong3EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong3EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdong3EditfinalTotal = computed(() => {
  const totalPrice =
    bangdong3EditoptionPrice.value + bangdong3EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog3 () {
  editDialog3.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog3 () {
  if (bangdong3EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong3EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong3EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdong3EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 3,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong3EditfinalTotal.value,
    optionPrice: bangdong3EditoptionPrice.value,
    totalPrice: bangdong3EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong3Comment.value
  }

  const totalEditQuantity = bangdong3EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const bangdong3EditMain of bangdong3EditMains) {
    if (bangdong3EditMain.quantity > 0) {
      row.Main +=
        bangdong3EditMain.name +
        ' x ' +
        parseInt(bangdong3EditMain.quantity).toString() +
        '<br>'
      // 保留 雞腿便當、1003、數量、主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong3MainMealId.value,
        productTypeName: bangdong3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong3EditMain.id,
        name: bangdong3EditMain.name,
        value: parseInt(bangdong3EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdong3EditDrink of bangdong3EditDrinks) {
    if (bangdong3EditDrink.quantity > 0) {
      row.drinks +=
        bangdong3EditDrink.name +
        ' x ' +
        parseInt(bangdong3EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong3DrinkName.value,
        productTypeId: bangdong3DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong3EditDrink.id,
        name: bangdong3EditDrink.name,
        value: parseInt(bangdong3EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdong3EditSideDish of bangdong3EditSideDishes) {
    if (bangdong3EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdong3EditSideDish.name +
        'x' +
        parseInt(bangdong3EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong3SideDishName.value,
        productTypeId: bangdong3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong3EditSideDish.is_default + ' '
      const input = {
        id: bangdong3EditSideDish.id,
        name: bangdong3EditSideDish.name,
        value: parseInt(bangdong3EditSideDish.quantity),
        is_default: bangdong3EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdong3EditBentoMain of bangdong3EditBentoMains) {
    if (bangdong3EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong3EditBentoMain.name +
        'x' +
        parseInt(bangdong3EditBentoMain.quantity).toString()
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdong3BentoMainName.value,
        productTypeId: bangdong3BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong3EditBentoMain.id,
        name: bangdong3EditBentoMain.name,
        value: parseInt(bangdong3EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 雞腿便當、1003、數量
  const productInput = {
    id: bangdong3ProductId.value,
    name: bangdong3Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdong3EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong3EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdong3EditArbitrarily.value).toString() +
      '<br>'
    const input = {
      id: 'bangdong3EditArbitrarily',
      value: bangdong3EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong3Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }

  editDialog3.value = false
  bangdong3EditArbitrarily.value = 0
  console.log(row)
}

// 滷牛便當修改
const editDialog4 = ref(false)
function editBangdong4 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 滷牛便當主餐歸零
  for (const bangdong4EditMain of bangdong4EditMains) {
    bangdong4EditMain.quantity = 0
  }
  // 滷牛便當飲料歸零
  for (const bangdong4EditDrink of bangdong4EditDrinks) {
    bangdong4EditDrink.quantity = 0
  }
  // 滷牛便當配菜歸零
  for (const bangdong4EditSideDish of bangdong4EditSideDishes) {
    bangdong4EditSideDish.quantity = 0
  }
  // 滷牛便當副主餐歸零
  for (const bangdong4EditBentoMain of bangdong4EditBentoMains) {
    bangdong4EditBentoMain.quantity = 0
  }
  // 滷牛便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdong4EditArbitrarily.value = input.value
    }
    // 滷牛便當  主餐  推入 input 數值
    const mainIndex = bangdong4EditMains.findIndex(
      (bangdong4EditMain) =>
        bangdong4EditMain.name === name || bangdong4EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdong4EditMains[mainIndex].quantity = parseInt(value)
    }
    // 滷牛便當  飲料  推入 input 數值
    const drinkIndex = bangdong4EditDrinks.findIndex(
      (bangdong4EditDrink) => bangdong4EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdong4EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 滷牛便當  配菜  推入 input 數值
      const sideDishIndex = bangdong4EditSideDishes.findIndex(
        (bangdong4EditSideDish) => bangdong4EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdong4EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 滷牛便當  副主餐  推入 input 數值
      const bentoMainIndex = bangdong4EditBentoMains.findIndex(
        (bangdong4EditBentoMain) => bangdong4EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdong4EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  bangdong4EditTotalQuantity.value = row.quantity
  bangdong4Comment.value = row.comment
  editDialog4.value = true
}
// 滷牛便當總數量
watch(bangdong4EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong4EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdong4EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 滷牛便當單價
const bangdong4EditPrice = computed(() => {
  return bangdong4Price.value
})
// 滷牛便當總價格
const bangdong4EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdong4EditTotalQuantity.value * bangdong4EditPrice.value
  return totalPrice
})
const bangdong4EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdong4EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong4EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdong4EditfinalTotal = computed(() => {
  const totalPrice =
    bangdong4EditoptionPrice.value + bangdong4EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog4 () {
  editDialog4.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog4 () {
  if (bangdong4EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong4EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong4EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdong4EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 4,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong4EditfinalTotal.value,
    optionPrice: bangdong4EditoptionPrice.value,
    totalPrice: bangdong4EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong4Comment.value
  }

  const totalEditQuantity = bangdong4EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const bangdong4EditMain of bangdong4EditMains) {
    if (bangdong4EditMain.quantity > 0) {
      row.Main +=
        bangdong4EditMain.name +
        'x' +
        parseInt(bangdong4EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong4MainMealId.value,
        productTypeName: bangdong4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong4EditMain.id,
        name: bangdong4EditMain.name,
        value: parseInt(bangdong4EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdong4EditDrink of bangdong4EditDrinks) {
    if (bangdong4EditDrink.quantity > 0) {
      row.drinks +=
        bangdong4EditDrink.name +
        'x' +
        parseInt(bangdong4EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong4DrinkName.value,
        productTypeId: bangdong4DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong4EditDrink.id,
        name: bangdong4EditDrink.name,
        value: parseInt(bangdong4EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdong4EditSideDish of bangdong4EditSideDishes) {
    if (bangdong4EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdong4EditSideDish.name +
        'x' +
        parseInt(bangdong4EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdong4SideDishName.value,
        productTypeId: bangdong4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong4EditSideDish.is_default + ' '
      const input = {
        id: bangdong4EditSideDish.id,
        name: bangdong4EditSideDish.name,
        value: parseInt(bangdong4EditSideDish.quantity),
        is_default: bangdong4EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdong4EditBentoMain of bangdong4EditBentoMains) {
    if (bangdong4EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong4EditBentoMain.name +
        'x' +
        parseInt(bangdong4EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdong4BentoMainName.value,
        productTypeId: bangdong4BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong4EditBentoMain.id,
        name: bangdong4EditBentoMain.name,
        value: parseInt(bangdong4EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 滷牛便當、1004、數量
  const productInput = {
    id: bangdong4ProductId.value,
    name: bangdong4Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdong4EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong4EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong4EditArbitrarily.value).toString()
    const input = {
      id: 'bangdong4EditArbitrarily',
      value: bangdong4EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong4Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog4.value = false
  bangdong4EditArbitrarily.value = 0
}

// 鮭魚修改
const editDialogSalmon = ref(false)
function editBangdongSalmon (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const bangdongSalmonEditMain of bangdongSalmonEditMains) {
    bangdongSalmonEditMain.quantity = 0
  }
  for (const bangdongSalmonEditDrink of bangdongSalmonEditDrinks) {
    bangdongSalmonEditDrink.quantity = 0
  }
  for (const bangdongSalmonEditSideDish of bangdongSalmonEditSideDishes) {
    bangdongSalmonEditSideDish.quantity = 0
  }
  for (const bangdongSalmonEditBentoMain of bangdongSalmonEditBentoMains) {
    bangdongSalmonEditBentoMain.quantity = 0
  }
  // 滷牛便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdongSalmonEditArbitrarily.value = input.value
    }
    // 滷牛便當  主餐  推入 input 數值
    const mainIndex = bangdongSalmonEditMains.findIndex(
      (bangdongSalmonEditMain) =>
        bangdongSalmonEditMain.name === name ||
        bangdongSalmonEditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdongSalmonEditMains[mainIndex].quantity = parseInt(value)
    }
    // 滷牛便當  飲料  推入 input 數值
    const drinkIndex = bangdongSalmonEditDrinks.findIndex(
      (bangdongSalmonEditDrink) => bangdongSalmonEditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdongSalmonEditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // salmon  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = bangdongSalmonEditSideDishes.findIndex(
        (bangdongSalmonEditSideDish) => bangdongSalmonEditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdongSalmonEditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // salmon  副主餐  推入 input 數值
      const bentoMainIndex = bangdongSalmonEditBentoMains.findIndex(
        (bangdongSalmonEditBentoMain) =>
          bangdongSalmonEditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdongSalmonEditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  bangdongSalmonEditTotalQuantity.value = row.quantity
  bangdongSalmonComment.value = row.comment
  editDialogSalmon.value = true
}

watch(bangdongSalmonEditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdongSalmonEditArbitrarily.value = Math.max(
    0,
    parseInt(bangdongSalmonEditTotalQuantity.value) - mainQuantityTotal
  )
})

const bangdongSalmonEditPrice = computed(() => {
  return bangdongSalmonPrice.value
})
const bangdongSalmonEditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdongSalmonEditTotalQuantity.value * bangdongSalmonEditPrice.value
  return totalPrice
})
const bangdongSalmonEditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdongSalmonEditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdongSalmonEditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdongSalmonEditfinalTotal = computed(() => {
  const totalPrice =
    bangdongSalmonEditoptionPrice.value +
    bangdongSalmonEditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialogSalmon () {
  editDialogSalmon.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialogSalmon () {
  if (bangdongSalmonEditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdongSalmonEditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdongSalmonEditTotalQuantity.value)
  if (
    calculatedTotalQuantity !==
    parseInt(bangdongSalmonEditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 13,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdongSalmonEditfinalTotal.value,
    optionPrice: bangdongSalmonEditoptionPrice.value,
    totalPrice: bangdongSalmonEditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongSalmonComment.value
  }

  const totalEditQuantity = bangdongSalmonEditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const bangdongSalmonEditMain of bangdongSalmonEditMains) {
    if (bangdongSalmonEditMain.quantity > 0) {
      row.Main +=
        bangdongSalmonEditMain.name +
        'x' +
        parseInt(bangdongSalmonEditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdongSalmonMainMealId.value,
        productTypeName: bangdongSalmonMainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSalmonEditMain.id,
        name: bangdongSalmonEditMain.name,
        value: parseInt(bangdongSalmonEditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdongSalmonEditDrink of bangdongSalmonEditDrinks) {
    if (bangdongSalmonEditDrink.quantity > 0) {
      row.drinks +=
        bangdongSalmonEditDrink.name +
        'x' +
        parseInt(bangdongSalmonEditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongSalmonDrinkName.value,
        productTypeId: bangdongSalmonDrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSalmonEditDrink.id,
        name: bangdongSalmonEditDrink.name,
        value: parseInt(bangdongSalmonEditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdongSalmonEditSideDish of bangdongSalmonEditSideDishes) {
    if (bangdongSalmonEditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdongSalmonEditSideDish.name +
        'x' +
        parseInt(bangdongSalmonEditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdongSalmonSideDishName.value,
        productTypeId: bangdongSalmonSideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongSalmonEditSideDish.is_default + ' '
      const input = {
        id: bangdongSalmonEditSideDish.id,
        name: bangdongSalmonEditSideDish.name,
        value: parseInt(bangdongSalmonEditSideDish.quantity),
        is_default: bangdongSalmonEditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdongSalmonEditBentoMain of bangdongSalmonEditBentoMains) {
    if (bangdongSalmonEditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongSalmonEditBentoMain.name +
        'x' +
        parseInt(bangdongSalmonEditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdongSalmonBentoMainName.value,
        productTypeId: bangdongSalmonBentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSalmonEditBentoMain.id,
        name: bangdongSalmonEditBentoMain.name,
        value: parseInt(bangdongSalmonEditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 滷牛便當、1004、數量
  const productInput = {
    id: bangdongSalmonProductId.value,
    name: bangdongSalmonName.value,
    value: parseInt(totalEditQuantity),
    price: bangdongSalmonEditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongSalmonComment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongSalmonEditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdongSalmonEditArbitrarily.value).toString()
    const input = {
      id: 'bangdongSalmonEditArbitrarily',
      value: bangdongSalmonEditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongSalmonName.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialogSalmon.value = false
  bangdongSalmonEditArbitrarily.value = 0
  console.log(row)
}
const ResetbangdongSalmon = () => {
  bangdongSalmonMains.forEach((bangdongSalmonMain) => {
    bangdongSalmonMain.quantity = 0
  })
  bangdongSalmonDrinks.forEach((bangdongSalmonDrink) => {
    bangdongSalmonDrink.quantity = 0
  })
  bangdongSalmonSideDishes.forEach((bangdongSalmonSideDish) => {
    bangdongSalmonSideDish.quantity = 0
  })
  bangdongSalmonBentoMains.forEach((bangdongSalmonBentoMain) => {
    bangdongSalmonBentoMain.quantity = 0
  })
  showbangdongSalmon.value = false
  bangdongSalmonTotalQuantity.value = 0
  bangdongSalmonArbitrarily.value = 0
}

// 牛肉丸便當修改

const editDialog21 = ref(false)

function editBangdong5 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 牛肉丸便當主餐歸零
  for (const bangdong5EditMain of bangdong5EditMains) {
    bangdong5EditMain.quantity = 0
  }
  // 牛肉丸便當飲料歸零
  for (const bangdong5EditDrink of bangdong5EditDrinks) {
    bangdong5EditDrink.quantity = 0
  }
  // 牛肉丸便當配菜歸零
  for (const bangdong5EditSideDish of bangdong5EditSideDishes) {
    bangdong5EditSideDish.quantity = 0
  }
  // 牛肉丸便當副主餐歸零
  for (const bangdong5EditBentoMain of bangdong5EditBentoMains) {
    bangdong5EditBentoMain.quantity = 0
  }
  // 牛肉丸便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdong5EditArbitrarily.value = input.value
    }
    // 牛肉丸便當  主餐  推入 input 數值
    const mainIndex = bangdong5EditMains.findIndex(
      (bangdong5EditMain) =>
        bangdong5EditMain.name === name || bangdong5EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdong5EditMains[mainIndex].quantity = parseInt(value)
    }
    // 牛肉丸便當  飲料  推入 input 數值
    const drinkIndex = bangdong5EditDrinks.findIndex(
      (bangdong5EditDrink) => bangdong5EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdong5EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    /// / 牛肉丸便當  配菜  推入 input 數值
    setTimeout(() => {
      const sideDishIndex = bangdong5EditSideDishes.findIndex(
        (bangdong5EditSideDish) => bangdong5EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdong5EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
      // 牛肉丸便當  副主餐  推入 input 數值
      const bentoMainIndex = bangdong5EditBentoMains.findIndex(
        (bangdong5EditBentoMain) => bangdong5EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdong5EditBentoMains[bentoMainIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  bangdong5EditTotalQuantity.value = row.quantity
  bangdong5Comment.value = row.comment
  editDialog21.value = true
}

// 牛肉丸便當總數量
watch(bangdong5EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdong5EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdong5EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 牛肉丸便當單價
const bangdong5EditPrice = computed(() => {
  return bangdong5Price.value
})
// 牛肉丸便當總價格
const bangdong5EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdong5EditTotalQuantity.value * bangdong5EditPrice.value

  return totalPrice
})
const bangdong5EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdong5EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdong5EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })

  return totalPrice
})

const bangdong5EditfinalTotal = computed(() => {
  const totalPrice =
    bangdong5EditoptionPrice.value + bangdong5EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialog21 () {
  editDialog21.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog21 () {
  if (bangdong5EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdong5EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(calculatedTotalQuantity, bangdong5EditTotalQuantity.value)
  if (
    calculatedTotalQuantity !== parseInt(bangdong5EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 21,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdong5EditfinalTotal.value,
    optionPrice: bangdong5EditoptionPrice.value,
    totalPrice: bangdong5EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdong5Comment.value
  }

  const totalEditQuantity = bangdong5EditTotalQuantity.value // 計算總數量
  row.quantity = bangdong5EditTotalQuantity.value
  // 儲存推入主餐置入 table
  for (const bangdong5EditMain of bangdong5EditMains) {
    if (bangdong5EditMain.quantity > 0) {
      row.Main +=
        bangdong5EditMain.name +
        'x' +
        parseInt(bangdong5EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdong5MainMealId.value,
        productTypeName: bangdong5MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong5EditMain.id,
        name: bangdong5EditMain.name,
        value: parseInt(bangdong5EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdong5EditDrink of bangdong5EditDrinks) {
    if (bangdong5EditDrink.quantity > 0) {
      row.drinks +=
        bangdong5EditDrink.name +
        'x' +
        parseInt(bangdong5EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdong5DrinkName.value,
        productTypeId: bangdong5DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong5EditDrink.id,
        name: bangdong5EditDrink.name,
        value: parseInt(bangdong5EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdong5EditSideDish of bangdong5EditSideDishes) {
    if (bangdong5EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdong5EditSideDish.name +
        'x' +
        parseInt(bangdong5EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: bangdong5SideDishName.value,
        productTypeId: bangdong5SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdong5EditSideDish.is_default + ' '
      const input = {
        id: bangdong5EditSideDish.id,
        name: bangdong5EditSideDish.name,
        value: parseInt(bangdong5EditSideDish.quantity),
        is_default: bangdong5EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdong5EditBentoMain of bangdong5EditBentoMains) {
    if (bangdong5EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdong5EditBentoMain.name +
        'x' +
        parseInt(bangdong5EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: bangdong5BentoMainName.value,
        productTypeId: bangdong5BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdong5EditBentoMain.id,
        name: bangdong5EditBentoMain.name,
        value: parseInt(bangdong5EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 牛肉丸便當、1002、數量
  const productInput = {
    id: bangdong5ProductId.value,
    name: bangdong5Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdong5EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdong5Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdong5EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(bangdong5EditArbitrarily.value).toString()
    const input = {
      id: 'bangdong5EditArbitrarily',
      value: bangdong5EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdong5Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog21.value = false
  bangdong5EditArbitrarily.value = 0
  console.log(row)
}
// 素食便當 125 修改

const editDialogV1 = ref(false)

function editBangdongVegetarian1 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 素食便當 125 主餐歸零
  for (const bangdongVegetarian1EditMain of bangdongVegetarian1EditMains) {
    bangdongVegetarian1EditMain.quantity = 0
  }
  // 素食便當 125 飲料歸零
  for (const bangdongVegetarian1EditDrink of bangdongVegetarian1EditDrinks) {
    bangdongVegetarian1EditDrink.quantity = 0
  }
  // 素食便當 125 配菜歸零
  for (const bangdongVegetarian1EditSideDish of bangdongVegetarian1EditSideDishes) {
    bangdongVegetarian1EditSideDish.quantity = 0
  }
  // 素食便當 125 副主餐歸零
  for (const bangdongVegetarian1EditBentoMain of bangdongVegetarian1EditBentoMains) {
    bangdongVegetarian1EditBentoMain.quantity = 0
  }
  // 素食便當 125 主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdongVegetarian1EditArbitrarily.value = input.value
    }
    // 素食便當 125  主餐  推入 input 數值
    const mainIndex = bangdongVegetarian1EditMains.findIndex(
      (bangdongVegetarian1EditMain) =>
        bangdongVegetarian1EditMain.name === name ||
        bangdongVegetarian1EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdongVegetarian1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 素食便當 125  飲料  推入 input 數值
    const drinkIndex = bangdongVegetarian1EditDrinks.findIndex(
      (bangdongVegetarian1EditDrink) =>
        bangdongVegetarian1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdongVegetarian1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 素食便當 125  配菜  推入 input 數值
      const sideDishIndex = bangdongVegetarian1EditSideDishes.findIndex(
        (bangdongVegetarian1EditSideDish) =>
          bangdongVegetarian1EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdongVegetarian1EditSideDishes[sideDishIndex].quantity =
          parseInt(value)
      }
      // 素食便當 125  副主餐  推入 input 數值
      const bentoMainIndex = bangdongVegetarian1EditBentoMains.findIndex(
        (bangdongVegetarian1EditBentoMain) =>
          bangdongVegetarian1EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdongVegetarian1EditBentoMains[bentoMainIndex].quantity =
          parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  bangdongVegetarian1EditTotalQuantity.value = row.quantity
  bangdongVegetarian1Comment.value = row.comment
  editDialogV1.value = true
}

// 素食便當 125 總數量
watch(bangdongVegetarian1EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdongVegetarian1EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdongVegetarian1EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 素食便當 125 單價
const bangdongVegetarian1EditPrice = computed(() => {
  return bangdongVegetarian1Price.value
})
// 素食便當 125 總價格
const bangdongVegetarian1EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdongVegetarian1EditTotalQuantity.value *
    bangdongVegetarian1EditPrice.value
  return totalPrice
})

const bangdongVegetarian1EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdongVegetarian1EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdongVegetarian1EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdongVegetarian1EditfinalTotal = computed(() => {
  const totalPrice =
    bangdongVegetarian1EditoptionPrice.value +
    bangdongVegetarian1EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialogV1 () {
  editDialogV1.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialogV1 () {
  if (bangdongVegetarian1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdongVegetarian1EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  console.log(
    calculatedTotalQuantity,
    bangdongVegetarian1EditTotalQuantity.value
  )
  if (
    calculatedTotalQuantity !==
    parseInt(bangdongVegetarian1EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 11,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdongVegetarian1EditfinalTotal.value,
    optionPrice: bangdongVegetarian1EditoptionPrice.value,
    totalPrice: bangdongVegetarian1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongVegetarian1Comment.value
  }

  const totalEditQuantity = bangdongVegetarian1EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const bangdongVegetarian1EditMain of bangdongVegetarian1EditMains) {
    if (bangdongVegetarian1EditMain.quantity > 0) {
      row.Main +=
        bangdongVegetarian1EditMain.name +
        'x' +
        parseInt(bangdongVegetarian1EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdongVegetarian1MainMealId.value,
        productTypeName: bangdongVegetarian1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian1EditMain.id,
        name: bangdongVegetarian1EditMain.name,
        value: parseInt(bangdongVegetarian1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdongVegetarian1EditDrink of bangdongVegetarian1EditDrinks) {
    if (bangdongVegetarian1EditDrink.quantity > 0) {
      row.drinks +=
        bangdongVegetarian1EditDrink.name +
        'x' +
        parseInt(bangdongVegetarian1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongVegetarian1DrinkName.value,
        productTypeId: bangdongVegetarian1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian1EditDrink.id,
        name: bangdongVegetarian1EditDrink.name,
        value: parseInt(bangdongVegetarian1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdongVegetarian1EditSideDish of bangdongVegetarian1EditSideDishes) {
    if (bangdongVegetarian1EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdongVegetarian1EditSideDish.name +
        'x' +
        parseInt(bangdongVegetarian1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: bangdongVegetarian1SideDishName.value,
        productTypeId: bangdongVegetarian1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongVegetarian1EditSideDish.is_default + ' '
      const input = {
        id: bangdongVegetarian1EditSideDish.id,
        name: bangdongVegetarian1EditSideDish.name,
        value: parseInt(bangdongVegetarian1EditSideDish.quantity),
        is_default: bangdongVegetarian1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdongVegetarian1EditBentoMain of bangdongVegetarian1EditBentoMains) {
    if (bangdongVegetarian1EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongVegetarian1EditBentoMain.name +
        'x' +
        parseInt(bangdongVegetarian1EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: bangdongVegetarian1BentoMainName.value,
        productTypeId: bangdongVegetarian1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian1EditBentoMain.id,
        name: bangdongVegetarian1EditBentoMain.name,
        value: parseInt(bangdongVegetarian1EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留素食便當 125、1002、數量
  const productInput = {
    id: bangdongVegetarian1ProductId.value,
    name: bangdongVegetarian1Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdongVegetarian1EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongVegetarian1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongVegetarian1EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdongVegetarian1EditArbitrarily.value).toString() +
      '<br>'
    const input = {
      id: 'bangdongVegetarian1EditArbitrarily',
      value: bangdongVegetarian1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongVegetarian1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialogV1.value = false
  bangdongVegetarian1EditArbitrarily.value = 0
}

// 素食便當 150 修改

const editDialogV2 = ref(false)

function editBangdongVegetarian2 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  // 素食便當 150 主餐歸零
  for (const bangdongVegetarian2EditMain of bangdongVegetarian2EditMains) {
    bangdongVegetarian2EditMain.quantity = 0
  }
  // 素食便當 150 飲料歸零
  for (const bangdongVegetarian2EditDrink of bangdongVegetarian2EditDrinks) {
    bangdongVegetarian2EditDrink.quantity = 0
  }
  // 素食便當 150 配菜歸零
  for (const bangdongVegetarian2EditSideDish of bangdongVegetarian2EditSideDishes) {
    bangdongVegetarian2EditSideDish.quantity = 0
  }
  // 素食便當 150 副主餐歸零
  for (const bangdongVegetarian2EditBentoMain of bangdongVegetarian2EditBentoMains) {
    bangdongVegetarian2EditBentoMain.quantity = 0
  }
  // 素食便當 150 主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdongVegetarian2EditArbitrarily.value = input.value
    }
    // 素食便當 150 主餐 推入 input 數值
    const mainIndex = bangdongVegetarian2EditMains.findIndex(
      (bangdongVegetarian2EditMain) =>
        bangdongVegetarian2EditMain.name === name ||
        bangdongVegetarian2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      bangdongVegetarian2EditMains[mainIndex].quantity = parseInt(value)
    }
    // 素食便當 150 飲料 推入 input 數值
    const drinkIndex = bangdongVegetarian2EditDrinks.findIndex(
      (bangdongVegetarian2EditDrink) =>
        bangdongVegetarian2EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdongVegetarian2EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    setTimeout(() => {
      // 素食便當 150 配菜 推入 input 數值
      const sideDishIndex = bangdongVegetarian2EditSideDishes.findIndex(
        (bangdongVegetarian2EditSideDish) =>
          bangdongVegetarian2EditSideDish.name === name
      )
      if (sideDishIndex >= 0) {
        bangdongVegetarian2EditSideDishes[sideDishIndex].quantity =
          parseInt(value)
      }
      // 素食便當 150 副主餐 推入 input 數值
      const bentoMainIndex = bangdongVegetarian2EditBentoMains.findIndex(
        (bangdongVegetarian2EditBentoMain) =>
          bangdongVegetarian2EditBentoMain.name === name
      )
      if (bentoMainIndex >= 0) {
        bangdongVegetarian2EditBentoMains[bentoMainIndex].quantity =
          parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  bangdongVegetarian2EditTotalQuantity.value = row.quantity
  bangdongVegetarian2Comment.value = row.comment
  editDialogV2.value = true
}

// 素食便當 150 總數量
watch(bangdongVegetarian2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  bangdongVegetarian2EditArbitrarily.value = Math.max(
    0,
    parseInt(bangdongVegetarian2EditTotalQuantity.value) - mainQuantityTotal
  )
})
// 素食便當 150 單價
const bangdongVegetarian2EditPrice = computed(() => {
  return bangdongVegetarian2Price.value
})
// 素食便當 150 總價格
const bangdongVegetarian2EditTotalQuantityPrice = computed(() => {
  const totalPrice =
    bangdongVegetarian2EditTotalQuantity.value *
    bangdongVegetarian2EditPrice.value
  return totalPrice
})
const bangdongVegetarian2EditoptionPrice = computed(() => {
  let totalPrice = 0
  bangdongVegetarian2EditDrinks.forEach((drink) => {
    totalPrice += drink.quantity * drink.price
  })
  bangdongVegetarian2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const bangdongVegetarian2EditfinalTotal = computed(() => {
  const totalPrice =
    bangdongVegetarian2EditoptionPrice.value +
    bangdongVegetarian2EditTotalQuantityPrice.value
  return totalPrice
})
// 關閉修正欄位
function closeEditDialogV2 () {
  editDialogV2.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialogV2 () {
  if (bangdongVegetarian2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  // 檢查總數量是否匹配
  const calculatedTotalQuantity = bangdongVegetarian2EditMains.reduce(
    (acc, main) => acc + (main.quantity || 0),
    0
  )
  if (
    calculatedTotalQuantity !==
    parseInt(bangdongVegetarian2EditTotalQuantity.value, 10)
  ) {
    alert('主餐總數量與輸入的總數量不搭！')
    return
  }
  const row = {
    bentoType: 12,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: bangdongVegetarian2EditfinalTotal.value,
    optionPrice: bangdongVegetarian2EditoptionPrice.value,
    totalPrice: bangdongVegetarian2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongVegetarian2Comment.value
  }

  const totalEditQuantity = bangdongVegetarian2EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  // 儲存推入主餐置入 table
  for (const bangdongVegetarian2EditMain of bangdongVegetarian2EditMains) {
    if (bangdongVegetarian2EditMain.quantity > 0) {
      row.Main +=
        bangdongVegetarian2EditMain.name +
        'x' +
        parseInt(bangdongVegetarian2EditMain.quantity).toString() +
        '<br>'
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: bangdongVegetarian2MainMealId.value,
        productTypeName: bangdongVegetarian2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian2EditMain.id,
        name: bangdongVegetarian2EditMain.name,
        value: parseInt(bangdongVegetarian2EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入飲料置入 table
  for (const bangdongVegetarian2EditDrink of bangdongVegetarian2EditDrinks) {
    if (bangdongVegetarian2EditDrink.quantity > 0) {
      row.drinks +=
        bangdongVegetarian2EditDrink.name +
        'x' +
        parseInt(bangdongVegetarian2EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongVegetarian2DrinkName.value,
        productTypeId: bangdongVegetarian2DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian2EditDrink.id,
        name: bangdongVegetarian2EditDrink.name,
        value: parseInt(bangdongVegetarian2EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入配菜置入 table
  for (const bangdongVegetarian2EditSideDish of bangdongVegetarian2EditSideDishes) {
    if (bangdongVegetarian2EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdongVegetarian2EditSideDish.name +
        'x' +
        parseInt(bangdongVegetarian2EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: bangdongVegetarian2SideDishName.value,
        productTypeId: bangdongVegetarian2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongVegetarian2EditSideDish.is_default + ' '
      const input = {
        id: bangdongVegetarian2EditSideDish.id,
        name: bangdongVegetarian2EditSideDish.name,
        value: parseInt(bangdongVegetarian2EditSideDish.quantity),
        is_default: bangdongVegetarian2EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdongVegetarian2EditBentoMain of bangdongVegetarian2EditBentoMains) {
    if (bangdongVegetarian2EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongVegetarian2EditBentoMain.name +
        'x' +
        parseInt(bangdongVegetarian2EditBentoMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeName: bangdongVegetarian2BentoMainName.value,
        productTypeId: bangdongVegetarian2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongVegetarian2EditBentoMain.id,
        name: bangdongVegetarian2EditBentoMain.name,
        value: parseInt(bangdongVegetarian2EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留素食便當 150、1002、數量
  const productInput = {
    id: bangdongVegetarian2ProductId.value,
    name: bangdongVegetarian2Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdongVegetarian2EditPrice.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongVegetarian2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongVegetarian2EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdongVegetarian2EditArbitrarily.value).toString() +
      '<br>'
    const input = {
      id: 'bangdongVegetarian2EditArbitrarily',
      value: bangdongVegetarian2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongVegetarian2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialogV2.value = false
  bangdongVegetarian2EditArbitrarily.value = 0
}
// reset-----------------------------
const ResetbangdongCustom1 = () => {
  for (const bangdongCustom1Main of bangdongCustom1Mains) {
    bangdongCustom1Main.quantity = 0
  }
  // 客製招牌便當飲料歸零
  for (const bangdongCustom1Drink of bangdongCustom1Drinks) {
    bangdongCustom1Drink.quantity = 0
  }
  // 客製招牌便當配菜歸零
  for (const bangdongCustom1SideDish of bangdongCustom1SideDishes) {
    bangdongCustom1SideDish.quantity = 0
  }
  // 客製招牌便當副主餐歸零
  for (const bangdongCustom1BentoMain of bangdongCustom1BentoMains) {
    bangdongCustom1BentoMain.quantity = 0
  }
  bangdongCustom1TotalQuantityPrice.value = 0
  bangdongCustom1Price.value = 0
  bangdongCustom1TotalQuantity.value = 0
  showbangdongCustom1.value = false
}
// 客製便當總價格
const bangdongCustom1EditPrice = ref(0)
const bangdongCustom1EditoptionPrice = ref(0)
const bangdongCustom1EditTotalQuantityPrice = computed(() => {
  return (
    bangdongCustom1EditTotalQuantity.value * bangdongCustom1EditPrice.value
  )
})
const bangdongCustom1EditfinalTotal = computed(() => {
  const totalPrice =
    bangdongCustom1EditoptionPrice.value +
    bangdongCustom1EditTotalQuantityPrice.value
  return totalPrice
})

// 客製便當修改
function editRowDialog9 (row) {
  // 客製招牌便當主餐歸零
  for (const bangdongCustom1EditMain of bangdongCustom1EditMains) {
    bangdongCustom1EditMain.quantity = 0
  }
  // 客製招牌便當飲料歸零
  for (const bangdongCustom1EditDrink of bangdongCustom1EditDrinks) {
    bangdongCustom1EditDrink.quantity = 0
  }
  // 客製招牌便當配菜歸零
  for (const bangdongCustom1EditSideDish of bangdongCustom1EditSideDishes) {
    bangdongCustom1EditSideDish.quantity = 0
  }
  // 客製招牌便當副主餐歸零
  for (const bangdongCustom1EditBentoMain of bangdongCustom1EditBentoMains) {
    bangdongCustom1EditBentoMain.quantity = 0
  }
  // 客製招牌便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      bangdongCustom1EditArbitrarily.value = input.value
    }
    // 客製招牌便當  主餐  推入 input 數值
    const mainIndex = bangdongCustom1EditMains.findIndex(
      (bangdongCustom1EditMain) =>
        bangdongCustom1EditMain.name === name ||
        bangdongCustom1EditMain.short_name === name
    )
    if (mainIndex >= 0) {
      bangdongCustom1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 客製招牌便當  飲料  推入 input 數值
    const drinkIndex = bangdongCustom1EditDrinks.findIndex(
      (bangdongCustom1EditDrink) => bangdongCustom1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdongCustom1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 客製招牌便當  配菜  推入 input 數值
    const sideDishIndex = bangdongCustom1EditSideDishes.findIndex(
      (bangdongCustom1EditSideDish) => bangdongCustom1EditSideDish.name === name
    )
    if (sideDishIndex >= 0) {
      bangdongCustom1EditSideDishes[sideDishIndex].quantity = parseInt(value)
    }
    // 客製招牌便當  副主餐  推入 input 數值
    const bentoMainIndex = bangdongCustom1EditBentoMains.findIndex(
      (bangdongCustom1EditBentoMain) =>
        bangdongCustom1EditBentoMain.name === name
    )
    if (bentoMainIndex >= 0) {
      bangdongCustom1EditBentoMains[bentoMainIndex].quantity = parseInt(value)
    }
  }

  // const totalQuantity = row.quantity // 取 bangdongCustom1TotalQuantity 的值
  editingRow = row
  bangdongCustom1EditTotalQuantity.value = row.quantity
  bangdongCustom1EditPrice.value = row.price / row.quantity
  bangdongCustom1Comment.value = row.comment
  editDialog9.value = true
}
// 客製便當總數量

// 關閉修正欄位
function closeEditDialog9 () {
  editDialog9.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog9 () {
  if (bangdongCustom1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (bangdongCustom1EditPrice.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const row = {
    bentoType: 9,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    bentoMains: '',
    price: bangdongCustom1EditfinalTotal.value,
    optionPrice: bangdongCustom1EditoptionPrice.value,
    totalPrice: bangdongCustom1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongCustom1Comment.value
  }

  const totalEditQuantity = bangdongCustom1EditTotalQuantity.value // 計算總數量
  for (const bangdongCustom1EditMain of bangdongCustom1EditMains) {
    if (bangdongCustom1EditMain.quantity > 0) {
      row.Main +=
        bangdongCustom1EditMain.name +
        'x' +
        parseInt(bangdongCustom1EditMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: bangdongCustom1MainMealId.value,
        productTypeName: bangdongCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongCustom1EditMain.id,
        name: bangdongCustom1EditMain.name,
        value: parseInt(bangdongCustom1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const bangdongCustom1EditDrink of bangdongCustom1EditDrinks) {
    if (bangdongCustom1EditDrink.quantity > 0) {
      row.drinks +=
        bangdongCustom1EditDrink.name +
        'x' +
        parseInt(bangdongCustom1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: bangdongCustom1DrinkName.value,
        productTypeId: bangdongCustom1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongCustom1EditDrink.id,
        name: bangdongCustom1EditDrink.name,
        value: parseInt(bangdongCustom1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const bangdongCustom1EditSideDish of bangdongCustom1EditSideDishes) {
    if (bangdongCustom1EditSideDish.quantity > 0) {
      row.sideDishes +=
        bangdongCustom1EditSideDish.name +
        'x' +
        parseInt(bangdongCustom1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: bangdongCustom1SideDishName.value,
        productTypeId: bangdongCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += bangdongCustom1EditSideDish.is_default + ' '
      const input = {
        id: bangdongCustom1EditSideDish.id,
        name: bangdongCustom1EditSideDish.name,
        value: parseInt(bangdongCustom1EditSideDish.quantity),
        is_default: bangdongCustom1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const bangdongCustom1EditBentoMain of bangdongCustom1EditBentoMains) {
    if (bangdongCustom1EditBentoMain.quantity > 0) {
      row.bentoMains +=
        bangdongCustom1EditBentoMain.name +
        'x' +
        parseInt(bangdongCustom1EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: bangdongCustom1BentoMainName.value,
        productTypeId: bangdongCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongCustom1EditBentoMain.id,
        name: bangdongCustom1EditBentoMain.name,
        value: parseInt(bangdongCustom1EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  const productInput = {
    id: bangdongCustom1ProductId.value,
    name: bangdongCustom1Name.value,
    value: parseInt(totalEditQuantity),
    price: bangdongCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: bangdongCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (bangdongCustom1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(bangdongCustom1EditArbitrarily.value).toString()
    const input = {
      id: 'bangdongCustom1EditArbitrarily',
      value: bangdongCustom1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = bangdongCustom1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog9.value = false
  bangdongCustom1EditArbitrarily.value = 0
}

// reset-----------------------------
const ResetriceBoxCustom1 = () => {
  for (const riceBoxCustom1Main of riceBoxCustom1Mains) {
    riceBoxCustom1Main.quantity = 0
  }
  // 客製油飯飲料歸零
  for (const riceBoxCustom1Drink of riceBoxCustom1Drinks) {
    riceBoxCustom1Drink.quantity = 0
  }
  // 客製油飯配菜歸零
  for (const riceBoxCustom1SideDish of riceBoxCustom1SideDishes) {
    riceBoxCustom1SideDish.quantity = 0
  }
  // 客製油飯副主餐歸零
  for (const riceBoxCustom1BentoMain of riceBoxCustom1BentoMains) {
    riceBoxCustom1BentoMain.quantity = 0
  }
  riceBoxCustom1TotalQuantityPrice.value = 0
  riceBoxCustom1Price.value = 0
  riceBoxCustom1TotalQuantity.value = 0
  showriceBoxCustom1.value = false
}
// 客製便當總價格
const riceBoxCustom1EditPrice = ref(0)
const riceBoxCustom1EditoptionPrice = ref(0)
const riceBoxCustom1EditTotalQuantityPrice = computed(() => {
  return (
    riceBoxCustom1EditTotalQuantity.value * riceBoxCustom1EditPrice.value
  )
})
const riceBoxCustom1EditfinalTotal = computed(() => {
  const totalPrice =
    riceBoxCustom1EditoptionPrice.value +
    riceBoxCustom1EditTotalQuantityPrice.value
  return totalPrice
})

// 客製油飯修改
function editRowDialog34 (row) {
  // 客製油飯主餐歸零
  for (const riceBoxCustom1EditMain of riceBoxCustom1EditMains) {
    riceBoxCustom1EditMain.quantity = 0
  }
  // 客製油飯飲料歸零
  for (const riceBoxCustom1EditDrink of riceBoxCustom1EditDrinks) {
    riceBoxCustom1EditDrink.quantity = 0
  }
  // 客製油飯配菜歸零
  for (const riceBoxCustom1EditSideDish of riceBoxCustom1EditSideDishes) {
    riceBoxCustom1EditSideDish.quantity = 0
  }
  // 客製油飯副主餐歸零
  for (const riceBoxCustom1EditBentoMain of riceBoxCustom1EditBentoMains) {
    riceBoxCustom1EditBentoMain.quantity = 0
  }
  // 客製油飯主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      riceBoxCustom1EditArbitrarily.value = input.value
    }
    // 客製油飯  主餐  推入 input 數值
    const mainIndex = riceBoxCustom1EditMains.findIndex(
      (riceBoxCustom1EditMain) =>
        riceBoxCustom1EditMain.name === name ||
        riceBoxCustom1EditMain.short_name === name
    )
    if (mainIndex >= 0) {
      riceBoxCustom1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 客製油飯  飲料  推入 input 數值
    const drinkIndex = riceBoxCustom1EditDrinks.findIndex(
      (riceBoxCustom1EditDrink) => riceBoxCustom1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      riceBoxCustom1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 客製油飯  配菜  推入 input 數值
    const sideDishIndex = riceBoxCustom1EditSideDishes.findIndex(
      (riceBoxCustom1EditSideDish) => riceBoxCustom1EditSideDish.name === name
    )
    if (sideDishIndex >= 0) {
      riceBoxCustom1EditSideDishes[sideDishIndex].quantity = parseInt(value)
    }
    // 客製油飯  副主餐  推入 input 數值
    const bentoMainIndex = riceBoxCustom1EditBentoMains.findIndex(
      (riceBoxCustom1EditBentoMain) =>
        riceBoxCustom1EditBentoMain.name === name
    )
    if (bentoMainIndex >= 0) {
      riceBoxCustom1EditBentoMains[bentoMainIndex].quantity = parseInt(value)
    }
  }

  // const totalQuantity = row.quantity // 取 riceBoxCustom1TotalQuantity 的值
  editingRow = row
  riceBoxCustom1EditTotalQuantity.value = row.quantity
  riceBoxCustom1EditPrice.value = row.price / row.quantity
  riceBoxCustom1Comment.value = row.comment
  editDialog34.value = true
}
// 客製便當總數量

// 關閉修正欄位
function closeEditDialog34 () {
  editDialog34.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog34 () {
  if (riceBoxCustom1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (riceBoxCustom1EditPrice.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const row = {
    bentoType: 37,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    bentoMains: '',
    price: riceBoxCustom1EditfinalTotal.value,
    optionPrice: riceBoxCustom1EditoptionPrice.value,
    totalPrice: riceBoxCustom1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: riceBoxCustom1Comment.value
  }

  const totalEditQuantity = riceBoxCustom1EditTotalQuantity.value // 計算總數量
  for (const riceBoxCustom1EditMain of riceBoxCustom1EditMains) {
    if (riceBoxCustom1EditMain.quantity > 0) {
      row.Main +=
        riceBoxCustom1EditMain.name +
        'x' +
        parseInt(riceBoxCustom1EditMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: riceBoxCustom1MainMealId.value,
        productTypeName: riceBoxCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBoxCustom1EditMain.id,
        name: riceBoxCustom1EditMain.name,
        value: parseInt(riceBoxCustom1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const riceBoxCustom1EditDrink of riceBoxCustom1EditDrinks) {
    if (riceBoxCustom1EditDrink.quantity > 0) {
      row.drinks +=
        riceBoxCustom1EditDrink.name +
        'x' +
        parseInt(riceBoxCustom1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: riceBoxCustom1DrinkName.value,
        productTypeId: riceBoxCustom1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBoxCustom1EditDrink.id,
        name: riceBoxCustom1EditDrink.name,
        value: parseInt(riceBoxCustom1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const riceBoxCustom1EditSideDish of riceBoxCustom1EditSideDishes) {
    if (riceBoxCustom1EditSideDish.quantity > 0) {
      row.sideDishes +=
        riceBoxCustom1EditSideDish.name +
        'x' +
        parseInt(riceBoxCustom1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: riceBoxCustom1SideDishName.value,
        productTypeId: riceBoxCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += riceBoxCustom1EditSideDish.is_default + ' '
      const input = {
        id: riceBoxCustom1EditSideDish.id,
        name: riceBoxCustom1EditSideDish.name,
        value: parseInt(riceBoxCustom1EditSideDish.quantity),
        is_default: riceBoxCustom1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const riceBoxCustom1EditBentoMain of riceBoxCustom1EditBentoMains) {
    if (riceBoxCustom1EditBentoMain.quantity > 0) {
      row.bentoMains +=
        riceBoxCustom1EditBentoMain.name +
        'x' +
        parseInt(riceBoxCustom1EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: riceBoxCustom1BentoMainName.value,
        productTypeId: riceBoxCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: riceBoxCustom1EditBentoMain.id,
        name: riceBoxCustom1EditBentoMain.name,
        value: parseInt(riceBoxCustom1EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  const productInput = {
    id: riceBoxCustom1ProductId.value,
    name: riceBoxCustom1Name.value,
    value: parseInt(totalEditQuantity),
    price: riceBoxCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: riceBoxCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (riceBoxCustom1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(riceBoxCustom1EditArbitrarily.value).toString()
    const input = {
      id: 'riceBoxCustom1EditArbitrarily',
      value: riceBoxCustom1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = riceBoxCustom1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog34.value = false
  riceBoxCustom1EditArbitrarily.value = 0
}

// reset-----------------------------
const ResetguabaoCustom1 = () => {
  for (const guabaoCustom1Main of guabaoCustom1Mains) {
    guabaoCustom1Main.quantity = 0
  }
  // 客製刈包便當飲料歸零
  for (const guabaoCustom1Drink of guabaoCustom1Drinks) {
    guabaoCustom1Drink.quantity = 0
  }
  // 客製刈包便當配菜歸零
  for (const guabaoCustom1SideDish of guabaoCustom1SideDishes) {
    guabaoCustom1SideDish.quantity = 0
  }
  // 客製刈包便當副主餐歸零
  for (const guabaoCustom1BentoMain of guabaoCustom1BentoMains) {
    guabaoCustom1BentoMain.quantity = 0
  }
  guabaoCustom1TotalQuantityPrice.value = 0
  guabaoCustom1Price.value = 0
  guabaoCustom1TotalQuantity.value = 0
  showGuabaoCustom1.value = false
}
// 客製便當總價格
const guabaoCustom1EditPrice = ref(0)
const guabaoCustom1EditoptionPrice = ref(0)
const guabaoCustom1EditTotalQuantityPrice = computed(() => {
  return (
    guabaoCustom1EditTotalQuantity.value * guabaoCustom1EditPrice.value
  )
})
const guabaoCustom1EditfinalTotal = computed(() => {
  const totalPrice =
    guabaoCustom1EditoptionPrice.value +
    guabaoCustom1EditTotalQuantityPrice.value
  return totalPrice
})

// 客製刈包便當修改
function editRowDialog35 (row) {
  // 客製刈包便當主餐歸零
  for (const guabaoCustom1EditMain of guabaoCustom1EditMains) {
    guabaoCustom1EditMain.quantity = 0
  }
  // 客製刈包便當飲料歸零
  for (const guabaoCustom1EditDrink of guabaoCustom1EditDrinks) {
    guabaoCustom1EditDrink.quantity = 0
  }
  // 客製刈包便當配菜歸零
  for (const guabaoCustom1EditSideDish of guabaoCustom1EditSideDishes) {
    guabaoCustom1EditSideDish.quantity = 0
  }
  // 客製刈包便當副主餐歸零
  for (const guabaoCustom1EditBentoMain of guabaoCustom1EditBentoMains) {
    guabaoCustom1EditBentoMain.quantity = 0
  }
  // 客製刈包便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      guabaoCustom1EditArbitrarily.value = input.value
    }
    // 客製刈包便當  主餐  推入 input 數值
    const mainIndex = guabaoCustom1EditMains.findIndex(
      (guabaoCustom1EditMain) =>
        guabaoCustom1EditMain.name === name ||
        guabaoCustom1EditMain.short_name === name
    )
    if (mainIndex >= 0) {
      guabaoCustom1EditMains[mainIndex].quantity = parseInt(value)
    }
    // 客製刈包便當  飲料  推入 input 數值
    const drinkIndex = guabaoCustom1EditDrinks.findIndex(
      (guabaoCustom1EditDrink) => guabaoCustom1EditDrink.name === name
    )
    if (drinkIndex >= 0) {
      guabaoCustom1EditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 客製刈包便當  配菜  推入 input 數值
    const sideDishIndex = guabaoCustom1EditSideDishes.findIndex(
      (guabaoCustom1EditSideDish) => guabaoCustom1EditSideDish.name === name
    )
    if (sideDishIndex >= 0) {
      guabaoCustom1EditSideDishes[sideDishIndex].quantity = parseInt(value)
    }
    // 客製刈包便當  副主餐  推入 input 數值
    const bentoMainIndex = guabaoCustom1EditBentoMains.findIndex(
      (guabaoCustom1EditBentoMain) =>
        guabaoCustom1EditBentoMain.name === name
    )
    if (bentoMainIndex >= 0) {
      guabaoCustom1EditBentoMains[bentoMainIndex].quantity = parseInt(value)
    }
  }

  // const totalQuantity = row.quantity // 取 guabaoCustom1TotalQuantity 的值
  editingRow = row
  guabaoCustom1EditTotalQuantity.value = row.quantity
  guabaoCustom1EditPrice.value = row.price / row.quantity
  guabaoCustom1Comment.value = row.comment
  editDialog35.value = true
}
// 客製便當總數量

// 關閉修正欄位
function closeEditDialog35 () {
  editDialog35.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog35 () {
  if (guabaoCustom1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (guabaoCustom1EditPrice.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const row = {
    bentoType: 38,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    sideDishDefault: '',
    bentoMains: '',
    price: guabaoCustom1EditfinalTotal.value,
    optionPrice: guabaoCustom1EditoptionPrice.value,
    totalPrice: guabaoCustom1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: guabaoCustom1Comment.value
  }

  const totalEditQuantity = guabaoCustom1EditTotalQuantity.value // 計算總數量
  for (const guabaoCustom1EditMain of guabaoCustom1EditMains) {
    if (guabaoCustom1EditMain.quantity > 0) {
      row.Main +=
        guabaoCustom1EditMain.name +
        'x' +
        parseInt(guabaoCustom1EditMain.quantity).toString() +
        '<br>'
      const productInput = {
        productTypeId: guabaoCustom1MainMealId.value,
        productTypeName: guabaoCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      const input = {
        id: guabaoCustom1EditMain.id,
        name: guabaoCustom1EditMain.name,
        value: parseInt(guabaoCustom1EditMain.quantity),
        type: 1
      }
      row.inputs.push(input)
    }
  }

  for (const guabaoCustom1EditDrink of guabaoCustom1EditDrinks) {
    if (guabaoCustom1EditDrink.quantity > 0) {
      row.drinks +=
        guabaoCustom1EditDrink.name +
        'x' +
        parseInt(guabaoCustom1EditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、飲料 ID
      const productInput = {
        productTypeName: guabaoCustom1DrinkName.value,
        productTypeId: guabaoCustom1DrinkId.value,
        productType: 'options_with_qty',
        type: 2
      }
      row.productInputs.push(productInput)
      const input = {
        id: guabaoCustom1EditDrink.id,
        name: guabaoCustom1EditDrink.name,
        value: parseInt(guabaoCustom1EditDrink.quantity),
        type: 2
      }
      row.inputs.push(input)
    }
  }

  for (const guabaoCustom1EditSideDish of guabaoCustom1EditSideDishes) {
    if (guabaoCustom1EditSideDish.quantity > 0) {
      row.sideDishes +=
        guabaoCustom1EditSideDish.name +
        'x' +
        parseInt(guabaoCustom1EditSideDish.quantity).toString() +
        '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: guabaoCustom1SideDishName.value,
        productTypeId: guabaoCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      row.sideDishDefault += guabaoCustom1EditSideDish.is_default + ' '
      const input = {
        id: guabaoCustom1EditSideDish.id,
        name: guabaoCustom1EditSideDish.name,
        value: parseInt(guabaoCustom1EditSideDish.quantity),
        is_default: guabaoCustom1EditSideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
    }
  }
  // 儲存推入副主餐置入 table
  for (const guabaoCustom1EditBentoMain of guabaoCustom1EditBentoMains) {
    if (guabaoCustom1EditBentoMain.quantity > 0) {
      row.bentoMains +=
        guabaoCustom1EditBentoMain.name +
        'x' +
        parseInt(guabaoCustom1EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: guabaoCustom1BentoMainName.value,
        productTypeId: guabaoCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: guabaoCustom1EditBentoMain.id,
        name: guabaoCustom1EditBentoMain.name,
        value: parseInt(guabaoCustom1EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  const productInput = {
    id: guabaoCustom1ProductId.value,
    name: guabaoCustom1Name.value,
    value: parseInt(totalEditQuantity),
    price: guabaoCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: guabaoCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (guabaoCustom1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(guabaoCustom1EditArbitrarily.value).toString()
    const input = {
      id: 'guabaoCustom1EditArbitrarily',
      value: guabaoCustom1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = guabaoCustom1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog35.value = false
  guabaoCustom1EditArbitrarily.value = 0
}

// 經濟盒餐修改
const editDialog5 = ref(false)
function editRowDialog5 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of lunchBox1EditMains) {
    main.quantity = 0
    // for (const drink of main.drinks) {
    //   drink.quantity = 0;
    // }
  }

  // for (const sideDish of lunchBox1EditSideDishes) {
  //   sideDish.quantity = 0;
  // }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      lunchBox1EditArbitrarily.value = input.value
    }
    const mainIndex = lunchBox1EditMains.findIndex(
      (lunchBox1EditMain) =>
        lunchBox1EditMain.name === name || lunchBox1EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      lunchBox1EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of lunchBox1EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          // for (const drink of main.drinks) {
          //   if (drink.name === name) {
          //     drink.quantity = parseInt(value);
          //   }
          // }
        }
      }
    }
    // setTimeout(() => {
    //   const sideDishIndex = lunchBox1EditSideDishes.findIndex(
    //     (sideDish) => sideDish.name === name
    //   );
    //   if (sideDishIndex >= 0) {
    //     lunchBox1EditSideDishes[sideDishIndex].quantity = parseInt(value);
    //   }
    // }, 2000);
  }

  editingRow = row
  lunchBox1EditTotalQuantity.value = row.quantity
  lunchbox1Comment.value = row.comment
  editDialog5.value = true
}
// 經濟盒餐修改總數量
watch(lunchBox1EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox1EditArbitrarily.value = Math.max(
    0,
    parseInt(lunchBox1EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 經濟盒餐修改單價
const lunchBox1EditPrice = computed(() => {
  return lunchBox1Price.value
})
// 經濟盒餐修改總價格
const lunchBox1EditTotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox1EditTotalQuantity.value * lunchBox1Price.value
  return totalPrice
})
const lunchBox1EditoptionPrice = computed(() => {
  let totalPrice = 0
  lunchBox1EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox1EditfinalTotal = computed(() => {
  const totalPrice =
    lunchBox1EditTotalQuantityPrice.value + lunchBox1EditoptionPrice.value
  return totalPrice
})
function closeEditDialog5 () {
  editDialog5.value = false
}

const saveEditDialog5 = () => {
  if (lunchBox1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  // let totalDrinkQuantity = 0;

  for (const option of lunchBox1EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
  }
  if (totalMainQuantity / parseInt(lunchBox1EditTotalQuantity.value) !== 6) {
    alert('主餐數量有誤！')
    return
  }
  const row = {
    bentoType: 5,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox1EditfinalTotal.value,
    optionPrice: lunchBox1EditoptionPrice.value,
    totalPrice: lunchBox1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox1Comment.value
  }
  const totalEditQuantity = lunchBox1EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  for (const option of lunchBox1EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      const Main = option.name + 'x' + parseInt(option.quantity)
      // let drinkInfo = "";
      // for (const drink of option.drinks) {
      //   if (drink.quantity > 0) {
      //     drinkInfo += drink.name + "x" + parseInt(drink.quantity);
      //     // 保留飲料名稱、飲料 ID
      //     const productInput = {
      //       mainId: option.id,
      //       productTypeName: lunchBox1DrinkName.value,
      //       productTypeId: lunchBox1DrinkId.value,
      //       productType: "options_with_qty",
      //       type: 2,
      //     };
      //     row.productInputs.push(productInput);
      //     // 將帶有數值的 input 推進 inputs
      //     const input = {
      //       id: drink.id,
      //       mainId: option.id,
      //       name: drink.name,
      //       value: parseInt(drink.quantity),
      //       type: 2,
      //     };
      //     row.inputs.push(input);
      //     drink.quantity = 0;
      //   }
      // }
      // if (drinkInfo !== "") {
      //   Main += ` (${drinkInfo}<br>`;
      // }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox1MainMealId.value,
        productTypeName: lunchBox1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      // let drinkInfo = "";
      // for (const drink of option.drinks) {
      //   if (drink.quantity > 0) {
      //     drinkInfo += drink.name + "x" + parseInt(drink.quantity);
      //     // 保留飲料名稱、飲料 ID
      //     const productInput = {
      //       mainId: option.id,
      //       productTypeName: lunchBox1DrinkName.value,
      //       productTypeId: lunchBox1DrinkId.value,
      //       productType: "options_with_qty",
      //       type: 2,
      //     };
      //     row.productInputs.push(productInput);
      //     // 將帶有數值的 input 推進 inputs
      //     const input = {
      //       id: drink.id,
      //       mainId: option.id,
      //       name: drink.name,
      //       value: parseInt(drink.quantity),
      //       type: 2,
      //     };
      //     row.inputs.push(input);
      //     drink.quantity = 0;
      //   }
      // }
      // if (drinkInfo !== "") {
      //   Main += ` (${drinkInfo}<br>`;
      // }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox1MainMealId.value,
        productTypeName: lunchBox1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  // for (const sideDish of lunchBox1EditSideDishes) {
  //   if (sideDish.quantity > 0) {
  //     row.sideDishes +=
  //       sideDish.name + "x" + parseInt(sideDish.quantity) + "<br>";
  //     // 保留配菜名稱、配菜 ID
  //     const productInput = {
  //       productTypeName: lunchBox1SideDishName.value,
  //       productTypeId: lunchBox1SideDishId.value,
  //       productType: "options_with_qty",
  //       type: 3,
  //     };
  //     row.productInputs.push(productInput);
  //     // 將帶有數值的 input 推進 inputs
  //     const input = {
  //       id: sideDish.id,
  //       name: sideDish.name,
  //       value: parseInt(sideDish.quantity),
  //       is_default: sideDish.is_default,
  //       type: 3,
  //     };
  //     row.inputs.push(input);
  //     sideDish.quantity = 0;
  //   }
  // }
  // 保留 經濟盒餐、1005、數量
  const productInput = {
    id: lunchBox1ProductId.value,
    name: lunchBox1Name.value,
    value: parseInt(totalEditQuantity),
    price: lunchBox1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox1EditArbitrarily.value).toString()
    const input = {
      id: 'lunchBox1EditArbitrarily',
      value: lunchBox1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }

  row.name = lunchBox1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }

  editDialog5.value = false
  lunchBox1EditArbitrarily.value = 0
}
// --------------------------------------
// 刈包會議盒餐修改
const editDialog30 = ref(false)
function editRowDialog30 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of GuabaoLunchbox2EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of GuabaoLunchbox2EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoLunchbox2EditArbitrarily.value = input.value
    }
    const mainIndex = GuabaoLunchbox2EditMains.findIndex(
      (GuabaoLunchbox2EditMain) =>
        GuabaoLunchbox2EditMain.name === name || GuabaoLunchbox2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoLunchbox2EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of GuabaoLunchbox2EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = GuabaoLunchbox2EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoLunchbox2EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  GuabaoLunchbox2EditTotalQuantity.value = row.quantity
  GuabaoLunchbox2Comment.value = row.comment
  editDialog30.value = true
}
// 刈包會議盒餐修改總數量
watch(GuabaoLunchbox2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoLunchbox2EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoLunchbox2EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 刈包會議盒餐修改單價
const GuabaoLunchbox2EditPrice = computed(() => {
  return GuabaoLunchbox2Price.value
})
// 刈包會議盒餐修改總價格
const GuabaoLunchbox2EditTotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoLunchbox2EditTotalQuantity.value * GuabaoLunchbox2Price.value
  return totalPrice
})
const GuabaoLunchbox2EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoLunchbox2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoLunchbox2EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoLunchbox2EditTotalQuantityPrice.value + GuabaoLunchbox2EditoptionPrice.value
  return totalPrice
})

function closeEditDialog30 () {
  editDialog30.value = false
}

const saveEditDialog30 = () => {
  if (GuabaoLunchbox2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of GuabaoLunchbox2EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== parseInt(GuabaoLunchbox2EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(GuabaoLunchbox2EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 33,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoLunchbox2EditfinalTotal.value,
    optionPrice: GuabaoLunchbox2EditoptionPrice.value,
    totalPrice: GuabaoLunchbox2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoLunchbox2Comment.value
  }
  const totalEditQuantity = GuabaoLunchbox2EditTotalQuantity.value
  row.quantity = totalEditQuantity // 計算總數量
  for (const option of GuabaoLunchbox2EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox2DrinkName.value,
            productTypeId: GuabaoLunchbox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox2MainMealId.value,
        productTypeName: GuabaoLunchbox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }

      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox2DrinkName.value,
            productTypeId: GuabaoLunchbox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox2MainMealId.value,
        productTypeName: GuabaoLunchbox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of GuabaoLunchbox2EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoLunchbox2SideDishName.value,
        productTypeId: GuabaoLunchbox2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 刈包會議盒餐、1006、數量
  const productInput = {
    id: GuabaoLunchbox2ProductId.value,
    name: GuabaoLunchbox2Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoLunchbox2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoLunchbox2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoLunchbox2EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoLunchbox2EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoLunchbox2EditArbitrarily',
      value: GuabaoLunchbox2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoLunchbox2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  GuabaoLunchbox2EditTotalQuantity.value = row.quantity
  editDialog30.value = false
  GuabaoLunchbox2EditArbitrarily.value = 0
}

// 刈包貴賓盒餐修改
const editDialog31 = ref(false)
function editRowDialog31 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of GuabaoLunchbox3EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of GuabaoLunchbox3EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value

    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoLunchbox3EditArbitrarily.value = input.value
    }
    const mainIndex = GuabaoLunchbox3EditMains.findIndex(
      (GuabaoLunchbox3EditMain) =>
        GuabaoLunchbox3EditMain.name === name || GuabaoLunchbox3EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoLunchbox3EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of GuabaoLunchbox3EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = GuabaoLunchbox3EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoLunchbox3EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  GuabaoLunchbox3EditTotalQuantity.value = row.quantity
  GuabaoLunchbox3Comment.value = row.comment
  editDialog31.value = true
}
// 刈包貴賓盒餐修改總數量
watch(GuabaoLunchbox3EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoLunchbox3EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoLunchbox3EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 刈包貴賓盒餐修改單價
const GuabaoLunchbox3EditPrice = computed(() => {
  return GuabaoLunchbox3Price.value
})
// 刈包貴賓盒餐修改總價格
const GuabaoLunchbox3EditTotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoLunchbox3EditTotalQuantity.value * GuabaoLunchbox3Price.value

  return totalPrice
})
const GuabaoLunchbox3EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoLunchbox3EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoLunchbox3EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoLunchbox3EditTotalQuantityPrice.value + GuabaoLunchbox3EditoptionPrice.value
  return totalPrice
})
function closeEditDialog31 () {
  editDialog31.value = false
}

const saveEditDialog31 = () => {
  if (GuabaoLunchbox3EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of GuabaoLunchbox3EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== parseInt(GuabaoLunchbox3EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(GuabaoLunchbox3EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 34,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoLunchbox3EditfinalTotal.value,
    optionPrice: GuabaoLunchbox3EditoptionPrice.value,
    totalPrice: GuabaoLunchbox3EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoLunchbox3Comment.value
  }
  const totalEditQuantity = GuabaoLunchbox3EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  for (const option of GuabaoLunchbox3EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox3DrinkName.value,
            productTypeId: GuabaoLunchbox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox3MainMealId.value,
        productTypeName: GuabaoLunchbox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox3DrinkName.value,
            productTypeId: GuabaoLunchbox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox3MainMealId.value,
        productTypeName: GuabaoLunchbox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of GuabaoLunchbox3EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoLunchbox3SideDishName.value,
        productTypeId: GuabaoLunchbox3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 刈包貴賓盒餐、1007、數量
  const productInput = {
    id: GuabaoLunchbox3ProductId.value,
    name: GuabaoLunchbox3Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoLunchbox3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoLunchbox3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoLunchbox3EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoLunchbox3EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoLunchbox3EditArbitrarily',
      value: GuabaoLunchbox3EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoLunchbox3Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  GuabaoLunchbox3EditTotalQuantity.value = row.quantity
  editDialog31.value = false
}
// 刈包首席盒餐修改
const editDialog32 = ref(false)
function editRowDialog32 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of GuabaoLunchbox4EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of GuabaoLunchbox4EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      GuabaoLunchbox4EditArbitrarily.value = input.value
    }
    const mainIndex = GuabaoLunchbox4EditMains.findIndex(
      (GuabaoLunchbox4EditMain) =>
        GuabaoLunchbox4EditMain.name === name || GuabaoLunchbox4EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      GuabaoLunchbox4EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of GuabaoLunchbox4EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = GuabaoLunchbox4EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        GuabaoLunchbox4EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  GuabaoLunchbox4EditTotalQuantity.value = row.quantity
  GuabaoLunchbox4Comment.value = row.comment
  editDialog32.value = true
}
// 刈包首席盒餐修改總數量
watch(GuabaoLunchbox4EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  GuabaoLunchbox4EditArbitrarily.value = Math.max(
    0,
    parseInt(GuabaoLunchbox4EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 刈包首席盒餐修改單價
const GuabaoLunchbox4EditPrice = computed(() => {
  return GuabaoLunchbox4Price.value
})
// 刈包首席盒餐修改總價格
const GuabaoLunchbox4EditTotalQuantityPrice = computed(() => {
  const totalPrice = GuabaoLunchbox4EditTotalQuantity.value * GuabaoLunchbox4Price.value

  return totalPrice
})
const GuabaoLunchbox4EditoptionPrice = computed(() => {
  let totalPrice = 0
  GuabaoLunchbox4EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const GuabaoLunchbox4EditfinalTotal = computed(() => {
  const totalPrice =
    GuabaoLunchbox4EditTotalQuantityPrice.value + GuabaoLunchbox4EditoptionPrice.value
  return totalPrice
})

function closeEditDialog32 () {
  editDialog32.value = false
}

const saveEditDialog32 = () => {
  if (GuabaoLunchbox4EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of GuabaoLunchbox4EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  console.log(GuabaoLunchbox4EditTotalQuantity.value)
  console.log(totalMainQuantity, totalDrinkQuantity)
  if (
    totalMainQuantity !== parseInt(GuabaoLunchbox4EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(GuabaoLunchbox4EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 35,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: GuabaoLunchbox4EditfinalTotal.value,
    optionPrice: GuabaoLunchbox4EditoptionPrice.value,
    totalPrice: GuabaoLunchbox4EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: GuabaoLunchbox4Comment.value
  }
  const totalEditQuantity = GuabaoLunchbox4EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  for (const option of GuabaoLunchbox4EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox4DrinkName.value,
            productTypeId: GuabaoLunchbox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox4MainMealId.value,
        productTypeName: GuabaoLunchbox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: GuabaoLunchbox4DrinkName.value,
            productTypeId: GuabaoLunchbox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: GuabaoLunchbox4MainMealId.value,
        productTypeName: GuabaoLunchbox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of GuabaoLunchbox4EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: GuabaoLunchbox4SideDishName.value,
        productTypeId: GuabaoLunchbox4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 刈包首席盒餐、1008、數量
  const productInput = {
    id: GuabaoLunchbox4ProductId.value,
    name: GuabaoLunchbox4Name.value,
    value: parseInt(totalEditQuantity),
    price: GuabaoLunchbox4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: GuabaoLunchbox4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (GuabaoLunchbox4EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(GuabaoLunchbox4EditArbitrarily.value).toString()
    const input = {
      id: 'GuabaoLunchbox4EditArbitrarily',
      value: GuabaoLunchbox4EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = GuabaoLunchbox4Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  editDialog32.value = false
  GuabaoLunchbox4EditArbitrarily.value = 0
}

// --------------------------------------

// 會議盒餐修改
const editDialog6 = ref(false)
function editRowDialog6 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of lunchBox2EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of lunchBox2EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      lunchBox2EditArbitrarily.value = input.value
    }
    const mainIndex = lunchBox2EditMains.findIndex(
      (lunchBox2EditMain) =>
        lunchBox2EditMain.name === name || lunchBox2EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      lunchBox2EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of lunchBox2EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = lunchBox2EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        lunchBox2EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  lunchBox2EditTotalQuantity.value = row.quantity
  lunchbox2Comment.value = row.comment
  editDialog6.value = true
}
// 會議盒餐修改總數量
watch(lunchBox2EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox2EditArbitrarily.value = Math.max(
    0,
    parseInt(lunchBox2EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 會議盒餐修改單價
const lunchBox2EditPrice = computed(() => {
  return lunchBox2Price.value
})
// 會議盒餐修改總價格
const lunchBox2EditTotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox2EditTotalQuantity.value * lunchBox2Price.value
  return totalPrice
})
const lunchBox2EditoptionPrice = computed(() => {
  let totalPrice = 0
  lunchBox2EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox2EditfinalTotal = computed(() => {
  const totalPrice =
    lunchBox2EditTotalQuantityPrice.value + lunchBox2EditoptionPrice.value
  return totalPrice
})

function closeEditDialog6 () {
  editDialog6.value = false
}

const saveEditDialog6 = () => {
  if (lunchBox2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox2EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== parseInt(lunchBox2EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(lunchBox2EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 6,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox2EditfinalTotal.value,
    optionPrice: lunchBox2EditoptionPrice.value,
    totalPrice: lunchBox2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox2Comment.value
  }
  const totalEditQuantity = lunchBox2EditTotalQuantity.value
  row.quantity = totalEditQuantity // 計算總數量
  for (const option of lunchBox2EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox2DrinkName.value,
            productTypeId: lunchBox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox2MainMealId.value,
        productTypeName: lunchBox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }

      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox2DrinkName.value,
            productTypeId: lunchBox2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox2MainMealId.value,
        productTypeName: lunchBox2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of lunchBox2EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox2SideDishName.value,
        productTypeId: lunchBox2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 會議盒餐、1006、數量
  const productInput = {
    id: lunchBox2ProductId.value,
    name: lunchBox2Name.value,
    value: parseInt(totalEditQuantity),
    price: lunchBox2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox2EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox2EditArbitrarily.value).toString()
    const input = {
      id: 'lunchBox2EditArbitrarily',
      value: lunchBox2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  lunchBox2EditTotalQuantity.value = row.quantity
  editDialog6.value = false
  lunchBox2EditArbitrarily.value = 0
}

// 貴賓盒餐修改
const editDialog7 = ref(false)
function editRowDialog7 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of lunchBox3EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of lunchBox3EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value

    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      lunchBox3EditArbitrarily.value = input.value
    }
    const mainIndex = lunchBox3EditMains.findIndex(
      (lunchBox3EditMain) =>
        lunchBox3EditMain.name === name || lunchBox3EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      lunchBox3EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of lunchBox3EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = lunchBox3EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        lunchBox3EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }
  // 監聽主餐的數量變化

  editingRow = row
  lunchBox3EditTotalQuantity.value = row.quantity
  lunchbox3Comment.value = row.comment
  editDialog7.value = true
}
// 貴賓盒餐修改總數量
watch(lunchBox3EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox3EditArbitrarily.value = Math.max(
    0,
    parseInt(lunchBox3EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 貴賓盒餐修改單價
const lunchBox3EditPrice = computed(() => {
  return lunchBox3Price.value
})
// 貴賓盒餐修改總價格
const lunchBox3EditTotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox3EditTotalQuantity.value * lunchBox3Price.value

  return totalPrice
})
const lunchBox3EditoptionPrice = computed(() => {
  let totalPrice = 0
  lunchBox3EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox3EditfinalTotal = computed(() => {
  const totalPrice =
    lunchBox3EditTotalQuantityPrice.value + lunchBox3EditoptionPrice.value
  return totalPrice
})
function closeEditDialog7 () {
  editDialog7.value = false
}

const saveEditDialog7 = () => {
  if (lunchBox3EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox3EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  if (
    totalMainQuantity !== parseInt(lunchBox3EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(lunchBox3EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 7,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox3EditfinalTotal.value,
    optionPrice: lunchBox3EditoptionPrice.value,
    totalPrice: lunchBox3EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox3Comment.value
  }
  const totalEditQuantity = lunchBox3EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  for (const option of lunchBox3EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox3DrinkName.value,
            productTypeId: lunchBox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox3MainMealId.value,
        productTypeName: lunchBox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox3DrinkName.value,
            productTypeId: lunchBox3DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox3MainMealId.value,
        productTypeName: lunchBox3MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of lunchBox3EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox3SideDishName.value,
        productTypeId: lunchBox3SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 貴賓盒餐、1007、數量
  const productInput = {
    id: lunchBox3ProductId.value,
    name: lunchBox3Name.value,
    value: parseInt(totalEditQuantity),
    price: lunchBox3Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox3Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox3EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox3EditArbitrarily.value).toString()
    const input = {
      id: 'lunchBox3EditArbitrarily',
      value: lunchBox3EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox3Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  lunchBox3EditTotalQuantity.value = row.quantity
  editDialog7.value = false
}

// 214盒餐修改
const editDialog214 = ref(false)
function editRowDialog214 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of lunchBox214EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of lunchBox214EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      lunchBox214EditArbitrarily.value = input.value
    }
    const mainIndex = lunchBox214EditMains.findIndex(
      (lunchBox214EditMain) =>
        lunchBox214EditMain.name === name ||
        lunchBox214EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      lunchBox214EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of lunchBox214EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = lunchBox214EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        lunchBox214EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  lunchBox214EditTotalQuantity.value = row.quantity
  lunchbox214Comment.value = row.comment
  editDialog214.value = true
}
// 首席盒餐修改總數量
watch(lunchBox214EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox214EditArbitrarily.value = Math.max(
    0,
    parseInt(lunchBox214EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 首席盒餐修改單價
const lunchBox214EditPrice = computed(() => {
  return lunchBox214Price.value
})
// 首席盒餐修改總價格
const lunchBox214EditTotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox214EditTotalQuantity.value * lunchBox214Price.value

  return totalPrice
})
const lunchBox214EditoptionPrice = computed(() => {
  let totalPrice = 0
  lunchBox214EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox214EditfinalTotal = computed(() => {
  const totalPrice =
    lunchBox214EditTotalQuantityPrice.value + lunchBox214EditoptionPrice.value
  return totalPrice
})

function closeEditDialog214 () {
  editDialog214.value = false
}

const saveEditDialog214 = () => {
  if (lunchBox214EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox214EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  console.log(lunchBox214EditTotalQuantity.value)
  console.log(totalMainQuantity, totalDrinkQuantity)
  if (
    totalMainQuantity !== parseInt(lunchBox214EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(lunchBox214EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 14,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox214EditfinalTotal.value,
    optionPrice: lunchBox214EditoptionPrice.value,
    totalPrice: lunchBox214EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox214Comment.value
  }
  const totalEditQuantity = lunchBox214EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  for (const option of lunchBox4EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox214DrinkName.value,
            productTypeId: lunchBox214DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox214MainMealId.value,
        productTypeName: lunchBox214MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox214DrinkName.value,
            productTypeId: lunchBox214DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox214MainMealId.value,
        productTypeName: lunchBox214MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of lunchBox4EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox214SideDishName.value,
        productTypeId: lunchBox214SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 首席盒餐、1008、數量
  const productInput = {
    id: lunchBox214ProductId.value,
    name: lunchBox214Name.value,
    value: parseInt(totalEditQuantity),
    price: lunchBox214Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox214Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox214EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox214EditArbitrarily.value).toString()
    const input = {
      id: 'lunchBox214EditArbitrarily',
      value: lunchBox214EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox214Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  editDialog214.value = false
  lunchBox214EditArbitrarily.value = 0
}
// 首席盒餐修改
const editDialog8 = ref(false)
function editRowDialog8 (row) {
  watchers.forEach((unwatch) => unwatch())
  watchers = []
  for (const main of lunchBox4EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of lunchBox4EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      lunchBox4EditArbitrarily.value = input.value
    }
    const mainIndex = lunchBox4EditMains.findIndex(
      (lunchBox4EditMain) =>
        lunchBox4EditMain.name === name || lunchBox4EditMain.shortname === name
    )
    if (mainIndex >= 0) {
      lunchBox4EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of lunchBox4EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }
    setTimeout(() => {
      const sideDishIndex = lunchBox4EditSideDishes.findIndex(
        (sideDish) => sideDish.name === name
      )
      if (sideDishIndex >= 0) {
        lunchBox4EditSideDishes[sideDishIndex].quantity = parseInt(value)
      }
    }, 2000)
  }

  editingRow = row
  lunchBox4EditTotalQuantity.value = row.quantity
  lunchbox4Comment.value = row.comment
  editDialog8.value = true
}
// 首席盒餐修改總數量
watch(lunchBox4EditMains, (newMains) => {
  const mainQuantityTotal = newMains.reduce((total, current) => {
    return total + parseInt(current.quantity)
  }, 0)

  lunchBox4EditArbitrarily.value = Math.max(
    0,
    parseInt(lunchBox4EditTotalQuantity.value) - mainQuantityTotal
  )
})

// 首席盒餐修改單價
const lunchBox4EditPrice = computed(() => {
  return lunchBox4Price.value
})
// 首席盒餐修改總價格
const lunchBox4EditTotalQuantityPrice = computed(() => {
  const totalPrice = lunchBox4EditTotalQuantity.value * lunchBox4Price.value

  return totalPrice
})
const lunchBox4EditoptionPrice = computed(() => {
  let totalPrice = 0
  lunchBox4EditSideDishes.forEach((sideDish) => {
    totalPrice += sideDish.quantity * sideDish.price
  })
  return totalPrice
})
const lunchbox4EditfinalTotal = computed(() => {
  const totalPrice =
    lunchBox4EditTotalQuantityPrice.value + lunchBox4EditoptionPrice.value
  return totalPrice
})

function closeEditDialog8 () {
  editDialog8.value = false
}

const saveEditDialog8 = () => {
  if (lunchBox4EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  let totalMainQuantity = 0
  let totalDrinkQuantity = 0

  for (const option of lunchBox4EditMains) {
    if (option.quantity > 0) {
      totalMainQuantity += parseInt(option.quantity)
    }
    for (const drink of option.drinks) {
      if (drink.quantity > 0) {
        totalDrinkQuantity += parseInt(drink.quantity)
      }
    }
  }
  console.log(lunchBox4EditTotalQuantity.value)
  console.log(totalMainQuantity, totalDrinkQuantity)
  if (
    totalMainQuantity !== parseInt(lunchBox4EditTotalQuantity.value) ||
    totalDrinkQuantity !== parseInt(lunchBox4EditTotalQuantity.value)
  ) {
    alert('主餐、飲料和總套數必須相等！')
    return
  }
  const row = {
    bentoType: 8,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    quantity: '',
    price: lunchbox4EditfinalTotal.value,
    optionPrice: lunchBox4EditoptionPrice.value,
    totalPrice: lunchBox4EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchbox4Comment.value
  }
  const totalEditQuantity = lunchBox4EditTotalQuantity.value // 計算總數量
  row.quantity = totalEditQuantity
  for (const option of lunchBox4EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox4DrinkName.value,
            productTypeId: lunchBox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox4MainMealId.value,
        productTypeName: lunchBox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBox4DrinkName.value,
            productTypeId: lunchBox4DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBox4MainMealId.value,
        productTypeName: lunchBox4MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of lunchBox4EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBox4SideDishName.value,
        productTypeId: lunchBox4SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  // 保留 首席盒餐、1008、數量
  const productInput = {
    id: lunchBox4ProductId.value,
    name: lunchBox4Name.value,
    value: parseInt(totalEditQuantity),
    price: lunchBox4Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchbox4Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBox4EditArbitrarily.value > 0) {
    row.Main +=
      '任意搭配' + 'x' + parseInt(lunchBox4EditArbitrarily.value).toString()
    const input = {
      id: 'lunchBox4EditArbitrarily',
      value: lunchBox4EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBox4Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }
  editDialog8.value = false
  lunchBox4EditArbitrarily.value = 0
}
const ResetLunchBoxCustom1 = () => {
  for (const main of lunchBoxCustom1Mains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of lunchBoxCustom1SideDishes) {
    sideDish.quantity = 0
  }
  for (const BentoMain of lunchBoxCustom1BentoMains) {
    BentoMain.quantity = 0
  }
  lunchBoxCustom1Price.value = 0
  showLunchBoxCustom1.value = false
}
// 客製盒餐修改
function editRowDialog0 (row) {
  for (const main of lunchBoxCustom1EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of lunchBoxCustom1EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      lunchBoxCustom1EditArbitrarily.value = input.value
    }
    const mainIndex = lunchBoxCustom1EditMains.findIndex(
      (lunchBoxCustom1EditMain) =>
        lunchBoxCustom1EditMain.name === name ||
        lunchBoxCustom1EditMain.short_name === name
    )
    if (mainIndex >= 0) {
      lunchBoxCustom1EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of lunchBoxCustom1EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }

    const sideDishIndex = lunchBoxCustom1EditSideDishes.findIndex(
      (sideDish) => sideDish.name === name
    )
    if (sideDishIndex >= 0) {
      lunchBoxCustom1EditSideDishes[sideDishIndex].quantity = parseInt(value)
    }
    const totalQuantity = parseFloat(row.price) // 获取 lunchBoxCustom1TotalQuantity 的值
    const bentoMainIndex = lunchBoxCustom1EditBentoMains.findIndex(
      (lunchBoxCustom1EditBentoMain) =>
        lunchBoxCustom1EditBentoMain.name === name
    )
    if (bentoMainIndex >= 0) {
      lunchBoxCustom1EditBentoMains[bentoMainIndex].quantity = parseInt(value)
    }
    lunchBoxCustom1EditPrice.value =
      totalQuantity / lunchBoxCustom1EditTotalQuantity.value // 将 rowPrice /totalQuantity 的值赋给 lunchBoxCustom1EditPrice
  }
  editingRow = row
  lunchboxCustom1Comment.value = row.comment
  editDialog0.value = true
}

const lunchBoxCustom1EditTotalQuantity = computed(() => {
  return (
    lunchBoxCustom1EditMains.reduce((total, current) => {
      return total + parseInt(current.quantity)
    }, 0) + parseInt(lunchBoxCustom1EditArbitrarily.value)
  )
})

const lunchBoxCustom1EditPrice = ref(0)
const lunchboxCustom1EditoptionPrice = ref(0)
const lunchBoxCustom1EditTotalQuantityPrice = computed(() => {
  return (
    lunchBoxCustom1EditTotalQuantity.value * lunchBoxCustom1EditPrice.value
  )
})
const lunchBoxCustom1Editfinaltotal = computed(() => {
  return (
    lunchBoxCustom1EditTotalQuantityPrice.value +
    lunchboxCustom1EditoptionPrice.value
  )
})
const editDialog0 = ref(false)
function closeEditDialog0 () {
  editDialog0.value = false
}

const saveEditDialog0 = () => {
  if (lunchBoxCustom1EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (lunchBoxCustom1EditPrice.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const row = {
    bentoType: 0,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    price: lunchBoxCustom1Editfinaltotal.value,
    optionPrice: lunchboxCustom1EditoptionPrice.value,
    totalPrice: lunchBoxCustom1EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: lunchboxCustom1Comment.value
  }
  const totalEditQuantity = lunchBoxCustom1EditTotalQuantity.value // 計算總數量
  for (const option of lunchBoxCustom1EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBoxCustom1DrinkName.value,
            productTypeId: lunchBoxCustom1DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBoxCustom1MainMealId.value,
        productTypeName: lunchBoxCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: lunchBoxCustom1DrinkName.value,
            productTypeId: lunchBoxCustom1DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: lunchBoxCustom1MainMealId.value,
        productTypeName: lunchBoxCustom1MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of lunchBoxCustom1EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: lunchBoxCustom1SideDishName.value,
        productTypeId: lunchBoxCustom1SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  for (const lunchBoxCustom1EditBentoMain of lunchBoxCustom1EditBentoMains) {
    if (lunchBoxCustom1EditBentoMain.quantity > 0) {
      if (row.bentoMains !== '') {
        row.bentoMains += ','
      }
      row.bentoMains +=
        lunchBoxCustom1EditBentoMain.name +
        'x' +
        parseInt(lunchBoxCustom1EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: lunchBoxCustom1BentoMainName.value,
        productTypeId: lunchBoxCustom1BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: lunchBoxCustom1EditBentoMain.id,
        name: lunchBoxCustom1EditBentoMain.name,
        value: parseInt(lunchBoxCustom1EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 客製盒餐、數量、主餐名稱
  const productInput = {
    id: lunchBoxCustom1ProductId.value,
    name: lunchBoxCustom1Name.value,
    value: parseInt(totalEditQuantity),
    price: lunchBoxCustom1Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: lunchboxCustom1Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (lunchBoxCustom1EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(lunchBoxCustom1EditArbitrarily.value).toString()
    const input = {
      id: 'lunchBoxCustom1EditArbitrarily',
      value: lunchBoxCustom1EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = lunchBoxCustom1Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }

  editDialog0.value = false
  lunchBoxCustom1EditArbitrarily.value = 0
}
const ResetGuabaoCustom2 = () => {
  for (const main of guabaoCustom2Mains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of guabaoCustom2SideDishes) {
    sideDish.quantity = 0
  }
  for (const BentoMain of guabaoCustom2BentoMains) {
    BentoMain.quantity = 0
  }
  guabaoCustom2Price.value = 0
  showGuabaoCustom2.value = false
}

// 客製刈包盒餐修改
function editRowDialog36 (row) {
  for (const main of guabaoCustom2EditMains) {
    main.quantity = 0
    for (const drink of main.drinks) {
      drink.quantity = 0
    }
  }

  for (const sideDish of guabaoCustom2EditSideDishes) {
    sideDish.quantity = 0
  }
  for (const input of row.inputs) {
    const mainId = input.mainId
    const name = input.name
    const value = input.value
    // 任意搭配抓取推入
    if (input.name === '任意搭配') {
      guabaoCustom2EditArbitrarily.value = input.value
    }
    const mainIndex = guabaoCustom2EditMains.findIndex(
      (guabaoCustom2EditMain) =>
        guabaoCustom2EditMain.name === name ||
        guabaoCustom2EditMain.short_name === name
    )
    if (mainIndex >= 0) {
      guabaoCustom2EditMains[mainIndex].quantity = parseInt(value)
    }
    for (const main of guabaoCustom2EditMains) {
      if (main.id === mainId) {
        if (main.name === name) {
          main.quantity = parseInt(value)
        } else {
          for (const drink of main.drinks) {
            if (drink.name === name) {
              drink.quantity = parseInt(value)
            }
          }
        }
      }
    }

    const sideDishIndex = guabaoCustom2EditSideDishes.findIndex(
      (sideDish) => sideDish.name === name
    )
    if (sideDishIndex >= 0) {
      guabaoCustom2EditSideDishes[sideDishIndex].quantity = parseInt(value)
    }
    const totalQuantity = parseFloat(row.price) // 获取 guabaoCustom2TotalQuantity 的值
    const bentoMainIndex = guabaoCustom2EditBentoMains.findIndex(
      (guabaoCustom2EditBentoMain) =>
        guabaoCustom2EditBentoMain.name === name
    )
    if (bentoMainIndex >= 0) {
      guabaoCustom2EditBentoMains[bentoMainIndex].quantity = parseInt(value)
    }
    guabaoCustom2EditPrice.value =
      totalQuantity / guabaoCustom2EditTotalQuantity.value // 将 rowPrice /totalQuantity 的值赋给 guabaoCustom2EditPrice
  }
  editingRow = row
  guabaoCustom2Comment.value = row.comment
  editDialog36.value = true
}

const guabaoCustom2EditTotalQuantity = computed(() => {
  return (
    guabaoCustom2EditMains.reduce((total, current) => {
      return total + parseInt(current.quantity)
    }, 0) + parseInt(guabaoCustom2EditArbitrarily.value)
  )
})

const guabaoCustom2EditPrice = ref(0)
const guabaoCustom2EditoptionPrice = ref(0)
const guabaoCustom2EditTotalQuantityPrice = computed(() => {
  return (
    guabaoCustom2EditTotalQuantity.value * guabaoCustom2EditPrice.value
  )
})
const guabaoCustom2Editfinaltotal = computed(() => {
  return (
    guabaoCustom2EditTotalQuantityPrice.value +
    guabaoCustom2EditoptionPrice.value
  )
})
const editDialog36 = ref(false)
function closeEditDialog36 () {
  editDialog36.value = false
}

const saveEditDialog36 = () => {
  if (guabaoCustom2EditTotalQuantity.value === 0) {
    alert('忘記填總套數了喔！！！')
    return
  }
  if (guabaoCustom2EditPrice.value === 0) {
    alert('忘記填單價了喔！！！')
    return
  }
  const row = {
    bentoType: 39,
    id: editingRow.id,
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    price: guabaoCustom2Editfinaltotal.value,
    optionPrice: guabaoCustom2EditoptionPrice.value,
    totalPrice: guabaoCustom2EditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: guabaoCustom2Comment.value
  }
  const totalEditQuantity = guabaoCustom2EditTotalQuantity.value // 計算總數量
  for (const option of guabaoCustom2EditMains) {
    if (option.quantity > 0 && option.name !== '虛擬潤餅 3 吋') {
      let Main = option.name + 'x' + parseInt(option.quantity)
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: guabaoCustom2DrinkName.value,
            productTypeId: guabaoCustom2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: guabaoCustom2MainMealId.value,
        productTypeName: guabaoCustom2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    } else if (option.name === '虛擬潤餅 3 吋') {
      let Main = ''
      if (option.quantity !== 0) {
        Main = option.name + 'x' + parseInt(option.quantity)
      }
      let drinkInfo = ''
      for (const drink of option.drinks) {
        if (drink.quantity > 0) {
          drinkInfo += drink.name + 'x' + parseInt(drink.quantity)
          // 保留飲料名稱、飲料 ID
          const productInput = {
            mainId: option.id,
            productTypeName: guabaoCustom2DrinkName.value,
            productTypeId: guabaoCustom2DrinkId.value,
            productType: 'options_with_qty',
            type: 2
          }
          row.productInputs.push(productInput)
          // 將帶有數值的 input 推進 inputs
          const input = {
            id: drink.id,
            mainId: option.id,
            name: drink.name,
            value: parseInt(drink.quantity),
            type: 2
          }
          row.inputs.push(input)
          drink.quantity = 0
        }
      }
      if (drinkInfo !== '') {
        Main += ` (${drinkInfo}<br>`
      }
      row.Main += Main
      // 保留 主餐名稱、主餐 ID
      const productInput = {
        productTypeId: guabaoCustom2MainMealId.value,
        productTypeName: guabaoCustom2MainName.value,
        productType: 'options_with_qty',
        type: 1
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: option.id,
        name: option.name,
        value: parseInt(option.quantity),
        type: 1
      }
      row.inputs.push(input)
      option.quantity = 0
    }
  }

  for (const sideDish of guabaoCustom2EditSideDishes) {
    if (sideDish.quantity > 0) {
      if (row.sideDishes !== '') {
        row.sideDishes += ', '
      }
      row.sideDishes +=
        sideDish.name + 'x' + parseInt(sideDish.quantity) + '<br>'
      // 保留配菜名稱、配菜 ID
      const productInput = {
        productTypeName: guabaoCustom2SideDishName.value,
        productTypeId: guabaoCustom2SideDishId.value,
        productType: 'options_with_qty',
        type: 3
      }
      row.productInputs.push(productInput)
      // 將帶有數值的 input 推進 inputs
      const input = {
        id: sideDish.id,
        name: sideDish.name,
        value: parseInt(sideDish.quantity),
        is_default: sideDish.is_default,
        type: 3
      }
      row.inputs.push(input)
      sideDish.quantity = 0
    }
  }
  for (const guabaoCustom2EditBentoMain of guabaoCustom2EditBentoMains) {
    if (guabaoCustom2EditBentoMain.quantity > 0) {
      if (row.bentoMains !== '') {
        row.bentoMains += ','
      }
      row.bentoMains +=
        guabaoCustom2EditBentoMain.name +
        'x' +
        parseInt(guabaoCustom2EditBentoMain.quantity).toString() +
        '<br>'
      // 保留副主餐名稱、副主餐 ID
      const productInput = {
        productTypeName: guabaoCustom2BentoMainName.value,
        productTypeId: guabaoCustom2BentoMainId.value,
        productType: 'options_with_qty',
        type: 4
      }
      row.productInputs.push(productInput)
      const input = {
        id: guabaoCustom2EditBentoMain.id,
        name: guabaoCustom2EditBentoMain.name,
        value: parseInt(guabaoCustom2EditBentoMain.quantity),
        type: 4
      }
      row.inputs.push(input)
    }
  }
  // 保留 客製刈包盒餐、數量、主餐名稱
  const productInput = {
    id: guabaoCustom2ProductId.value,
    name: guabaoCustom2Name.value,
    value: parseInt(totalEditQuantity),
    price: guabaoCustom2Price.value,
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    comment: guabaoCustom2Comment.value
  }
  row.productInputs.push(productInput)
  // 保留任搭數量
  if (guabaoCustom2EditArbitrarily.value > 0) {
    if (row.Main !== '') {
      row.Main += ','
    }
    row.Main +=
      '任意搭配' +
      'x' +
      parseInt(guabaoCustom2EditArbitrarily.value).toString()
    const input = {
      id: 'guabaoCustom2EditArbitrarily',
      value: guabaoCustom2EditArbitrarily.value,
      name: '任意搭配'
    }
    row.inputs.push(input)
  }
  row.name = guabaoCustom2Name.value + totalEditQuantity + '份' // 使用總數量
  checkVegetable(row)
  if (row.Main !== '' || row.sideDishes !== '') {
    const rowIndex = tableRows.findIndex((item) => item.id === editingRow.id)
    tableRows.splice(rowIndex, 1, row)
  }

  editDialog36.value = false
  guabaoCustom2EditArbitrarily.value = 0
}
// 單點修改
function editBangdongSolo (row) {
  // 6 吋潤餅歸零
  for (const bangdongSoloEdit6inch of bangdongSoloEdit6inchs) {
    bangdongSoloEdit6inch.quantity = 0
  }
  // 刈包歸零
  for (const GuabaoSoloEdit of GuabaoSoloEdits) {
    GuabaoSoloEdit.quantity = 0
  }
  // 3 吋潤筆歸零
  // for (const bangdongSoloEdit3inch of bangdongSoloEdit3inchs) {
  //   bangdongSoloEdit3inch.quantity = 0;
  // }
  // 飲料歸零
  for (const bangdongSoloEditDrink of bangdongSoloEditDrinks) {
    bangdongSoloEditDrink.quantity = 0
  }
  // 配菜歸零
  for (const bangdongSoloEditSideDish of bangdongSoloEditSideDishes) {
    bangdongSoloEditSideDish.quantity = 0
  }
  // 副主餐歸零
  for (const bangdongSoloEditBentoMain of bangdongSoloEditBentoMains) {
    bangdongSoloEditBentoMain.quantity = 0
  }
  // 環保袋歸零
  for (const bangdongSoloEditEcoBag of bangdongSoloEditEcoBags) {
    bangdongSoloEditEcoBag.quantity = 0
  }
  // 雞胸便當主餐隱藏欄位歸零
  for (const input of row.inputs) {
    const name = input.name
    const value = input.value
    // 6 吋潤餅 推入 input 數值
    const mainIndex = bangdongSoloEdit6inchs.findIndex(
      (bangdongSoloEdit6inch) => bangdongSoloEdit6inch.name === name
    )
    if (mainIndex >= 0) {
      bangdongSoloEdit6inchs[mainIndex].quantity = parseInt(value)
    }
    // 刈包 推入 input 數值
    const GuabaoIndex = GuabaoSoloEdits.findIndex(
      (GuabaoSoloEdit) => GuabaoSoloEdit.name === name
    )
    if (GuabaoIndex >= 0) {
      GuabaoSoloEdits[GuabaoIndex].quantity = parseInt(value)
    }
    // 3 吋潤筆 推入 input 數值
    // const threeInchIndex = bangdongSoloEdit3inchs.findIndex(
    //   (bangdongSoloEdit3inch) => bangdongSoloEdit3inch.name === name
    // );
    // if (threeInchIndex >= 0) {
    //   bangdongSoloEdit3inchs[threeInchIndex].quantity = parseInt(value);
    // }
    // 飲料 推入 input 數值
    const drinkIndex = bangdongSoloEditDrinks.findIndex(
      (bangdongSoloEditDrink) => bangdongSoloEditDrink.name === name
    )
    if (drinkIndex >= 0) {
      bangdongSoloEditDrinks[drinkIndex].quantity = parseInt(value)
    }
    // 配菜 推入 input 數值
    const sideDishIndex = bangdongSoloEditSideDishes.findIndex(
      (bangdongSoloEditSideDish) => bangdongSoloEditSideDish.name === name
    )
    if (sideDishIndex >= 0) {
      bangdongSoloEditSideDishes[sideDishIndex].quantity = parseInt(value)
    }
    // 副主餐 推入 input 數值
    const bentoMainIndex = bangdongSoloEditBentoMains.findIndex(
      (bangdongSoloEditBentoMain) => bangdongSoloEditBentoMain.name === name
    )
    if (bentoMainIndex >= 0) {
      bangdongSoloEditBentoMains[bentoMainIndex].quantity = parseInt(value)
    }
    // 環保袋 推入 input 數值
    const ecoBagIndex = bangdongSoloEditEcoBags.findIndex(
      (bangdongSoloEditEcoBag) => bangdongSoloEditEcoBag.name === name
    )
    if (ecoBagIndex >= 0) {
      bangdongSoloEditEcoBags[ecoBagIndex].quantity = parseInt(value)
    }
  }

  editingRow = row
  bangdongSoloComment.value = row.comment
  editDialog10.value = true
}

// 計算總數量
const bangdongSoloEditTotalQuantity = computed(() => {
  let total = 0
  total += bangdongSoloEdit6inchs.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += GuabaoSoloEdits.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  // total += bangdongSoloEdit3inchs.reduce(
  //   (sum, item) => sum + Number(item.quantity),
  //   0
  // );
  total += bangdongSoloEditDrinks.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloEditSideDishes.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloEditBentoMains.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )
  total += bangdongSoloEditEcoBags.reduce(
    (sum, item) => sum + Number(item.quantity),
    0
  )

  return total
})
// 計算總價格
const bangdongSoloEditTotalQuantityPrice = computed(() => {
  let total = 0
  total += bangdongSoloEdit6inchs.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += GuabaoSoloEdits.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  // total += bangdongSoloEdit3inchs.reduce(
  //   (sum, item) => sum + Number(item.quantity) * Number(item.price),
  //   0
  // );
  total += bangdongSoloEditDrinks.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloEditSideDishes.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloEditBentoMains.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )
  total += bangdongSoloEditEcoBags.reduce(
    (sum, item) => sum + Number(item.quantity) * Number(item.price),
    0
  )

  return total
})
// 關閉修正欄位
function closeEditDialog10 () {
  editDialog10.value = false
}
// 完成後儲存並且將資料推進 tableRows 刪除原本的資料
function saveEditDialog10 () {
  const row = {
    bentoType: 10,
    id: editingRow.id, // 使用新生成的 ID
    name: '',
    Main: '',
    drinks: '',
    sideDishes: '',
    bentoMains: '',
    sideDishDefault: '',
    price: bangdongSoloEditTotalQuantityPrice.value,
    optionPrice: 0,
    totalPrice: bangdongSoloEditTotalQuantityPrice.value,
    inputs: [],
    productInputs: [],
    comment: bangdongSoloComment.value
  }

  const totalQuantity = bangdongSoloEditTotalQuantity.value

  // 儲存推入潤餅置入 table
  // 6 吋潤餅
  const bangdongSoloEdit6inchCompositions = []
  for (const bangdongSoloEdit6inch of bangdongSoloEdit6inchs) {
    if (bangdongSoloEdit6inch.quantity > 0) {
      const bangdongSoloEdit6inchComposition = `${bangdongSoloEdit6inch.name} x${bangdongSoloEdit6inch.quantity} `
      bangdongSoloEdit6inchCompositions.push(bangdongSoloEdit6inchComposition)
      // 保留 6 吋潤餅名稱、ID
      const productInput = {
        productTypeName: bangdongSolo6inchName.value,
        productTypeId: bangdongSolo6inchId.value,
        productType: 'options_with_qty',
        type: 5
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloEdit6inch.id,
        name: bangdongSoloEdit6inch.name,
        value: parseInt(bangdongSoloEdit6inch.quantity),
        type: 5
      }
      row.inputs.push(input)

      bangdongSoloEdit6inch.quantity = 0
    }
  }
  // 刈包
  const GuabaoSoloEditCompositions = []
  for (const GuabaoSoloEdit of GuabaoSoloEdits) {
    if (GuabaoSoloEdit.quantity > 0) {
      const GuabaoSoloEditComposition = `${GuabaoSoloEdit.name} x${GuabaoSoloEdit.quantity} `
      GuabaoSoloEditCompositions.push(GuabaoSoloEditComposition)
      // 保留 刈包名稱、ID
      const productInput = {
        productTypeName: GuabaoSoloName.value,
        productTypeId: GuabaoSoloId.value,
        productType: 'options_with_qty',
        type: 6
      }
      row.productInputs.push(productInput)
      const input = {
        id: GuabaoSoloEdit.id,
        name: GuabaoSoloEdit.name,
        value: parseInt(GuabaoSoloEdit.quantity),
        type: 6
      }
      row.inputs.push(input)

      GuabaoSoloEdit.quantity = 0
    }
  }
  // 3 吋潤餅
  // const bangdongSoloEdit3inchCompositions = [];
  // for (const bangdongSoloEdit3inch of bangdongSoloEdit3inchs) {
  //   if (bangdongSoloEdit3inch.quantity > 0) {
  //     const bangdongSoloEdit3inchComposition = `${bangdongSoloEdit3inch.name} x${bangdongSoloEdit3inch.quantity}`;
  //     bangdongSoloEdit3inchCompositions.push(bangdongSoloEdit3inchComposition);
  //     // 保留 3 吋潤餅名稱、ID
  //     const productInput = {
  //       productTypeName: bangdongSolo3inchName.value,
  //       productTypeId: bangdongSolo3inchId.value,
  //       productType: "options_with_qty",
  //       type: 6,
  //     };
  //     row.productInputs.push(productInput);
  //     const input = {
  //       id: bangdongSoloEdit3inch.id,
  //       name: bangdongSoloEdit3inch.name,
  //       value: parseInt(bangdongSoloEdit3inch.quantity),
  //       type: 6,
  //     };
  //     row.inputs.push(input);

  //     bangdongSoloEdit3inch.quantity = 0;
  //   }
  // }

  if (bangdongSoloEdit6inchCompositions.length > 0) {
    row.Main += `${
      bangdongSolo6inchName.value
    } (${bangdongSoloEdit6inchCompositions.join(', ')})`
  }
  if (GuabaoSoloEditCompositions.length > 0) {
    row.Main += `${
      GuabaoSoloName.value
    } (${GuabaoSoloEditCompositions.join(', ')})`
  }

  // if (bangdongSoloEdit3inchCompositions.length > 0) {
  //   if (bangdongSoloEdit3inchCompositions.length > 0) {
  //     row.Main += ", ";
  //   }
  //   row.Main += `${
  //     bangdongSolo3inchName.value
  //   }  (${bangdongSoloEdit3inchCompositions.join(", ")})`;
  // }
  // 儲存推入飲料置入 table
  for (const bangdongSoloEditDrink of bangdongSoloEditDrinks) {
    if (bangdongSoloEditDrink.quantity > 0) {
      if (row.drinks !== '') {
        row.drinks += ','
      }
      row.drinks +=
        bangdongSoloEditDrink.name +
        'x' +
        parseInt(bangdongSoloEditDrink.quantity).toString() +
        '<br>'
      // 保留飲料名稱、ID
      const productInput = {
        productTypeName: bangdongSoloDrinkName.value,
        productTypeId: bangdongSoloDrinkId.value,
        productType: 'options_with_qty',
        type: 7
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloEditDrink.id,
        name: bangdongSoloEditDrink.name,
        price: bangdongSoloEditDrink.price,
        value: parseInt(bangdongSoloEditDrink.quantity),
        type: 7
      }
      row.inputs.push(input)
      bangdongSoloEditDrink.quantity = 0
    }
  }
  // 儲存推入配菜置入 table
  const bangdongSoloEditSideDishCompositions = []
  for (const bangdongSoloEditSideDish of bangdongSoloEditSideDishes) {
    if (bangdongSoloEditSideDish.quantity > 0) {
      const bangdongSoloEditSideDishComposition = `${bangdongSoloEditSideDish.name} x${bangdongSoloEditSideDish.quantity}`
      bangdongSoloEditSideDishCompositions.push(
        bangdongSoloEditSideDishComposition
      )
      // 保留配菜名稱、ID
      const productInput = {
        productTypeName: bangdongSoloSideDishName.value,
        productTypeId: bangdongSoloSideDishId.value,
        productType: 'options_with_qty',
        type: 8
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloEditSideDish.id,
        name: bangdongSoloEditSideDish.name,
        price: bangdongSoloEditSideDish.price,
        value: parseInt(bangdongSoloEditSideDish.quantity),
        is_default: bangdongSoloEditSideDish.is_default,
        type: 8
      }
      row.inputs.push(input)
      row.Main += `${bangdongSoloEditSideDishCompositions.join(', ')})`
      bangdongSoloEditSideDish.quantity = 0
    }
  }
  // 儲存推入副主餐置入 table
  const bangdongSoloEditBentoMainCompositions = []
  for (const bangdongSoloEditBentoMain of bangdongSoloEditBentoMains) {
    if (bangdongSoloEditBentoMain.quantity > 0) {
      const bangdongSoloEditBentoMainComposition = `${bangdongSoloEditBentoMain.name} x${bangdongSoloEditBentoMain.quantity}`
      bangdongSoloEditBentoMainCompositions.push(
        bangdongSoloEditBentoMainComposition
      )
      // 保留副主餐名稱、ID
      const productInput = {
        productTypeName: bangdongSoloBentoMainName.value,
        productTypeId: bangdongSoloBentoMainId.value,
        productType: 'options_with_qty',
        type: 9
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloEditBentoMain.id,
        name: bangdongSoloEditBentoMain.name,
        price: bangdongSoloEditBentoMain.price,
        value: parseInt(bangdongSoloEditBentoMain.quantity),
        type: 9
      }
      row.inputs.push(input)

      bangdongSoloEditBentoMain.quantity = 0
    }
  }

  if (bangdongSoloEditSideDishCompositions.length > 0) {
    row.Main += `配菜 (${bangdongSoloEditSideDishCompositions.join(', ')})`
  }

  if (bangdongSoloEditBentoMainCompositions.length > 0) {
    if (bangdongSoloEditSideDishCompositions.length > 0) {
      row.Main += ', '
    }
    row.Main += `副主餐 (${bangdongSoloEditBentoMainCompositions.join(', ')})`
  }
  row.name = bangdongSoloEditName.value + totalQuantity + '份'
  checkVegetable(row)
  // 購物袋
  const ecoBagCompositions = []
  for (const bangdongSoloEditEcoBag of bangdongSoloEditEcoBags) {
    if (bangdongSoloEditEcoBag.quantity > 0) {
      const ecoBagComposition = `${bangdongSoloEditEcoBag.name} x${bangdongSoloEditEcoBag.quantity}`
      ecoBagCompositions.push(ecoBagComposition)
      // 保留購物袋名稱、ID
      const productInput = {
        productTypeName: bangdongSoloEcoBagName.value,
        productTypeId: bangdongSoloEcoBagId.value,
        productType: 'options_with_qty',
        type: 0
      }
      row.productInputs.push(productInput)
      const input = {
        id: bangdongSoloEditEcoBag.id,
        name: bangdongSoloEditEcoBag.name,
        price: bangdongSoloEditEcoBag.price,
        value: parseInt(bangdongSoloEditEcoBag.quantity),
        type: 0
      }
      row.inputs.push(input)
      bangdongSoloEditEcoBag.quantity = 0
    }
  }

  if (ecoBagCompositions.length > 0) {
    row.name += ` (${ecoBagCompositions.join(', ')})`
  }
  const productInput = {
    id: bangdongSoloProductId.value,
    name: bangdongSoloName.value,
    value: parseInt(totalQuantity),
    optionPrice: row.optionPrice,
    totalPrice: row.totalPrice,
    finaltotalPrice: row.price,
    price: 0,
    comment: bangdongSoloComment.value
  }
  console.log(productInput)
  row.productInputs.push(productInput)
  // 將這個 row 推進 tableRows 中
  const rowIndex = tableRows.findIndex((r) => r === editingRow)
  if (rowIndex !== -1) {
    tableRows.splice(rowIndex, 1, row) // 在移除元素的同時插入新元素
  }
  editDialog10.value = false
}
// -------------------------------------------------------------------------

// 盒餐開關
const showlunchBox = ref(false)
// 是否已經抓取過資料的狀態變數
const isLunchBox1Loaded = ref(false)
const isLunchBox2Loaded = ref(false)
const isLunchBox3Loaded = ref(false)
const isLunchBox4Loaded = ref(false)
const isLunchBox214Loaded = ref(false)

const loadlunchboxall = () => {
  if (!isLunchBox1Loaded.value) {
    loadLunchBox1()
    loadLunchBox1Edit()
    isLunchBox1Loaded.value = true
  }
  if (!isLunchBox2Loaded.value) {
    loadLunchBox2()
    loadLunchBox2Edit()
    isLunchBox2Loaded.value = true
  }
  if (!isLunchBox3Loaded.value) {
    loadLunchBox3()
    loadLunchBox3Edit()
    isLunchBox3Loaded.value = true
  }
  if (!isLunchBox4Loaded.value) {
    loadLunchBox4()
    loadLunchBox4Edit()
    isLunchBox4Loaded.value = true
  }
  if (!isLunchBox214Loaded.value) {
    loadLunchBox214()
    loadLunchBox214Edit()
    isLunchBox214Loaded.value = true
  }
}

const openlunchBox = () => {
  showlunchBox.value = true
  loadlunchboxall()
}
const showlunchBox1 = ref(false)
const showlunchBox2 = ref(false)
const showlunchBox3 = ref(false)
const showlunchBox4 = ref(false)
const showlunchBox214 = ref(false)
const showbangdong1 = ref(false)
const showbangdong2 = ref(false)
const showbangdong3 = ref(false)
const showbangdong4 = ref(false)
const showbangdong5 = ref(false)
const showbangdong6 = ref(false)
const showbangdongSalmon = ref(false)
const showbangdongVegetarian1 = ref(false)
const showbangdongVegetarian2 = ref(false)

const showGuabaoLunchbox2 = ref(false)
const showGuabaoLunchbox3 = ref(false)
const showGuabaoLunchbox4 = ref(false)

const showGuabaoBangdong1 = ref(false)
const showGuabaoBangdong2 = ref(false)
const showGuabaoBangdong3 = ref(false)
const showGuabaoBangdong4 = ref(false)
const showGuabaoBangdong5 = ref(false)
const showGuabaoBangdong6 = ref(false)
const showGuabaoBangdongSalmon = ref(false)
const showGuabaoBangdongVegetarian1 = ref(false)
const showGuabaoBangdongVegetarian2 = ref(false)
const showRiceBox1 = ref(false)
const showRiceBox2 = ref(false)
const showRiceBox3 = ref(false)
const showRiceBox4 = ref(false)
const showRiceBox5 = ref(false)
const showRiceBox6 = ref(false)
const showRiceBox7 = ref(false)
const showRiceBox8 = ref(false)
// 單點開關
const showbangdongSolo = ref(false)

const isBangdongSoloLoaded = ref(false)

const opensolo = () => {
  showbangdongSolo.value = true
  loadBangdongSoloAll()
}
const openCustom = () => {
  showCustom.value = true
}
const loadBangdongSoloAll = () => {
  if (!isBangdongSoloLoaded.value) {
    loadBangdongSolo()
    loadBangdongSoloEdit()
    isBangdongSoloLoaded.value = true
  }
}
// 客製便當開關
const showCustom = ref(false)
const showbangdongCustom1 = ref(false)

const isBangdongCustom1Loaded = ref(false)

const openCustomBangdong = () => {
  showbangdongCustom1.value = true
  showCustom.value = false
  loadCustomBangdongAll()
}
const loadCustomBangdongAll = () => {
  if (!isBangdongCustom1Loaded.value) {
    loadBangdongCustom1()
    loadBangdongCustom1Edit()
    isBangdongCustom1Loaded.value = true
  }
}
// 客製油飯開關

const showriceBoxCustom1 = ref(false)

const isRiceBoxCustom1Loaded = ref(false)

const openCustomRiceBox = () => {
  showriceBoxCustom1.value = true
  showCustom.value = false
  loadCustomRiceBoxAll()
}
const loadCustomRiceBoxAll = () => {
  if (!isRiceBoxCustom1Loaded.value) {
    loadRiceBoxCustom1()
    loadRiceBoxCustom1Edit()
    isRiceBoxCustom1Loaded.value = true
  }
}
// 客製刈包便當開關
const showGuabaoCustom1 = ref(false)

const isGuabaoCustom1Loaded = ref(false)

const openCustomGuabaoBangdong = () => {
  showGuabaoCustom1.value = true
  showCustom.value = false
  loadCustomGuabaoAll()
}
const loadCustomGuabaoAll = () => {
  if (!isGuabaoCustom1Loaded.value) {
    loadGuabaoCustom1()
    loadGuabaoCustom1Edit()
    isGuabaoCustom1Loaded.value = true
  }
}
// 客製餐盒開關
const showLunchBoxCustom1 = ref(false)

const isLunchBoxCustom1Loaded = ref(false)
const openCustomLunchBox = () => {
  showLunchBoxCustom1.value = true
  showCustom.value = false
  loadCustomlunchboxAll()
}
const loadCustomlunchboxAll = () => {
  if (!isLunchBoxCustom1Loaded.value) {
    loadLunchBoxCustom1()
    loadLunchBoxCustom1Edit()
    isLunchBoxCustom1Loaded.value = true
  }
}
// 客製刈包餐盒開關
const showGuabaoCustom2 = ref(false)

const isGuabaoCustom2Loaded = ref(false)
const openCustomGuabaoLunchbox = () => {
  showGuabaoCustom2.value = true
  showCustom.value = false
  loadCustomGuabaoAll2()
}
const loadCustomGuabaoAll2 = () => {
  if (!isGuabaoCustom2Loaded.value) {
    loadGuabaoCustom2()
    loadGuabaoCustom2Edit()
    isGuabaoCustom2Loaded.value = true
  }
}
const isSubmitting = ref(false)
// 添加新訂單
const alreadyCheck = () => {
  confirm.value = true
}
const addOrderFirst = async () => {
  personForm.orderStatu = 'Pending'
  await addOrder()
  showPersonDialog.value = false
}

const addOrder = async () => {
  confirm.value = false
  showPersonDialog.value = false
  if (personForm.orderStatu === '請選擇') {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇訂單狀態'
    })
    return
  }
  const cleanPhoneNumber = personForm.tel.replace(/-/g, '')
  if (!validatePhoneNumber(cleanPhoneNumber)) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請填寫有效的訂購人手機號碼'
    })
    return
  }
  if (paymentMethod.value === '') {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇付款方式'
    })
    return
  }

  if (paymentMethod.value !== 'cash' && !getMoneyDate.value) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請輸入預計付款日'
    })
    return
  }

  const findAddress = async () => {
    let state = address.state.find(
      (address) => address.label === personForm.address
    )
    if (state === undefined) {
      state = address.state.find(
        (address) => address.value === personForm.address
      )
    }
    if (state !== undefined) {
      personForm.address = state.value
    }
    if (state === undefined) {
      personForm.address = ''
    }
  }
  const findCity = async (val) => {
    await address.getcity(val) //
    if (personForm.address2) {
      // 使用 Array.find 尋找匹配的城市，並確保有 return 語句
      let city = address.city.find(
        (address) => address.label === personForm.address2
      )
      // 如果未找到，則使用 value 進行第二次尋找
      if (city === undefined) {
        city = address.city.find(
          (address) => address.value === personForm.address2
        )
      }
      // 檢查是否找到匹配的項目
      if (city !== undefined) {
        personForm.address2 = city.value
      }
      if (city === undefined) {
        personForm.address2 = ''
      }
    }
  }
  console.log(personForm.event)
  if (personForm.address) {
    await findAddress()
  }
  if (personForm.address2) {
    await findCity(personForm.address)
  }
  isSubmitting.value = true
  try {
    const formData = new FormData()

    if (personForm.pick === '自取') {
      personForm.road = '自取'
    }
    if (personForm.prefix == null) {
      personForm.prefix = ''
    }
    if (personForm.hometel2 == null) {
      personForm.hometel2 = ''
    }
    if (personForm.hometel == null) {
      personForm.hometel = ''
    }

    const locationIdValue = computed(() => {
      if (personForm.locationId === '重慶南') {
        return 1
      } else if (personForm.locationId === '和平') {
        return 2
      } else {
        return 1
      }
    })
    if (paymentMethod.value === 'cash') {
      getMoneyDate.value = ''
    }

    const memberId = personForm.memberId || ''
    await generateAddress()
    // 添加基本的訂單信息
    formData.append('order_id', '') // 訂單編號
    formData.append('customer_id', memberId) // 訂購人編號
    formData.append('source', personForm.source)
    formData.append('order_date', personForm.checkDate) // 訂購日期
    formData.append('shipping_method', personForm.pick) // 取貨方式
    formData.append('delivery_date_ymd', personForm.getDate) // 送達日
    formData.append('delivery_date_hi', personForm.delivery_date_hi) // 送達時間
    formData.append('delivery_time_range', personForm.time) // 送達時間範圍
    formData.append('shipping_road_abbr', personForm.road) // 送達路段
    formData.append('personal_name', personForm.name) // 訂購人姓名
    formData.append('salutation_id', personForm.gender) // 稱謂 (即性別，先生 / 小姐)
    formData.append('shipping_salutation_id', personForm.gender2) // 稱謂 (即性別，先生 / 小姐)
    formData.append('mobile', personForm.tel) // 訂購人手機
    formData.append('telephone_prefix', personForm.prefix) // 區碼
    formData.append(
      'telephone',
      personForm.hometel + '#' + personForm.hometel2
    ) // 訂購人電話
    formData.append('payment_company', personForm.getCompany) // 訂購公司
    formData.append('payment_department', personForm.department) // 訂購公司部門
    formData.append('payment_tin', personForm.compilation) // 統一編號
    formData.append('is_payment_tin', personForm.noCompilation ? 1 : 0) // 是否需要統編
    formData.append('payment_method', paymentMethod.value) //  付款方式
    formData.append('scheduled_payment_date', getMoneyDate.value) // 付款日期
    formData.append('payment_total', total.value) //  總金額
    formData.append('payment_paid', paid.value) //  付款金額
    formData.append('payment_unpaid', unpaid.value) //  未付餘額
    formData.append('order_tags', personForm.event) //  訂單標籤
    formData.append('shipping_personal_name', personForm.recipient) //  personForm.recipient
    formData.append('shipping_personal_name2', personForm.recipient2)
    formData.append('shipping_state_id', personForm.address || '') //  縣市代號
    formData.append('shipping_city_id', personForm.address2 || '') //  鄉鎮市區代號
    formData.append('shipping_road', personForm.road || '') //  送達地址
    formData.append('shipping_address1', personForm.road2 || '') //  送達地址
    formData.append('shipping_company', personForm.getCompany) //  收件公司
    formData.append('shipping_phone', personForm.recipientTel) //  收件人電話
    formData.append('shipping_phone2', personForm.recipientTel2)
    formData.append('comment', personForm.remark) //  客戶備註
    formData.append('extra_comment', mealRemark.value) //  餐點備註
    formData.append('internal_comment', internalRemark.value) //  內部備註
    // formData.append("status_id", personForm.orderStatu); // 設定訂單狀態
    formData.append('status_code', personForm.orderStatu) // 設定訂單狀態
    formData.append('location_id', locationIdValue.value) // 設定訂單狀態
    // formData.append("shipping_road_abbr",personForm.road)
    formData.append('order_totals[sub_total][title]', '商品合計') // 商品合計
    formData.append('order_totals[sub_total][value]', productPrice.value)
    // formData.append('order_totals[sub_total][sort_order]', 1)
    formData.append('order_totals[discount][title]', '優惠折扣') // 優惠折扣
    formData.append('order_totals[discount][value]', discount.value)
    // formData.append('order_totals[discount][sort_order]', 2)
    formData.append('order_totals[shipping_fee][title]', '運費') // 運費
    formData.append('order_totals[shipping_fee][value]', freight.value)
    // formData.append('order_totals[shipping_fee][sort_order]', 3)
    formData.append('order_totals[total][title]', '總計') // 總計
    formData.append('order_totals[total][value]', total.value)
    // formData.append('order_totals[total ][sort_order]', 4)

    // 添加訂單產品
    for (const row of tableRows) {
      for (const productInput of row.productInputs) {
        if (Object.prototype.hasOwnProperty.call(productInput, 'name')) {
          formData.append(
            `order_products[${row.id}][main_category_code]`,
            meal.getCategoryCode(productInput.name)
          )
          formData.append(
            `order_products[${row.id}][product_id]`,
            productInput.id
          )
          formData.append(`order_products[${row.id}][name]`, productInput.name)
          formData.append(
            `order_products[${row.id}][quantity]`,
            productInput.value
          )
          formData.append(
            `order_products[${row.id}][price]`,
            productInput.price
          )
          formData.append(
            `order_products[${row.id}][total]`,
            productInput.totalPrice
          )
          formData.append(
            `order_products[${row.id}][final_total]`,
            productInput.finaltotalPrice
          )
          formData.append(
            `order_products[${row.id}][options_total]`,
            productInput.optionPrice
          )
          formData.append(
            `order_products[${row.id}][comment]`,
            productInput.comment
          )
        }
      }

      let productOptionIndex = 1
      for (const productInput of row.productInputs) {
        if (
          typeof productInput.productTypeId !== 'undefined' &&
          typeof productInput.productType !== 'undefined' &&
          typeof productInput.productTypeName !== 'undefined'
        ) {
          formData.append(
            `order_products[${row.id}][product_options][${productOptionIndex}][product_option_id]`,
            productInput.productTypeId
          )
          formData.append(
            `order_products[${row.id}][product_options][${productOptionIndex}][type]`,
            productInput.productType
          )
          formData.append(
            `order_products[${row.id}][product_options][${productOptionIndex}][name]`,
            productInput.productTypeName
          )

          let productOptionValueIndex = 1
          for (const input of row.inputs) {
            if (
              input.mainId === productInput.mainId &&
              input.type === productInput.type
            ) {
              if (!input.name.includes('任意搭配')) {
                if (input.name !== 'Arbitrarily') {
                  formData.append(
                    `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][product_option_value_id]`,
                    input.id
                  )
                  formData.append(
                    `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][value]`,
                    input.name
                  )
                  formData.append(
                    `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][quantity]`,
                    input.value
                  )
                  if (input.mainId) {
                    formData.append(
                      `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][parent_povid]`,
                      input.mainId
                    )
                  }

                  productOptionValueIndex++
                }
              }
            }
          }
          productOptionIndex++
        }
      }
    }

    // 發送訂單到 API
    const response = await apiAuth.post('sale/order/save', formData)
    if (!response.data.success) {
      $q.notify({
        color: 'red-4',
        position: 'center',
        message: response.data.error
      })
    } else {
      $q.notify({
        color: 'accent',
        textColor: 'white',
        position: 'center',
        message: response.data.success + '訂單編號 : ' + response.data.code
      })
    }
    // 清空 tableRows
    tableRows.splice(0, tableRows.length)
    onReset()
    getMoneyDate.value = ''
    paid.value = 0
    freight.value = 0
    discount.value = 0
    mealRemark.value = ''
    router.push('/search')
  } catch (error) {
    console.error(error)
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: 'An error occurred: ' + error.message
    })
  } finally {
    isSubmitting.value = false
  }
}

// 編輯訂單
const editOrder = async () => {
  confirm.value = false

  // const cleanPhoneNumber = personForm.tel.replace(/-/g, '')
  // console.log('電話號碼', personForm.tel)
  // console.log('去掉之後', cleanPhoneNumber)
  if (personForm.orderStatu === '請選擇') {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇訂單狀態'
    })
    return
  }
  if (tableRows.length === 0) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'warning',
      position: 'center',
      message: '還沒點餐唷，請先加入餐點'
    })
    return
  }
  if (paymentMethod.value === '') {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '請選擇付款方式'
    })
    return
  }
  if (meal.order.is_payed_off) {
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: '已付款訂單，不可修改'
    })
    return
  }
  // if (!validatePhoneNumber(cleanPhoneNumber)) {
  //   $q.notify({
  //     color: 'red-4',
  //     textColor: 'white',
  //     icon: 'error',
  //     position: 'center',
  //     message: '請填寫有效的訂購人手機號碼'
  //   })
  //   return
  // }
  if (isSubmitting.value) {
    return
  }

  isSubmitting.value = true
  try {
    // 導入資料縣市
    console.log(meal.order.shipping_state_id, meal.order.shipping_city_id)
    if (isNaN(meal.order.shipping_city_id)) {
      let city = address.city.find(
        (c) => c.label === meal.order.shipping_city_id
      )
      if (city === undefined) {
        city = address.city.find(
          (c) => c.value === meal.order.shipping_city_id
        )
      }
      meal.order.shipping_city_id = city.value
    }
    console.log(meal.order.shipping_state_id, meal.order.shipping_city_id)
    const formData = new FormData()

    if (paymentMethod.value === 'cash') {
      getMoneyDate.value = ''
    }
    console.log('這是order', meal.order)
    // 添加基本的訂單信息
    formData.append('order_id', meal.order.id) // 訂單編號
    formData.append('customer_id', meal.order.customer_id) // 訂購人編號
    formData.append('order_date', meal.order.order_date) // 訂購日期
    formData.append('source', meal.order.source) // 訂購日期
    formData.append('shipping_method', meal.order.shipping_method) // 取貨方式
    formData.append('delivery_date_ymd', meal.order.delivery_date_ymd) // 送達日
    formData.append('delivery_date_hi', meal.order.delivery_date_hi) // 送達時間
    formData.append('delivery_time_range', meal.order.delivery_time_range) // 送達時間範圍
    formData.append('shipping_road_abbr', meal.order.shipping_road_abbr) // 送達路段
    formData.append('personal_name', meal.order.personal_name) // 訂購人姓名
    // formData.append('salutation_id', meal.order.salutation_id) // 稱謂 (即性別，先生 / 小姐)
    // formData.append('shipping_salutation_id', meal.order.salutation_id) // 稱謂 (即性別，先生 / 小姐)
    formData.append('mobile', meal.order.mobile) // 訂購人手機
    formData.append('telephone_prefix', meal.order.telephone_prefix) // 區碼
    formData.append('telephone', meal.order.telephone) // 訂購人電話
    formData.append('payment_company', meal.order.payment_company) // 訂購公司
    formData.append('payment_department', meal.order.payment_department) // 訂購公司部門
    formData.append('payment_tin', meal.order.payment_tin) // 統一編號
    formData.append('is_payment_tin', meal.order.is_payment_tin) // 是否需要統編
    formData.append('payment_method', paymentMethod.value) //  付款方式
    formData.append('scheduled_payment_date', getMoneyDate.value) // 付款日期
    formData.append('payment_total', total.value) //  總金額
    formData.append('payment_paid', meal.order.payment_paid) //  付款金額
    formData.append('payment_unpaid', meal.order.payment_unpaid) //  未付餘額
    formData.append('order_tags', meal.order.order_tags) //  訂單標籤
    formData.append('shipping_personal_name', meal.order.shipping_personal_name) //  personForm.recipient
    formData.append('shipping_personal_name2', meal.order.shipping_personal_name2) //  personForm.recipient
    formData.append('shipping_state_id', meal.order.shipping_state_id) //  縣市代號
    formData.append('shipping_city_id', meal.order.shipping_city_id) //  鄉鎮市區代號
    formData.append('shipping_road', meal.order.shipping_road) //  送達地址
    formData.append('shipping_address1', meal.order.shipping_address1) //  送達地址
    formData.append('payment_company', meal.order.payment_company) //  收件公司
    formData.append('shipping_phone', meal.order.shipping_phone) //  收件人電話
    formData.append('shipping_phone2', meal.order.shipping_phone2) //  收件人2電話
    formData.append('comment', meal.order.comment) //  客戶備註
    formData.append('extra_comment', meal.order.extra_comment) //  餐點備註
    formData.append('internal_comment', meal.order.internal_comment) //  內部備註
    formData.append('shipping_comment', meal.order.shipping_comment) //  送達備註
    // formData.append("status_id", personForm.orderStatu); // 設定訂單狀態
    formData.append('status_code', personForm.orderStatu) // 設定訂單狀態
    formData.append('location_id', meal.order.location_id) // 設定訂單狀態
    formData.append('order_totals[sub_total][title]', '商品合計') // 商品合計
    formData.append('order_totals[sub_total][value]', productPrice.value)
    formData.append('order_totals[discount][title]', '優惠折扣') // 優惠折扣
    formData.append('order_totals[discount][value]', discount.value)
    formData.append('order_totals[shipping_fee][title]', '運費') // 運費
    formData.append('order_totals[shipping_fee][value]', freight.value)
    formData.append('order_totals[total][title]', '總計') // 總計
    formData.append('order_totals[total][value]', total.value)

    // 添加訂單產品
    for (const row of tableRows) {
      for (const productInput of row.productInputs) {
        if (Object.prototype.hasOwnProperty.call(productInput, 'name')) {
          formData.append(
            `order_products[${row.id}][main_category_code]`,
            meal.getCategoryCode(productInput.name)
          )
          formData.append(
            `order_products[${row.id}][product_id]`,
            productInput.id
          )
          formData.append(`order_products[${row.id}][name]`, productInput.name)
          formData.append(
            `order_products[${row.id}][quantity]`,
            productInput.value
          )
          formData.append(
            `order_products[${row.id}][price]`,
            productInput.price
          )
          formData.append(
            `order_products[${row.id}][total]`,
            productInput.totalPrice
          )
          formData.append(
            `order_products[${row.id}][final_total]`,
            productInput.finaltotalPrice
          )
          formData.append(
            `order_products[${row.id}][options_total]`,
            productInput.optionPrice
          )
          formData.append(
            `order_products[${row.id}][comment]`,
            productInput.comment
          )
        }
      }

      let productOptionIndex = 1
      for (const productInput of row.productInputs) {
        if (
          typeof productInput.productTypeId !== 'undefined' &&
          typeof productInput.productType !== 'undefined' &&
          typeof productInput.productTypeName !== 'undefined'
        ) {
          formData.append(
            `order_products[${row.id}][product_options][${productOptionIndex}][product_option_id]`,
            productInput.productTypeId
          )
          formData.append(
            `order_products[${row.id}][product_options][${productOptionIndex}][type]`,
            productInput.productType
          )
          formData.append(
            `order_products[${row.id}][product_options][${productOptionIndex}][name]`,
            productInput.productTypeName
          )

          let productOptionValueIndex = 1
          for (const input of row.inputs) {
            if (
              input.mainId === productInput.mainId &&
              input.type === productInput.type
            ) {
              if (!input.name.includes('任意搭配')) {
                if (input.name !== 'Arbitrarily') {
                  formData.append(
                    `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][product_option_value_id]`,
                    input.id
                  )
                  formData.append(
                    `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][value]`,
                    input.name
                  )
                  formData.append(
                    `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][quantity]`,
                    input.value
                  )
                  if (input.mainId) {
                    formData.append(
                      `order_products[${row.id}][product_options][${productOptionIndex}][product_option_values][${productOptionValueIndex}][parent_povid]`,
                      input.mainId
                    )
                  }

                  productOptionValueIndex++
                }
              }
            }
          }
          productOptionIndex++
        }
      }
    }

    // 發送訂單到 API
    const response = await apiAuth.post('sale/order/save', formData)
    if (!response.data.success) {
      $q.notify({
        color: 'red-4',
        textColor: 'white',
        position: 'center',
        message: response.data.error
      })
    } else {
      $q.notify({
        color: 'accent',
        textColor: 'white',
        position: 'center',
        message: response.data.success + '訂單編號 : ' + response.data.code
      })
    }
    // 清空 tableRows
    tableRows.splice(0, tableRows.length)
    onReset()
    getMoneyDate.value = ''
    paid.value = 0
    freight.value = 0
    discount.value = 0
    mealRemark.value = ''
  } catch (error) {
    console.error(error)
    $q.notify({
      color: 'red-4',
      textColor: 'white',
      icon: 'error',
      position: 'center',
      message: 'An error occurred: ' + error.message
    })
  } finally {
    isSubmitting.value = false
    meal.order = []
    meal.id = ''
    meal.orderdetails = []
  }
}

// q-date-------------------------------------
const showDatePicker = ref(false)

const showDatePicker2 = ref(false)
watch(
  () => personForm.checkDate,
  (newDate, oldDate) => {
    showDatePicker2.value = false
  }
)

// ---------------------------------------------------
if (meal.shouldEdit === true) {
  for (let i = 0; i < meal.tableRows.length; i++) {
    tableRows.push(meal.tableRows[i])
  }
  console.log(tableRows)
  personForm.orderStatu = meal.status_id
  personForm.source = meal.order.source
  console.log(meal.order.source)
  paymentMethod.value = meal.order.payment_method
  paid.value = parseInt(meal.order.payment_paid)

  // freight.value=meal.order.shipping_fee
  meal.tableRows = []
  meal.shouldEdit = false
  console.log('12313', meal?.order.scheduled_payment_date)
  freight.value = meal?.order.totals?.[2]?.value || 0
  discount.value = meal?.order.totals?.[1]?.value || 0
  getMoneyDate.value = meal?.order.scheduled_payment_date || ''
}
// --------------------------------------------------road
const dialogRoad = ref(false)
const ITEMS_PER_PAGE = 55
const searchTerm = ref('')
const currentPage = ref(1)
const roads = computed(() => {
  const start = (currentPage.value - 1) * ITEMS_PER_PAGE
  const end = start + ITEMS_PER_PAGE
  return road.roads
    .filter((road) => road.value.includes(searchTerm.value))
    .slice(start, end)
})
const totalPages = computed(() =>
  Math.ceil(road.roads.length / ITEMS_PER_PAGE)
)

const copyroad = (val) => {
  personForm.address2 = val.split('_')[0]
  personForm.road = val.split('_')[1]
  dialogRoad.value = false
}
const opendialogRoad = async (val, val2, val3) => {
  // console.log(val3);
  if (!val3) {
    await road.getRoad(val, val2)
  } else {
    await road.getRoadFull(val, val2, val3)
  }
  dialogRoad.value = true
}

if (meal.notsavemeals === true) {
  editOrder()
  meal.notsavemeals = false
  meal.id = ''
  meal.order = []
  meal.orderdetails = []
}
// --------------------
const onItemClick = (val, val2) => {
  console.log('Clicked on an Item')
  personForm.road = val
  personForm.address2 = val2.split('_')[0]
  menuState.value = false
}

const uberCustomer = async () => {
  if (tag.uberCustomer) {
    personForm.pick = '自取'
    personForm.name = '門市客'
    personForm.tel = '0900000000'
    personForm.getDate = today
    personForm.time = '12:00'
    personForm.sameOrderCustomer = true
    setTimeout(async () => {
      await memerSave()
    }, 2550)
    tag.uberCustomer = false
  }
}
uberCustomer()
watch(
  () => personForm.prefix,
  (newval, oldval) => {
    if (newval === '02' || newval === '03') {
      hometelRef.value.focus()
    }
  }
)
onBeforeRouteLeave((to, from, next) => {
  // 檢查 tableRows 是否為空
  if (tableRows.length > 0) {
    const answer = window.confirm('確定離開嗎？')
    if (answer) {
      next()
    } else {
      next(false)
    }
  } else {
    next()
  }
})
</script>

<style lang="scss" scoped>
@import "../../css/order.scss";
</style>
